<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Weather data - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Weather_data","wgTitle":"Weather data","wgCurRevisionId":183484,"wgRevisionId":183484,"wgArticleId":6647,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Weather_data","wgRelevantArticleId":6647,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={
"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="mediawiki/loadfce7.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="mediawiki/loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="mediawiki/load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="description" content="← Index"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="mediawiki/api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="mediawiki/api-result251f.xml?action=rsd"/>
<link rel="license" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html"/>
<meta property="og:title" content="Modding:Weather data - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Weather_data"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Weather data - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Weather data - Stardew Valley Wiki","headline":"Modding:Weather data - Stardew Valley Wiki","mainEntityOfPage":"Modding:Weather data","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Weather_data","url":"https:\/\/stardewvalleywiki.com\/Modding:Weather_data","description":"\u2190 Index","dateModified":"2025-01-10T23:45:38Z","datePublished":"2025-01-10T23:45:38Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Weather_data rootpage-Modding_Weather_data stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="Stardew_Valley_Wiki.html" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="Dried_Starfish.html#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="mediawiki/indexd391.html?title=Special:UserLogin&amp;returnto=Modding%3AWeather+data" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="mediawiki/index973d-2.html?title=Special:MobileOptions&amp;returnto=Modding%3AWeather+data" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="Stardew_Valley_Wiki_About.html" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="Stardew_Valley_Wiki_General_disclaimer.html" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="Stardew_Valley_Wiki.html">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Weather data</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="Special_MobileLanguages/Modding_Weather_data.html" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="mediawiki/indexd391.html?title=Special:UserLogin&amp;returnto=Modding%3AWeather+data" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="mediawiki/indexe29f.html?title=Modding:Weather_data&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><p>← <a href="Modding_Index.html" title="Modding:Index">Index</a>
</p><p>This page documents how the game generates <a href="Weather.html" title="Weather">weather</a> in the game.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Data"><span class="tocnumber">1</span> <span class="toctext">Data</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Algorithm"><span class="tocnumber">2</span> <span class="toctext">Algorithm</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Forced_weather"><span class="tocnumber">2.1</span> <span class="toctext">Forced weather</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Generated_weather"><span class="tocnumber">2.2</span> <span class="toctext">Generated weather</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#TV_Channel"><span class="tocnumber">2.3</span> <span class="toctext">TV Channel</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Weather_Icon"><span class="tocnumber">2.4</span> <span class="toctext">Weather Icon</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Rain_Totem"><span class="tocnumber">2.5</span> <span class="toctext">Rain Totem</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Weather_probability_by_type"><span class="tocnumber">3</span> <span class="toctext">Weather probability by type</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Sunny"><span class="tocnumber">3.1</span> <span class="toctext">Sunny</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Rainy"><span class="tocnumber">3.2</span> <span class="toctext">Rainy</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Debris"><span class="tocnumber">3.3</span> <span class="toctext">Debris</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Stormy"><span class="tocnumber">3.4</span> <span class="toctext">Stormy</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Snowy"><span class="tocnumber">3.5</span> <span class="toctext">Snowy</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Save_files"><span class="tocnumber">4</span> <span class="toctext">Save files</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Notes.2FFAQ"><span class="tocnumber">5</span> <span class="toctext">Notes/FAQ</span></a></li>
</ul>
</div>

</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Data">Data</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<p>The weather is controlled by the string field <samp>Game1::weatherForTomorrow</samp>. The possible values are:
</p>
<table class="wikitable">

<tbody><tr>
<th>value
</th>
<th>constant
</th>
<th>weather
</th></tr>
<tr>
<td><samp>Sun</samp>
</td>
<td><samp>weather_sunny</samp>
</td>
<td>sunny
</td></tr>
<tr>
<td><samp>Rain</samp>
</td>
<td><samp>weather_rain</samp>
</td>
<td>rain
</td></tr>
<tr>
<td><samp>GreenRain</samp>
</td>
<td><samp>weather_green_rain</samp>
</td>
<td>green rain
</td></tr>
<tr>
<td><samp>Wind</samp>
</td>
<td><samp>weather_debris</samp>
</td>
<td>windy
</td></tr>
<tr>
<td><samp>Storm</samp>
</td>
<td><samp>weather_lightning</samp>
</td>
<td>lightning
</td></tr>
<tr>
<td><samp>Festival</samp>
</td>
<td><samp>weather_festival</samp>
</td>
<td>festival
</td></tr>
<tr>
<td><samp>Snow</samp>
</td>
<td><samp>weather_snow</samp>
</td>
<td>snow
</td></tr>
<tr>
<td><samp>Wedding</samp>
</td>
<td><samp>weather_wedding</samp>
</td>
<td>wedding
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Algorithm">Algorithm</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<p>You can now change the weather algorithm by editing <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_location_contexts" title="Modding:Migrate to Stardew Valley 1.6">location context data</a>, and (with a C# mod) implement custom weathers.
</p><p>Fields like <samp>Game1.weather</samp> and <samp>Game1.weatherForTomorrow</samp> are now strings to support custom mod weather IDs. The change for vanilla weather has no effect on Content Patcher packs, since the new weather IDs match the ones Content Patcher was using before (i.e. <samp>Sun</samp>, <samp>Rain</samp>, <samp>Snow</samp>, <samp>Storm</samp>, and <samp>Wind</samp>). C# mods may also see a <samp>Festival</samp> weather, while Content Patcher packs will see <samp>Sun</samp> for it. The constants like <samp>Game1.weather_sunny</samp> have the new string values (with new constants like <samp>Game1.legacy_weather_sunny</samp> for the legacy values).
</p><p>The base game will treat an invalid weather as sunny. C# mods can implement custom weather effects using <a href="Modding_Modder_Guide/APIs/Events.html" title="Modding:Modder Guide/APIs/Events">normal SMAPI events</a> like <samp>UpdateTicked</samp>, or by <a href="Modding_Modder_Guide/APIs/Harmony.html" title="Modding:Modder Guide/APIs/Harmony">patching</a> methods like <samp>Game1.ApplyWeatherForNewDay</samp> and <samp>Game1.populateDebrisWeatherArray</samp>.
</p>
<h3 class="in-block"><span class="mw-headline" id="Forced_weather">Forced weather</span></h3>
<p>Certain dates always have the same weather:
</p>
<table class="wikitable">

<tbody><tr>
<th>date
</th>
<th>weather
</th></tr>
<tr>
<td>spring 1
</td>
<td><samp>weather_sunny</samp>
</td></tr>
<tr>
<td>spring 2 (year 1)
</td>
<td><samp>weather_sunny</samp>
</td></tr>
<tr>
<td>spring 3 (year 1)
</td>
<td><samp>weather_rain</samp>
</td></tr>
<tr>
<td>spring 4 (year 1)
</td>
<td><samp>weather_sunny</samp>
</td></tr>
<tr>
<td>summer 1
</td>
<td><samp>weather_sunny</samp>
</td></tr>
<tr>
<td>summer 13
</td>
<td><samp>weather_lightning</samp>
</td></tr>
<tr>
<td>summer 26
</td>
<td><samp>weather_lightning</samp>
</td></tr>
<tr>
<td>fall 1
</td>
<td><samp>weather_sunny</samp>
</td></tr>
<tr>
<td>winter 1
</td>
<td><samp>weather_sunny</samp>
</td></tr></tbody></table>
<p>Green rain can only occur on Summer 5, 6, 7, 14, 16, 18 and 23.
</p><p>Active festivals (defined in <samp>Data/Festivals</samp>) always have the <samp>Festival</samp> weather while passive festivals (defined in <samp>Data/PassiveFestivals</samp>) always have the <samp>Sun</samp> weather.
</p>
<h3 class="in-block"><span class="mw-headline" id="Generated_weather">Generated weather</span></h3>
<p>Weather in Stardew Valley is set within the <samp>Game1::newDayAfterFade()</samp> function (after the day change code, but before SMAPI's <samp>SaveEvents.BeforeSave</samp> event).
</p><p>The game follows these steps to decide which weather and debris to set for the next day:
</p>
<ol><li>Load the possible weather for the new day for each location, which is set just after the old day started.</li>
<li>Check for <a href="#Forced_weather">forced weather</a>.</li>
<li>If today is a wedding, set the weather to <samp>Wedding</samp>.</li>
<li>Sync the <samp>WeatherForTomorrow</samp> field for each location.</li>
<li>Set <samp>Game1::wasRainingYesterday</samp> based on whether it was raining or storming.</li>
<li>Clear the debris weather array.</li>
<li>Reset all weather flags, and sets them in the following pattern
<ol><li>If it is going to rain, set the rain flag to true (this does <i>not</i> include the green rain).</li>
<li>If the weather is green rain, set the green rain flag to true.</li>
<li>If it is going to storm, set the rain and storm flags to true.</li>
<li>If it is going to be windy, set the debris flag to true.</li>
<li>If it is going to snow, set the snow flag to true,</li></ol></li>
<li>Prepare for the possible weather the day after the new day:
<ol><li>Default to <samp>Sun</samp>;</li>
<li>If the day after the new day is an active festival, set the weather to be <samp>Festival</samp> and return;</li>
<li>If the day after the new day is a passive festival, set the weather to be <samp>Sun</samp> and return;</li>
<li>Apply randomized <a href="Modding_Migrate_to_Stardew_Valley_1.html#What.27s_new_for_locations_.26_weather.23Custom_location_contexts" title="Modding:Migrate to Stardew Valley 1.6">weather conditions</a> from location contexts to get a possible weather.</li></ol></li>
<li>Prepare for the possible weather the day after the new day for those locations with <a href="Modding_Migrate_to_Stardew_Valley_1.html#What.27s_new_for_locations_.26_weather.23Custom_location_contexts" title="Modding:Migrate to Stardew Valley 1.6"><samp>CopyWeatherFromLocation</samp></a> specified (copy from source locations).</li>
<li>Sync the weather.</li>
<li>Apply all the weather flags to the valley area.</li>
<li>Populate the debris array if it is debris weather.</li>
<li>Reset (on the first day of a month) or increment the <samp>monthlyNonRainyDayCount</samp> for each location.</li>
<li>Apply the green rain response logic (<i>e.g.</i>, show global message, send a mail, etc.)</li></ol>
<p>At this point, the main function is done setting weather.
</p>
<h3 class="in-block"><span class="mw-headline" id="TV_Channel">TV Channel</span></h3>
<p>The TV will check the weather and show the following message:
</p>
<table class="wikitable">

<tbody><tr>
<th>weather
</th>
<th>message
</th></tr>
<tr>
<td><samp>Festival</samp>
</td>
<td>"It's going to be clear and sunny tomorrow... perfect weather for the Festival! The event will take place Location, starting between Time. Don't be late!"
<p>Failed to fetch the data: "Um... that's odd. My information sheet just says 'null'. This is embarrassing... "
</p>
</td></tr>
<tr>
<td><samp>Snow</samp>
</td>
<td>50% chance each:
<ul><li>"Bundle up, folks. It's going to snow tomorrow!"</li>
<li>"Expect a few inches of snow tomorrow."</li></ul>
</td></tr>
<tr>
<td><samp>Rain</samp>
</td>
<td>"It's going to rain all day tomorrow"
</td></tr>
<tr>
<td><samp>GreenRain</samp>
</td>
<td>"Um... There appears to be some kind of... anomalous reading... I... don't know what this means..."
</td></tr>
<tr>
<td><samp>Storm</samp>
</td>
<td>"Looks like a storm is approaching. Thunder and lightning is expected."
</td></tr>
<tr>
<td><samp>Wind</samp>
</td>
<td>Per condition:
<ul><li>Spring: "Partially cloudy with a light breeze. Expect lots of pollen!"</li>
<li>Fall: "It's going to be cloudy, with gusts of wind throughout the day."</li>
<li>Default: "It's going to snow all day. Make sure you bundle up, folks!"</li></ul>
</td></tr>
<tr>
<td><i>default</i>
</td>
<td>50% chance each:
<ul><li>"It's going to be clear and sunny all day."</li>
<li>"It's going to be a beautiful, sunny day tommorow!"</li></ul>
</td></tr></tbody></table>
<p><b>Note:</b> the TV will not necessarily be accurate for any other day than non festival days, the first of the month and the 3rd of spring, which are force-set by the <samp>Game1::newDayAfterFade</samp> method. Farmhands (and not host players) may not even get that accuracy for the first of the month and 3rd of spring.
</p><p><b>Note 2:</b> Passive festivals such as the Night Market are not considered to have "festival" weather. Instead, all passive festivals in the valley have "sunny" weather.
</p>
<h3 class="in-block"><span class="mw-headline" id="Weather_Icon">Weather Icon</span></h3>
<p>The weather icon is set in <samp>Game1::updateWeatherIcon</samp>, which sets an index in <samp>LooseSprite/Cursors.xnb</samp>:
</p>
<ol><li>If snowing: 7.</li>
<li>If sunny: 2.</li>
<li>If wedding: 0.</li>
<li>If festival: 1.</li>
<li>If raining: 4.</li>
<li>If stormy: 5.</li>
<li>If spring: debris weather is 3.</li>
<li>If summer: unset (defaults to sunny).</li>
<li>If fall: 6.</li>
<li>If winter: 7 (same as snowing).</li>
<li>If green rain: 999.</li></ol>
<h3 class="in-block"><span class="mw-headline" id="Rain_Totem">Rain Totem</span></h3>
<p>The rain totem (item #681) and is controlled by <samp>Object::rainTotem</samp>, which is invoked by <samp>Object::performUseAction</samp>. If tomorrow is a festival day, the item is used up but nothing happens. Otherwise, it uses up the item and sets the weather for tomorrow to <samp>weather_rain</samp> and displays the message.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(3)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Weather_probability_by_type">Weather probability by type</span></h2><section class="mf-section-3 collapsible-block" id="mf-section-3">
<p>This section explains the probability of each weather type. This only applies on dates with no <a href="#Forced_weather">forced weather</a>.
</p>
<h3 class="in-block"><span class="mw-headline" id="Sunny">Sunny</span></h3>
<p>Sunny weather covers weather variables 0, 4, and 6.
</p>
<ul><li>Spring: there's an 18.3% base chance of rain (81.7% chance remaining for other weathers). If it doesn't rain, there's an 80% chance to remain sunny (except on spring 3, which will always be rainy). That means that in spring there's a 66.4% chance of sunny weather.</li>
<li>Summer: The chance of sunny weather diminishes steadily per day from 87.4% on summer 1 to 79.9% on summer 28. The precise chance is 1 - [12% + (0.3% * day of the month)] per day, with a 0% chance on day 1.</li>
<li>Fall: identical to spring, but no forced weather.</li>
<li>Winter: there's a 63% chance of precipitation, so only a 37% chance of sunny weather.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Rainy">Rainy</span></h3>
<ul><li>Spring: there's an 18.3% base chance of rain. If it rains, there's a 25% chance of storms <i>except in year 1</i>. So the rain odds in Spring is a flat 18.3% in year 1, and 13.725% in year 2 or later. It will always rain on spring 3 (year 1).</li>
<li>Summer: the chance of rainy weather increases steadily per day from 12.6% on summer 2 to 20.1% on Summer 27. There's an 85% chance that rain becomes storms. So you have a scale of [12% + (0.3% * day of the month)] * .15 to determine your chances of rainfall.</li>
<li>Fall: same as spring, except fall in year 1 can be stormy so it's a flat 13.725% chance.</li>
<li>Winter: never rains.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Debris">Debris</span></h3>
<p>Debris weather covers weather variable 2.
</p>
<ul><li>Spring: there's a 20% chance of this after rain, so approximately 16.6% chance of debris weather.</li>
<li>Summer: no debris weather.</li>
<li>Fall: there's a 60% chance for this after rain, so approximately 49.8% chance of debris weather.</li>
<li>Winter: no debris weather.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Stormy">Stormy</span></h3>
<p>Stormy weather covers weather variable 3.
</p>
<ul><li>Spring: 4.57% chance of storms.</li>
<li>Summer: variable chance of storms; starts at 10.71% and increases to 17.085%.</li>
<li>Fall: 4.57% chance of storms.</li>
<li>Winter: no stormy weather.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Snowy">Snowy</span></h3>
<p>In winter, there's a 63% chance of snow. No other season has snow.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(4)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Save_files">Save files</span></h2><section class="mf-section-4 collapsible-block" id="mf-section-4">
<p>The save file is a snapshot of the day at 0600 the next morning. The <samp>WeatherForTommorow</samp> field was used to calculate the weather, but changing it has no effect on the weather since the weather flags have already been set by this point. To change the weather, you need to set one of these combinations of flags:
</p>
<table class="wikitable">

<tbody><tr>
<th>weather
</th>
<th><samp>isRaining</samp>
</th>
<th><samp>isDebrisWeather</samp>
</th>
<th><samp>isLightning</samp>
</th>
<th><samp>isSnowing</samp>
</th>
<th><samp>isGreenRain</samp>
</th></tr>
<tr>
<td>sunny
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>rainy
</td>
<td>☑
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>stormy
</td>
<td>☑
</td>
<td>☐
</td>
<td>☑
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>debris
</td>
<td>☐
</td>
<td>☑
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>snowy
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☑
</td>
<td>☐
</td></tr>
<tr>
<td>festival
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>wedding
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td></tr>
<tr>
<td>green rain
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☐
</td>
<td>☑
</td></tr></tbody></table>
<p><b>Note:</b> changing <samp>isDebrisWeather</samp> during an active game will not create the array. You'll need to call <samp>Game1::populateDebrisWeatherArray</samp> to get the debris populated. Correspondingly, if you're removing the debris weather flag, remember to call <samp>Game1::debrisWeather::Clear</samp>.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(5)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span id="Notes/FAQ"></span><span class="mw-headline" id="Notes.2FFAQ">Notes/FAQ</span></h2><section class="mf-section-5 collapsible-block" id="mf-section-5">
<ul><li>The TV can be fixed by overriding it - or just by using Entoroax's Framework.</li>
<li>You can set snow and debris at any time, the game just won't.</li>
<li>You cannot set debris and rain at the same time.</li></ul>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="mediawiki/index911e.html?title=Modding:Weather_data&amp;oldid=183484">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Weather_data&amp;oldid=183484</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="Special_History/Modding_Weather_data.html"
				data-user-name="VulpesLucida"
				data-user-gender="unknown"
				data-timestamp="1736552738">
				<span>Last edited on 10 January 2025, at 23:45</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 10 January 2025, at 23:45.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="Stardew_Valley_Wiki_Privacy_policy.html" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="Stardew_Valley_Wiki_About.html" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="Stardew_Valley_Wiki_General_disclaimer.html" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="mediawiki/index2669.html?title=Modding:Weather_data&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.026","walltime":"0.033","ppvisitednodes":{"value":54,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20250320175005","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
