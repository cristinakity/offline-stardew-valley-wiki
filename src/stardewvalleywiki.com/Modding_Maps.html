<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Maps - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Maps","wgTitle":"Maps","wgCurRevisionId":185777,"wgRevisionId":185777,"wgArticleId":7384,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Maps","wgRelevantArticleId":7384,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":
!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready"
,"user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","ext.cite.styles":"ready","mediawiki.page.gallery.styles":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="mediawiki/load5dc6.css?lang=en&amp;modules=ext.cite.styles%7Cext.pygments%7Cmediawiki.hlist%7Cmediawiki.page.gallery.styles%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="mediawiki/loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="mediawiki/load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="description" content="← Index"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="mediawiki/api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="mediawiki/api-result251f.xml?action=rsd"/>
<link rel="license" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html"/>
<meta property="og:title" content="Modding:Maps - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Maps"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Maps - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Maps - Stardew Valley Wiki","headline":"Modding:Maps - Stardew Valley Wiki","mainEntityOfPage":"Modding:Maps","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Maps","url":"https:\/\/stardewvalleywiki.com\/Modding:Maps","description":"\u2190 Index","dateModified":"2025-03-27T16:18:17Z","datePublished":"2025-03-27T16:18:17Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Maps rootpage-Modding_Maps stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="Stardew_Valley_Wiki.html" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="Model_Ship.html#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="mediawiki/index6d1e.html?title=Special:UserLogin&amp;returnto=Modding%3AMaps" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="mediawiki/index7561.html?title=Special:MobileOptions&amp;returnto=Modding%3AMaps" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="Stardew_Valley_Wiki_About.html" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="Stardew_Valley_Wiki_General_disclaimer.html" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="Stardew_Valley_Wiki.html">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Maps</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="Special_MobileLanguages/Modding_Maps.html" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="mediawiki/index6d1e.html?title=Special:UserLogin&amp;returnto=Modding%3AMaps" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="mediawiki/indexa542-2.html?title=Modding:Maps&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><p>← <a href="Modding_Index.html" title="Modding:Index">Index</a>
</p><p>This page explains how to edit maps. This is an advanced guide for modders.
</p>
<style data-mw-deduplicate="TemplateStyles:r145264">.mw-parser-output .toclimit-2 .toclevel-1 ul,.mw-parser-output .toclimit-3 .toclevel-2 ul,.mw-parser-output .toclimit-4 .toclevel-3 ul,.mw-parser-output .toclimit-5 .toclevel-4 ul,.mw-parser-output .toclimit-6 .toclevel-5 ul,.mw-parser-output .toclimit-7 .toclevel-6 ul{display:none}</style><div class="toclimit-3"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Intro"><span class="tocnumber">1</span> <span class="toctext">Intro</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Basic_concepts"><span class="tocnumber">1.1</span> <span class="toctext">Basic concepts</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Tile_coordinates"><span class="tocnumber">1.2</span> <span class="toctext">Tile coordinates</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Map_formats"><span class="tocnumber">1.3</span> <span class="toctext">Map formats</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Tilesets_vs_Tilesheets"><span class="tocnumber">1.4</span> <span class="toctext">Tilesets vs Tilesheets</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Getting_started"><span class="tocnumber">2</span> <span class="toctext">Getting started</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Using_SMAPI"><span class="tocnumber">2.1</span> <span class="toctext">Using SMAPI</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Using_Tiled"><span class="tocnumber">2.2</span> <span class="toctext">Using Tiled</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Getting_your_map_in_game"><span class="tocnumber">2.3</span> <span class="toctext">Getting your map in game</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Editing_a_vanilla_location"><span class="tocnumber">2.3.1</span> <span class="toctext">Editing a vanilla location</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#Using_Content_Patcher"><span class="tocnumber">2.3.1.1</span> <span class="toctext">Using Content Patcher</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-12"><a href="#Adding_a_new_location"><span class="tocnumber">2.3.2</span> <span class="toctext">Adding a new location</span></a>
<ul>
<li class="toclevel-4 tocsection-13"><a href="#Using_Content_Patcher_2"><span class="tocnumber">2.3.2.1</span> <span class="toctext">Using Content Patcher</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Map_edits"><span class="tocnumber">3</span> <span class="toctext">Map edits</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Editing_maps"><span class="tocnumber">3.1</span> <span class="toctext">Editing maps</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Adding_tilesets"><span class="tocnumber">3.2</span> <span class="toctext">Adding tilesets</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Re-using_vanilla_tilesets"><span class="tocnumber">3.2.1</span> <span class="toctext">Re-using vanilla tilesets</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Replace_existing_tileset"><span class="tocnumber">3.2.2</span> <span class="toctext">Replace existing tileset</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Adding_a_new_custom_tilesheet"><span class="tocnumber">3.2.3</span> <span class="toctext">Adding a new custom tilesheet</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-20"><a href="#Painting_tiles_onto_your_map"><span class="tocnumber">3.3</span> <span class="toctext">Painting tiles onto your map</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Map_properties"><span class="tocnumber">3.4</span> <span class="toctext">Map properties</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Tile_properties"><span class="tocnumber">3.5</span> <span class="toctext">Tile properties</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Tiles"><span class="tocnumber">3.6</span> <span class="toctext">Tiles</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Tile_animation"><span class="tocnumber">3.7</span> <span class="toctext">Tile animation</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Tile_flip.2Frotation"><span class="tocnumber">3.8</span> <span class="toctext">Tile flip/rotation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Advanced_edits"><span class="tocnumber">4</span> <span class="toctext">Advanced edits</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Sitting_on_non-furniture_chairs"><span class="tocnumber">4.1</span> <span class="toctext">Sitting on non-furniture chairs</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Custom_Wallpaper_and_Flooring_in_Decoratable_Locations"><span class="tocnumber">4.2</span> <span class="toctext">Custom Wallpaper and Flooring in Decoratable Locations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Known_map_properties"><span class="tocnumber">5</span> <span class="toctext">Known map properties</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Building_construction"><span class="tocnumber">5.1</span> <span class="toctext">Building construction</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Crops"><span class="tocnumber">5.2</span> <span class="toctext">Crops</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Plants.2C_forage.2C_.26_item_spawning"><span class="tocnumber">5.3</span> <span class="toctext">Plants, forage, &amp; item spawning</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Warps_.26_map_positions"><span class="tocnumber">5.4</span> <span class="toctext">Warps &amp; map positions</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Audio"><span class="tocnumber">5.5</span> <span class="toctext">Audio</span></a></li>
<li class="toclevel-2 tocsection-35"><a href="#Lighting"><span class="tocnumber">5.6</span> <span class="toctext">Lighting</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Map_.26_tile_changes"><span class="tocnumber">5.7</span> <span class="toctext">Map &amp; tile changes</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Fishing"><span class="tocnumber">5.8</span> <span class="toctext">Fishing</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Farmhouse_interior"><span class="tocnumber">5.9</span> <span class="toctext">Farmhouse interior</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="#Other_location_metadata"><span class="tocnumber">5.10</span> <span class="toctext">Other location metadata</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-40"><a href="#Known_tile_properties"><span class="tocnumber">6</span> <span class="toctext">Known tile properties</span></a>
<ul>
<li class="toclevel-2 tocsection-41"><a href="#General"><span class="tocnumber">6.1</span> <span class="toctext">General</span></a></li>
<li class="toclevel-2 tocsection-42"><a href="#TouchAction"><span class="tocnumber">6.2</span> <span class="toctext">TouchAction</span></a></li>
<li class="toclevel-2 tocsection-43"><a href="#Action"><span class="tocnumber">6.3</span> <span class="toctext">Action</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="#Custom_Actions"><span class="tocnumber">6.4</span> <span class="toctext">Custom Actions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-45"><a href="#Paths_layer"><span class="tocnumber">7</span> <span class="toctext">Paths layer</span></a></li>
<li class="toclevel-1 tocsection-46"><a href="#Potential_issues"><span class="tocnumber">8</span> <span class="toctext">Potential issues</span></a>
<ul>
<li class="toclevel-2 tocsection-47"><a href="#Tilesheet_order"><span class="tocnumber">8.1</span> <span class="toctext">Tilesheet order</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Local_copy_of_a_vanilla_tilesheet"><span class="tocnumber">8.2</span> <span class="toctext">Local copy of a vanilla tilesheet</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Map-specific_issues"><span class="tocnumber">8.3</span> <span class="toctext">Map-specific issues</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#.27Save_as.27_in_Tiled"><span class="tocnumber">8.4</span> <span class="toctext">'Save as' in Tiled</span></a></li>
<li class="toclevel-2 tocsection-51"><a href="#Locating_tilesheets_in_Tiled"><span class="tocnumber">8.5</span> <span class="toctext">Locating tilesheets in Tiled</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-52"><a href="#Troubleshooting"><span class="tocnumber">9</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-2 tocsection-53"><a href="#.22Tilesheet_paths_must_be_a_relative_path_without_directory_climbing_.28...2F.29.22"><span class="tocnumber">9.1</span> <span class="toctext">"Tilesheet paths must be a relative path without directory climbing (../)"</span></a></li>
<li class="toclevel-2 tocsection-54"><a href="#.22mod_reordered_the_original_tilesheets.22"><span class="tocnumber">9.2</span> <span class="toctext">"mod reordered the original tilesheets"</span></a></li>
<li class="toclevel-2 tocsection-55"><a href="#.22mod_has_no_tilesheet_with_ID_.27.3Cname.3E.27.22"><span class="tocnumber">9.3</span> <span class="toctext">"mod has no tilesheet with ID '&lt;name&gt;'"</span></a></li>
<li class="toclevel-2 tocsection-56"><a href="#.22Invalid_tile_GID:_.3C.23.3E.22"><span class="tocnumber">9.4</span> <span class="toctext">"Invalid tile GID: &lt;#&gt;"</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-57"><a href="#Making_changes_with_SMAPI"><span class="tocnumber">10</span> <span class="toctext">Making changes with SMAPI</span></a>
<ul>
<li class="toclevel-2 tocsection-58"><a href="#Using_the_AssetRequested_event"><span class="tocnumber">10.1</span> <span class="toctext">Using the AssetRequested event</span></a></li>
<li class="toclevel-2 tocsection-59"><a href="#After_location_is_loaded"><span class="tocnumber">10.2</span> <span class="toctext">After location is loaded</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-60"><a href="#Modder_Help_and_Tricks"><span class="tocnumber">11</span> <span class="toctext">Modder Help and Tricks</span></a></li>
</ul>
</div>
</div>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Intro">Intro</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<h3 class="in-block"><span class="mw-headline" id="Basic_concepts">Basic concepts</span></h3>
<ul>
<li>A <b>map</b> is the layout of the terrain (like water, cliffs, and land), terrain features (like bushes), buildings, paths, and triggers for a particular area. When you reach the edge of an area or enter a building, and the screen fades to black during the transition, you're moving between maps.</li>

<li>Each map consists of several <b>layers</b> stacked one in front of the other. Objects in a layer closer to the front will hide objects in layers behind them. From back to front, the standard layers are...

<table class="wikitable">

<tbody><tr>
<th>layer name
</th>
<th>typical contents
</th></tr>
<tr>
<td>Back
</td>
<td>Terrain, water, and basic features (like permanent paths).
</td></tr>
<tr>
<td>Buildings
</td>
<td>Placeholders for buildings (like the farmhouse). Any tiles placed on this layer will act like a wall unless the tile property has a "Passable" "T".
</td></tr>
<tr>
<td>Paths
</td>
<td>Flooring, paths, grass, and debris (like stones, weeds, and stumps from the 'paths' tilesheet) which can be removed by the player.
</td></tr>
<tr>
<td>Front
</td>
<td>Objects that are drawn on top of things behind them, like most trees. These objects will be drawn on top of the player if the player is North of them but behind the player if the player is south of them.
</td></tr>
<tr>
<td>AlwaysFront
</td>
<td>Objects that are always drawn on top of other layers as well as the player. This is typically used for foreground effects like foliage cover.
</td></tr></tbody></table></li>
<p><a href="File_MapLayers.html" class="image"><noscript><img alt="MapLayers.png" src="mediawiki/images/6/6f/MapLayers.png" decoding="async" width="467" height="398"></noscript><span class="lazy-image-placeholder" style="width: 467px;height: 398px;" data-src="/mediawiki/images/6/6f/MapLayers.png" data-alt="MapLayers.png" data-width="467" data-height="398"> </span></a>
</p>
<li>You can add any number of map layers by suffixing a vanilla layer name (i.e. <samp>Back</samp>, <samp>Buildings</samp>, <samp>Front</samp>, or <samp>AlwaysFront</samp>) with an offset. For example, <samp>Back-1</samp> will be drawn before/under <samp>Back</samp>, and <samp>Back2</samp> will be drawn after/over it. You can increment the number to add more layers.
This only affects layer rendering; The original layers must be used for tile properties and collisions (i.e. Buildings tiles acting as a wall).</li>

<li>(Using Tiled) There are 2 different types of layers along with the 5 main layers, Objects Layer (cloud-like icon) and Tile Layer (grid icon). The Tile Layer is where you make map edits (placing and removing tiles) and the Objects Layers is where you add and edit tile data. Your layers must match the ones above. Note that depending on the map, they may be missing a Paths or AlwaysFront layer</li>

<li>Each layer consists of many <b>tiles</b>, which are 16×16 pixel squares placed in a grid to form the visible map. Each tile can have properties (<i>e.g.,</i> passable / blocked), special logic (<i>e.g.,</i> an action to perform when the player steps on them), and a picture to show. The picture is represented by a sprite index (or tile index), which is its position in an associated spritesheet (see next).</li>

<li>Each map has one or more spritesheets (also known as tilesheets when talking about mods), which contains the available tiles and images that are put together to form the visible map.</li>
</ul>
<h3 class="in-block"><span class="mw-headline" id="Tile_coordinates">Tile coordinates</span></h3>
<p>Each tile has an (x, y) coordinate which represents its position on the map, where (0, 0) is the top-left tile. The <i>x</i> value increases towards the right, and <i>y</i> increases downwards. For example:
</p><p><a href="File_Modding_-_creating_an_XNB_mod_-_tile_coordinates.html" class="image"><noscript><img alt="Modding - creating an XNB mod - tile coordinates.png" src="mediawiki/images/2/2d/Modding_-_creating_an_XNB_mod_-_tile_coordinates.png" decoding="async" width="318" height="238"></noscript><span class="lazy-image-placeholder" style="width: 318px;height: 238px;" data-src="/mediawiki/images/2/2d/Modding_-_creating_an_XNB_mod_-_tile_coordinates.png" data-alt="Modding - creating an XNB mod - tile coordinates.png" data-width="318" data-height="238"> </span></a>
</p><p>You can use the <a rel="nofollow" class="external text" href="../external.html?link=https://www.nexusmods.com/stardewvalley/mods/679">Debug Mode</a> mod to see tile coordinates in-game.
</p>
<h3 class="in-block"><span class="mw-headline" id="Map_formats">Map formats</span></h3>
<p>There are two map formats used in Stardew Valley modding: <samp>.tmx</samp> (from the Tiled map editor) and <samp>.tbin</samp> (from the now-deprecated tIDE map editor). The features supported by both formats are almost identical, but there are a few differences:
</p>
<table class="wikitable">

<tbody><tr>
<th>feature
</th>
<th><samp>.tmx</samp>
</th>
<th><samp>.tbin</samp>
</th></tr>
<tr>
<td>format
</td>
<td>✓ XML (basically text)
</td>
<td>✘ binary
</td></tr>
<tr>
<td>edit in Tiled
</td>
<td>✓ supported
</td>
<td>✓ supported with plugin
</td></tr>
<tr>
<td>edit directly
</td>
<td>✓ can open in a text editor
</td>
<td>✘ not supported
</td></tr>
<tr>
<td>tile flip
</td>
<td>✓ supported
</td>
<td>✘ not supported
</td></tr>
<tr>
<td>tile rotation
</td>
<td>✓ supported
</td>
<td>✘ not supported
</td></tr>
<tr>
<td>source control
</td>
<td>✓ efficient storage, can diff changes
</td>
<td>✘ inefficient storage (need to copy entire file with each commit), can't diff changes
</td></tr></tbody></table>
<p><samp>.tmx</samp> is recommended per the above, but both formats are fine to use, and you can convert between them in Tiled by clicking <i>File &gt; Export As</i>.
</p>
<h3 class="in-block"><span class="mw-headline" id="Tilesets_vs_Tilesheets">Tilesets vs Tilesheets</span></h3>
<p><samp>Tilesheets</samp> are the <samp>.png</samp> files used as source images. Tilesheets have no animation, properties, terrains, or anything else but pixels associated with them -- they're just images. <samp>Tilesets</samp> are Tiled's XML files that contain all the information about how the map uses the source image. They are confusingly named and often used interchangeably.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Getting_started">Getting started</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<p>There are two main ways to edit a map and two main ways to get your map into the game.
</p>
<h3 class="in-block"><span class="mw-headline" id="Using_SMAPI">Using SMAPI</span></h3>
<p>Creating a SMAPI mod requires programming, but it's much more powerful and multiple SMAPI mods can edit the same map. If you want to use this approach:
</p>
<ol><li><a href="Modding_Modder_Guide/Get_Started.html" title="Modding:Modder Guide/Get Started">Create a SMAPI mod</a>.</li>
<li>See <i><a href="#Making_changes_with_SMAPI">Making changes with SMAPI</a></i> below.</li></ol>
<p>The rest of this guide assumes you're using Tiled, but many of the concepts are transferrable and you can use both Tiled and SMAPI (<i>e.g.,</i> create/edit maps in Tiled and load/edit them in SMAPI).
</p>
<h3 class="in-block"><span class="mw-headline" id="Using_Tiled">Using Tiled</span></h3>
<p>Tiled is a popular map editor that can be used to edit Stardew Valley maps, no programming needed. You need to <a href="Modding_Editing_XNB_files.html" title="Modding:Editing XNB files">unpack the map's XNB</a>, edit the map, and make a <a rel="nofollow" class="external text" href="../external.html?link=https://www.nexusmods.com/stardewvalley/mods/1915">Content Patcher</a> or SMAPI mod to load your map. If you want to use this approach:
</p>
<ol>
<li>Install the <a rel="nofollow" class="external text" href="../external.html?link=http://www.mapeditor.org/">latest version of Tiled</a>.</li>
<li>Set the following settings:
<table class="wikitable">

<tbody><tr>
<th>setting
</th>
<th>value
</th>
<th>reason
</th></tr>
<tr>
<td><i>View &gt; Snapping &gt; Snap to Grid</i>
</td>
<td>✓ enabled
</td>
<td>This is required to convert objects back into the game's format.
</td></tr>
<tr>
<td><i>View &gt; Highlight Current Layer</i>
</td>
<td>✓ enabled
</td>
<td>This makes it more clear which tile you're editing.
</td></tr></tbody></table></li>
<li>See <a href="Modding_Editing_XNB_files.html" title="Modding:Editing XNB files">Modding:Editing XNB files</a> for help unpacking &amp; packing the map files.</li>
<li>See instructions below for map changes.</li>
</ol>
<h3 class="in-block"><span class="mw-headline" id="Getting_your_map_in_game">Getting your map in game</span></h3>
<p>Once you've used the tips on this page to create your map you will need to make it show up in the game. You can do this by editing a vanilla location to replace/edit the existing map with your own or by adding a new location. After loading your save, you can use this console command to jump to the map: <code>debug warp YourLocationName</code>.
</p><p>Most mods will use <a href="Modding_Content_Patcher.html" title="Modding:Content Patcher">Content Patcher</a> to add a map to the game but it is also possible to do so with C#.
</p>
<div style="border-radius: 3px; padding: 8px; background: #e3fcef; min-height: 3em; display: flex; flex-direction: row; align-items: center; max-width: 60em;">
<div style="font-size: 3em; line-height: 1em; margin-right: 0.5rem;">ⓘ</div>
<div><b>Using Content Patcher to add custom locations is strongly recommended.</b><br>You can add new locations in C# yourself, but be aware of factors like object persistence and NPC pathfinding that are easy to get wrong. If you <i>really</i> want to do it yourself, use the <a href="Modding_Modder_Guide/APIs/Events.html#Specialised.LoadStageChanged" title="Modding:Modder Guide/APIs/Events">specialized <samp>LoadStageChanged</samp> event</a> to add the location to <samp>Game1.locations</samp> during the <samp>CreatedInitialLocations</samp> and <samp>SaveAddedLocations</samp> stage.</div>
</div>
<h4 class="in-block"><span class="mw-headline" id="Editing_a_vanilla_location">Editing a vanilla location</span></h4>
<h5 class="in-block"><span class="mw-headline" id="Using_Content_Patcher">Using Content Patcher</span></h5>
<p>Use a Content Patcher <a rel="nofollow" class="external text" href="../external.html?link=https://github.com/Pathoschild/StardewMods/blob/stable/ContentPatcher/docs/author-guide/action-load.md"><samp>Load</samp></a> action to replace a vanilla map in its entirety. <i>This is not recommended in most circumstances outside of testing due to low compatibility with other mods.</i>
</p><p>It is also possible to replace a vanilla map in its entirety by using a Content Patcher <a rel="nofollow" class="external text" href="../external.html?link=https://github.com/Pathoschild/StardewMods/blob/stable/ContentPatcher/docs/author-guide/action-editmap.md"><samp>EditMap</samp></a> action. It is more frequently used to replace part of a map instead (such as to add a new building to the Town, for example).
</p>
<h4 class="in-block"><span class="mw-headline" id="Adding_a_new_location">Adding a new location</span></h4>
<h5 class="in-block"><span class="mw-headline" id="Using_Content_Patcher_2">Using Content Patcher</span></h5>
<p>New locations are added to the game by <a rel="nofollow" class="external text" href="../external.html?link=https://github.com/Pathoschild/StardewMods/blob/stable/ContentPatcher/docs/author-guide/action-load.md"><samp>Loading</samp></a> your map with a unique asset name (e.g., <code>Maps/{{ModId}}_MountainForest</code>) and then editing the <samp><a href="Modding_Location_data.html" title="Modding:Location data">Data/Locations</a></samp> asset to add a new location entry containing your map.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(3)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Map_edits">Map edits</span></h2><section class="mf-section-3 collapsible-block" id="mf-section-3">
<h3 class="in-block"><span class="mw-headline" id="Editing_maps">Editing maps</span></h3>
<p>Important note: when making custom maps, always start with a vanilla map and edit it. Don't try to create a new map in Tiled; the game needs certain tiles, map properties, etc to be present. Also note that when making a map edit or adding a custom map, width sizes larger than 200 will break layering. Height can be any size.
</p>
<ol><li><a href="Modding_Editing_XNB_files.html" title="Modding:Editing XNB files">Unpack</a> the game's <samp>Content/Maps</samp> folder and create a copy to edit your maps in.  Use this copy of the folder to edit any maps in before moving them to your mod release folder.</li>
<li>Use the same method to unpack the map you want to edit if it is not a vanilla one, then place the map in your editing folder.</li>
<li>Open the <samp>.tbin</samp> or <samp>.tmx</samp> file via Tiled. Note: make sure the file is in the same folder as the unpacked tilesheets!</li>
<li>Make your changes.</li>
<li>Save the file. Don't use <samp>Save as</samp> to change folders, as your tilesheet paths will be wrong.</li>
<li>Move the <samp>.tbin</samp> or <samp>.tmx</samp> file, and any custom tilesheets it needs, to your mod release folder. Place them in the <samp>assets</samp> folder.</li>
<li>Load your map via SMAPI or Content Patcher (or another framework mod).</li></ol>
<h3 class="in-block"><span class="mw-headline" id="Adding_tilesets">Adding tilesets</span></h3>
<p>You can add new sprites, tiles, or images to a map, from both custom and vanilla sources. If you're editing a vanilla map, make sure to <a href="#Tilesheet_order">prefix custom tileset names with <code>z_</code></a> to avoid shifting the vanilla tilesheet indexes.
</p>
<ol><li>Open the map that you created or are editing.</li>
<li>Click <samp>Map</samp> then <i>Add External Tileset...</i> in the top menu, and open a <samp>.tsx</samp> file you have in the same folder.</li>
<li>You should have a new copy of the tileset in your map, with any saved animations, properties, or terrains still intact.</li></ol>
<h4 class="in-block"><span class="mw-headline" id="Re-using_vanilla_tilesets">Re-using vanilla tilesets</span></h4>
<p>If you want to use a tilesheet like <samp>spring_outdoorsTileSheet.png</samp> in your map, adding a new tileset from a <samp>.png</samp> file means you need to re-animate any animated tiles, and re-add properties like diggable. (You'll also lose any terrain types that had been created for that set.) You can avoid this by first exporting them from an existing map, then using external tilesets, instead.
</p>
<ol><li>Open an existing map that already has the properties and animations you want.</li>
<li>In the tileset pane, click the wrench to <i>Edit Tileset</i>. It should open a new edit tab.</li>
<li>In the new window that opens, click <i>File</i>, then <i>Export as...</i> and save it as a .tsx file.</li>
<li>Close the tileset editor.</li></ol>
<h4 class="in-block"><span class="mw-headline" id="Replace_existing_tileset">Replace existing tileset</span></h4>
<p>If you are already using a tilesheet image, you can replace its tileset.
</p>
<ol><li>Open the map that you created or are editing.</li>
<li>In the tileset pane on the right, click the tab for your existing version.</li>
<li>Under that, click the <i>Replace Tileset</i> button.</li>
<li>Choose the <samp>.tsx</samp> file you saved, and click Open.</li></ol>
<h4 class="in-block"><span class="mw-headline" id="Adding_a_new_custom_tilesheet">Adding a new custom tilesheet</span></h4>
<p>If you made a your own tilesheet and are adding it to a map the first time, you can create a new tileset from image.
</p>
<ol><li>Create your spritesheet and place it in the same folder as your <samp>.tbin</samp> or <samp>.tmx</samp> map file. This should be a PNG image with images divided into 16x16 tiles (see <a href="Modding_Editing_XNB_files.html#Intro" title="Modding:Editing XNB files">Modding:Editing XNB files#Intro</a> for examples).</li>
<li>Open the map in Tiled.</li>
<li>Add the custom spritesheet:
<ol><li>In the <i>Tilesets</i> pane, click the <a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_%27new_tilesheet%27_button.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled 'new tilesheet' button.png" src="mediawiki/images/2/2a/Modding_-_creating_an_XNB_mod_-_Tiled_%27new_tilesheet%27_button.png" decoding="async" width="17" height="17"></noscript><span class="lazy-image-placeholder" style="width: 17px;height: 17px;" data-src="/mediawiki/images/2/2a/Modding_-_creating_an_XNB_mod_-_Tiled_%27new_tilesheet%27_button.png" data-alt="Modding - creating an XNB mod - Tiled 'new tilesheet' button.png" data-width="17" data-height="17"> </span></a> button.</li>
<li>Give it a descriptive name (like 'zcute bugs') and choose the image source.</li>
<li>Make sure that <i>Embed in map</i> is checked.</li>
<li>Keep the defaults for the other settings and click <i>OK</i>.</li></ol></li></ol>
<p><br>
</p>
<h3 class="in-block"><span class="mw-headline" id="Painting_tiles_onto_your_map">Painting tiles onto your map</span></h3>
<ol><li>In the <i>Layers</i> pane, click the layer you want to edit.</li>
<li>At the top left of Tiled's toolbar, click the Stamp Brush.</li>
<li>In the <i>Tilesets</i> pane, click the tab for the tileset you want to use.</li>
<li>In the <i>Tilesets</i> pane, click one tile to select it. To choose multiple, click and drag the cursor.</li>
<li>Move the cursor to the map, and you'll see an overlay with the tiles you selected.</li>
<li>Click the map to place those tiles on the selected layer.</li></ol>
<h3 class="in-block"><span class="mw-headline" id="Map_properties">Map properties</span></h3>
<p>Each map can have multiple map properties, which define attributes and behaviour associated with the map like lighting, music, warp points, etc. Each property has a name (which defines the type of property), type (always 'string' in Stardew Valley), and value (which configures the property). See <a href="#Known_map_properties">known properties</a> below.
</p><p>In Tiled:
</p>
<ol><li>Click <i>Map</i> on the toolbar and choose <i>Map Properties</i>.</li>
<li>View and edit properties using the GUI.</li></ol>
<h3 class="in-block"><span class="mw-headline" id="Tile_properties">Tile properties</span></h3>
<p>Tile properties are set on individual map tiles. They can change game behaviour (like whether the player can cross them), or perform actions when the player steps on or clicks the tile. Each property has a name, type (always 'string' in Stardew Valley), and value. In Tiled these are represented by two types: <i>object properties</i> only apply to the selected tile, while <i>tile properties</i> apply to every instance of that tile. In general you'll always set <i>object properties</i>, so we'll only cover those.
</p><p>Note that tile properties need to have a tile associated with them; if there is no tile, they'll simply not be applied.
</p><p>To view tile properties:
</p>
<ol><li>Select the object layer in the <i>Layers</i> pane.</li>
<li>Choose the <a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_%27select_object%27_button.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled 'select object' button.png" src="mediawiki/images/4/4b/Modding_-_creating_an_XNB_mod_-_Tiled_%27select_object%27_button.png" decoding="async" width="19" height="16"></noscript><span class="lazy-image-placeholder" style="width: 19px;height: 16px;" data-src="/mediawiki/images/4/4b/Modding_-_creating_an_XNB_mod_-_Tiled_%27select_object%27_button.png" data-alt="Modding - creating an XNB mod - Tiled 'select object' button.png" data-width="19" data-height="16"> </span></a> <i>select object</i> tool in the toolbar.</li>
<li>Click the object whose properties you want to view. Objects are represented with a gray selection box on the map:<br><a href="File_Modding_-_creating_an_XNB_mod_-_map_object.html" class="image"><noscript><img alt="Modding - creating an XNB mod - map object.png" src="mediawiki/images/9/9c/Modding_-_creating_an_XNB_mod_-_map_object.png" decoding="async" width="141" height="166"></noscript><span class="lazy-image-placeholder" style="width: 141px;height: 166px;" data-src="/mediawiki/images/9/9c/Modding_-_creating_an_XNB_mod_-_map_object.png" data-alt="Modding - creating an XNB mod - map object.png" data-width="141" data-height="166"> </span></a></li>
<li>The object properties will be shown in the <i>Properties</i> pane.<br><a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_tile_properties_pane.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled tile properties pane.png" src="mediawiki/images/f/f1/Modding_-_creating_an_XNB_mod_-_Tiled_tile_properties_pane.html" decoding="async" width="209" height="270"></noscript><span class="lazy-image-placeholder" style="width: 209px;height: 270px;" data-src="/mediawiki/images/f/f1/Modding_-_creating_an_XNB_mod_-_Tiled_tile_properties_pane.png" data-alt="Modding - creating an XNB mod - Tiled tile properties pane.png" data-width="209" data-height="270"> </span></a></li></ol>
<p>To edit properties for an existing object:
</p>
<ul><li>Change a value: click the value field and enter the new value.</li>
<li>Change a name: select the property and click the <a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_%27edit%27_button.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled 'edit' button.png" src="mediawiki/images/e/e9/Modding_-_creating_an_XNB_mod_-_Tiled_%27edit%27_button.png" decoding="async" width="17" height="17"></noscript><span class="lazy-image-placeholder" style="width: 17px;height: 17px;" data-src="/mediawiki/images/e/e9/Modding_-_creating_an_XNB_mod_-_Tiled_%27edit%27_button.png" data-alt="Modding - creating an XNB mod - Tiled 'edit' button.png" data-width="17" data-height="17"> </span></a> icon.</li>
<li>Add a property: click the <a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_%27add%27_button.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled 'add' button.png" src="mediawiki/images/a/a9/Modding_-_creating_an_XNB_mod_-_Tiled_%27add%27_button.png" decoding="async" width="12" height="12"></noscript><span class="lazy-image-placeholder" style="width: 12px;height: 12px;" data-src="/mediawiki/images/a/a9/Modding_-_creating_an_XNB_mod_-_Tiled_%27add%27_button.png" data-alt="Modding - creating an XNB mod - Tiled 'add' button.png" data-width="12" data-height="12"> </span></a> icon, enter the property name, make sure the selected type is "string", and click OK.</li></ul>
<p>To add a new object:
</p>
<ol><li>Select the object layer in the <i>Layers</i> pane.<br><i>There should be one object layer for each tile layer. If the object layer is missing, create one with the same name as the right tile layer.</i></li>
<li>Choose the <a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_%27insert_rectangle%27_button.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled 'insert rectangle' button.png" src="mediawiki/images/2/2e/Modding_-_creating_an_XNB_mod_-_Tiled_%27insert_rectangle%27_button.png" decoding="async" width="20" height="21"></noscript><span class="lazy-image-placeholder" style="width: 20px;height: 21px;" data-src="/mediawiki/images/2/2e/Modding_-_creating_an_XNB_mod_-_Tiled_%27insert_rectangle%27_button.png" data-alt="Modding - creating an XNB mod - Tiled 'insert rectangle' button.png" data-width="20" data-height="21"> </span></a> <i>insert rectangle</i> tool from the toolbar.</li>
<li>Click and drag the rectangle over the tile you want to edit . Make sure it snaps to the tile grid (see <a href="#Using_Tiled">#Using Tiled</a>), and only one tile is selected.</li>
<li>Change its Name field to <samp>TileData</samp>.</li>
<li>See previous for how to edit its properties.</li></ol>
<h3 class="in-block"><span class="mw-headline" id="Tiles">Tiles</span></h3>
<p>You can edit the tiles for an existing map. See the <a rel="nofollow" class="external text" href="../external.html?link=http://doc.mapeditor.org/">Tiled documentation</a> for more info.
</p>
<h3 class="in-block"><span class="mw-headline" id="Tile_animation">Tile animation</span></h3>
<div class="floatright"><a href="File_Modding_-_creating_an_XNB_mod_-_example_animation.html" class="image"><noscript><img alt="Modding - creating an XNB mod - example animation.gif" src="mediawiki/images/b/b7/Modding_-_creating_an_XNB_mod_-_example_animation.gif" decoding="async" width="65" height="64"></noscript><span class="lazy-image-placeholder" style="width: 65px;height: 64px;" data-src="/mediawiki/images/b/b7/Modding_-_creating_an_XNB_mod_-_example_animation.gif" data-alt="Modding - creating an XNB mod - example animation.gif" data-width="65" data-height="64"> </span></a></div>
<p>You can animate tiles to create effects like Gil in his rocking chair (see example at right).
</p><p>In Tiled:
</p>
<dl><dd><ol><li>Click the edit button (wrench icon) for the tilesheet in the <i>Tilesets</i> pane.</li>
<li>Select the tile you want to animate in the new view.</li>
<li>Click <i>Tileset &gt; Tile Animation Editor</i> in the toolbar to show that window.</li>
<li>In the new window, drag tiles from the tilesheet into the box on the left to create a <i>frame</i> (one image in the sequence). If you need to delete frames, select the frame(s) and press Backspace/Delete(Windows) or fn + Backspace(Apple)</li>
<li>Double-click the numbers to change how long each frame stays on the screen before the next one (in milliseconds). <b>Make sure every frame has the same time; the game can't handle variable frame times.</b> For example, here's the animation editor showing one of the tiles of Gil rocking:<br><a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_pane.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled example animation pane.gif" src="mediawiki/images/f/f0/Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_pane.gif" decoding="async" width="669" height="439"></noscript><span class="lazy-image-placeholder" style="width: 669px;height: 439px;" data-src="/mediawiki/images/f/f0/Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_pane.gif" data-alt="Modding - creating an XNB mod - Tiled example animation pane.gif" data-width="669" data-height="439"> </span></a></li>
<li>When you're done, close the pane.</li>
<li>The animated tiles in the <i>Tilesets</i> pane will now have a little symbol in the bottom-right corner:<br><a href="File_Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_tileset.html" class="image"><noscript><img alt="Modding - creating an XNB mod - Tiled example animation tileset.png" src="mediawiki/images/4/4a/Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_tileset.png" decoding="async" width="50" height="52"></noscript><span class="lazy-image-placeholder" style="width: 50px;height: 52px;" data-src="/mediawiki/images/4/4a/Modding_-_creating_an_XNB_mod_-_Tiled_example_animation_tileset.png" data-alt="Modding - creating an XNB mod - Tiled example animation tileset.png" data-width="50" data-height="52"> </span></a><br>The animation is now part of that tile. Every instance of that tile on the map will now have the same animation.</li></ol></dd></dl>
<h3 class="in-block"><span id="Tile_flip/rotation"></span><span class="mw-headline" id="Tile_flip.2Frotation">Tile flip/rotation</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:145px;"><a href="File_Tiled_tile_rotation.html" class="image"><noscript><img alt="" src="mediawiki/images/7/71/Tiled_tile_rotation.png" decoding="async" width="143" height="188" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 143px;height: 188px;" data-src="/mediawiki/images/7/71/Tiled_tile_rotation.png" data-alt="" data-width="143" data-height="188" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Tiled_tile_rotation.html" class="internal" title="Enlarge"></a></div>An example tile rotated four ways, below the Tiled flip/rotate buttons.</div></div></div>
<p>You can rotate and flip tiles without needing to create rotated/flipped versions of the tilesheet.
</p><p>In Tiled:
</p>
<dl><dd><ol><li>With the stamp tool selected, click the tile in the tilesheet you want to use.</li>
<li>Click the flip or rotate buttons (see image at right).</li>
<li>Click the map to place the flipped/rotated tile.</li></ol></dd></dl>
<div style="border-radius: 3px; padding: 8px; background: #e3fcef; min-height: 3em; display: flex; flex-direction: row; align-items: center; max-width: 60em;">
<div style="font-size: 3em; line-height: 1em; margin-right: 0.5rem;">ⓘ</div>
<div><b>This only works with <samp>.tmx</samp> map files loaded through Content Patcher or SMAPI.</b><br> Tile transforms aren't supported by the <samp>.tbin</samp> plugin, or the base game without SMAPI. See <a href="#Map_formats"><i>map formats</i></a> for more info.</div>
</div>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(4)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Advanced_edits">Advanced edits</span></h2><section class="mf-section-4 collapsible-block" id="mf-section-4">
<h3 class="in-block"><span class="mw-headline" id="Sitting_on_non-furniture_chairs">Sitting on non-furniture chairs</span></h3>
<p>Players can sit on chairs that are part of the map. This works by checking the tile on the <samp>Buildings</samp> layer, and comparing its tilesheet and tilesheet index to the data in <samp>Data\ChairTiles</samp>.
</p><p>Each entry has a key in the form <code>sheet filename/tile X/tile Y</code>:
</p>
<table class="wikitable">

<tbody><tr>
<th>field
</th>
<th>description
</th></tr>
<tr>
<td>sheet filename
</td>
<td>The <i>file name</i> of the tilesheet, without the file extension. For example, for a tilesheet loaded from <code>assets/some-tilesheet.png</code>, this should be <code>some-tilesheet</code>.
</td></tr>
<tr>
<td>tile X<br>tile Y
</td>
<td>The tile's X and Y position in the map tilesheet, starting at zero.
</td></tr></tbody></table>
<p>And a value in the form <code>width in tiles/height in tiles/direction/type/draw tile X/draw tile Y/is seasonal/alternate tilesheet</code>:
</p>
<table class="wikitable">

<tbody><tr>
<th>field
</th>
<th>description
</th></tr>
<tr>
<td>width in tiles<br>height in tiles
</td>
<td>The size of the seat in tiles. For example, a width of 2 lets the player sit on the next tile to the right of it too.
</td></tr>
<tr>
<td>direction
</td>
<td>The direction the player should face when sitting. The possible values are <samp>down</samp>, <samp>left</samp>, <samp>right</samp>, <samp>up</samp>, or <samp>opposite</samp>. Any other value defaults to <samp>up</samp>.
</td></tr>
<tr>
<td>type
</td>
<td>Either:
<ul><li>An arbitrary seat code (like <samp>playground</samp> or <samp>ccdesk</samp>), which affects hardcoded game logic for specific seats in the game. You can specify an invalid value like <samp>default</samp> to ignore this. The seat code <samp>highback_chair</samp> is needed to draw a chair overlay one tile taller than the height of the chair. Set the draw tile (below) to the bottom-left tile when using. This is useful for chairs with a back (i.e shaped like the <a href="Oak_Chair.html" title="Oak Chair">Oak Chair</a>).</li>
<li><i>Or</i> you can write <samp>custom <code title="required field 'offset_x'">&lt;offset_x&gt;</code> <code title="required field 'offset_y'">&lt;offset_y&gt;</code> <code title="required field 'extra_height'">&lt;extra_height&gt;</code></samp> to override the hardcoded offset and height values. The three values are measured in tiles (<i>e.g.,</i> an X offset value of 0.5 would shift the sitting location by half a tile).</li></ul>
</td></tr>
<tr>
<td>draw tile X<br>draw tile Y
</td>
<td>The X and Y position in <samp>TileSheets\ChairTiles</samp> (or the custom tilesheet) to draw when the player is sitting, starting at 0. If the width and/or height are more than 1, this is the position of the top-left tile.
</td></tr>
<tr>
<td>is seasonal
</td>
<td>Whether to draw seasonal variants when sitting. If enabled, the <code title="required field 'draw tile X'">&lt;draw tile X&gt;</code> and <code title="required field 'draw tile Y'">&lt;draw tile Y&gt;</code> are offset by one width for each season. In other words, the spring/summer/fall/winter sprites should appear in the draw tilesheet directly adjacent, moving rightward in that order.
</td></tr>
<tr>
<td>alternate tilesheet
</td>
<td><i>(Optional)</i> The asset name for the tilesheet from which to get the draw tiles, using <samp>\\</samp> (two backslashes) as the path separator. The default value is <samp>TileSheets\\ChairTiles</samp>.
</td></tr></tbody></table>
<p><br>
</p>
<h3 class="in-block"><span class="mw-headline" id="Custom_Wallpaper_and_Flooring_in_Decoratable_Locations">Custom Wallpaper and Flooring in Decoratable Locations</span></h3>
<p>You can enable Wallpaper, Flooring, and wall furniture (windows, paintings) in decoratable locations like farmhouses, cabins, or sheds by adding these map and tile properties.
The location must have or be subclass of <code>StardewValley.Locations.DecoratableLocation</code>.
</p><p>First, you can define distinct areas using two new map properties:
</p>
<table class="wikitable">

<tbody><tr>
<th>valid in
</th>
<th>map property
</th>
<th>usage
</th></tr>
<tr>
<td><i>decoratable locations</i>
</td>
<td><samp>FloorIDs <code title="optional field 'area'">[area]</code>+</samp><br><samp>WallIDs <code title="optional field 'area'">[area]</code>+</samp><br>
</td>
<td>A comma-separated list of the distinct areas which have flooring or walls. The <samp>FloorIDs</samp> and <samp>WallIDs</samp> don't need to match. Each area has the form <code><code title="required field 'area ID'">&lt;area ID&gt;</code> <code title="optional field 'default flooring/wallpaper ID'">[default flooring/wallpaper ID]</code></code>, where:
<ul><li><samp><code title="required field 'area ID'">&lt;area ID&gt;</code></samp> uniquely identifies the area or room.</li>
<li><samp><code title="optional field 'default flooring/wallpaper ID'">[default flooring/wallpaper ID]</code></samp> (optional) sets the initial flooring/wallpaper ID if that area hasn't been customized by the player yet. This can be defined in three forms:
<ul><li><code><code title="required field 'index'">&lt;index&gt;</code></code>: get the floor/wallpaper matching that index in the vanilla <samp>Maps/walls_and_floors</samp> tilesheet.</li>
<li><code><code title="required field 'tilesheet'">&lt;tilesheet&gt;</code>:<code title="required field 'index'">&lt;index&gt;</code></code>: add <samp>Maps/<code title="required field 'tilesheet'">&lt;tilesheet&gt;</code></samp> to the map, and match the index in that tilesheet.</li>
<li><code><code title="required field 'area ID'">&lt;area ID&gt;</code></code>: inherit the default floor/wallpaper from the named area. For example, <samp>Hallway_Bedroom Bedroom</samp> applies the bedroom wallpaper to the hallway between the bedroom and living room when the farmhouse is first upgraded.</li>
<li>If omitted, the default will be flooring/wallpaper #0.</li></ul></li></ul>
For example: <pre>FloorIDs: Kitchen 22, LivingRoom Bedroom, Hallway_Bedroom Bedroom, Bedroom
WallIDs: LivingRoom, Hallway_Bedroom Bedroom, Bedroom</pre>
<p>You don't need to add every area to the <samp>FloorIDs</samp>/<samp>WallIDs</samp> list; assigning a flooring/wall to an unlisted value will be handled correctly. You only really need to add an area to <samp>FloorIDs</samp>/<samp>WallIDs</samp> to set the default flooring/wallpaper value, or for cases where the order of the walls/floors is important (for backwards compatibility with code that sets wallpaper/flooring by an integer room index, as is the case with the floors/walls in the vanilla farmhouse).
</p>
</td></tr></tbody></table>
<p><br>
Then you can add individual tiles to each area with two new tile properties:
</p>
<table class="wikitable">

<tbody><tr>
<th>layer
</th>
<th>property
</th>
<th>effect
</th></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>WallID <code title="required field 'area ID'">&lt;area ID&gt;</code></samp><br><samp>FloorID <code title="required field 'area ID'">&lt;area ID&gt;</code></samp>
</td>
<td>Adds this tile to the given floor/wall area. Each floor tile should have the <samp>FloorID</samp> property, but only the top edge of the wall should have <samp>WallID</samp>.
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(5)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Known_map_properties">Known map properties</span></h2><section class="mf-section-5 collapsible-block" id="mf-section-5">
<h3 class="in-block"><span class="mw-headline" id="Building_construction">Building construction</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>CanBuildHere T</samp><br><i>(valid in any outdoor location)</i>
</td>
<td>Whether to allow constructing buildings in this location. The game will adjust automatically to account for it (e.g. Robin will let you choose where to build).
</td></tr>
<tr>
<td><samp>BuildConditions <code title="required field 'query'">&lt;query&gt;</code></samp><br><i>(valid in any outdoor location)</i>
</td>
<td>If <samp>CanBuildHere</samp> is set, an optional <a href="Modding_Game_state_queries.html" title="Modding:Game state queries">game state query</a> which indicates whether building is allowed currently.
</td></tr>
<tr>
<td><samp>LooserBuildRestrictions T</samp><br><i>(valid in any outdoor location)</i>
</td>
<td>If set, tiles don't need to be marked <samp>Buildable T</samp> or <samp>Diggable T</samp> in their properties. Tiles can be blocked with <samp>Buildable F</samp> instead. The other restrictions still apply.
</td></tr>
<tr>
<td><samp>ValidBuildRect <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> <code title="required field 'width'">&lt;width&gt;</code> <code title="required field 'height'">&lt;height&gt;</code></samp><br><i>(valid in any outdoor location)</i>
</td>
<td>The tile area within the map where buildings may be placed. If omitted, buildings may be placed in any open space in the map.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Crops">Crops</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AllowGiantCrops T</samp>
</td>
<td>If set with any non-blank value, <a href="Crops.html#Giant_Crops" title="Crops">giant crops</a> can grow in this location (if crops are also allowed per the <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_crops" title="Modding:Migrate to Stardew Valley 1.6">crop data</a> or <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_location_contexts" title="Modding:Migrate to Stardew Valley 1.6"><samp>PlantableLocations</samp> context field</a>).
</td></tr>
<tr>
<td><samp>DirtDecayChance <code title="required field 'chance'">&lt;chance&gt;</code></samp>
</td>
<td>The probability that each dirt tile will disappear overnight if it doesn't contain a crop, as a value between 0 (never) and 1 (always). Defaults to 0 (greenhouses), 0.1 (farms), and 1 (anywhere else).
</td></tr></tbody></table>
<h3 class="in-block"><span id="Plants,_forage,_&amp;_item_spawning"></span><span class="mw-headline" id="Plants.2C_forage.2C_.26_item_spawning">Plants, forage, &amp; item spawning</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AllowGrassGrowInWinter T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Allows <a href="Grass.html" title="Grass">grass</a> to spread in winter.
</td></tr>
<tr>
<td><samp>AllowGrassSurviveInWinter T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Allows <a href="Grass.html" title="Grass">grass</a> that's alive on the last day of fall to survive through to winter.
</td></tr>
<tr>
<td><samp>EnableGrassSpread T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Gives <a href="Grass.html" title="Grass">grass</a> in the location a chance to spread each day.
</td></tr>
<tr>
<td><samp>Fall_Objects T</samp>²<br><samp>Spring_Objects T</samp>²<br><samp>Summer_Objects T</samp>²<br><samp>Winter_Objects T</samp>²
</td>
<td>Do not use this to spawn seasonal forage objects. Spawn forage by editing the <samp>Forage</samp> field in <a href="Modding_Location_data.html" title="Modding:Location data">Data/Locations</a> instead. <br><br>This property only works in very specific contexts in conjunction with the <samp>forceLoadObjects</samp> map property (not listed). Do not use either property.
</td></tr>
<tr>
<td><s><samp>Feed <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code></samp><br><i>(valid in coops and barns)</i></s>
</td>
<td><s>Sets the spawn location of the <a href="Hay_Hopper.html" title="Hay Hopper">Hay Hopper</a> in a coop or barn.<br><i>Example: <samp>Feed 3 2</samp>.</i></s><br>The Feed map property has been deprecated with 1.6. The FeedHopper is now being defined in Data/Buildings as a IndoorItems entry "(BC)99"
</td></tr>
<tr>
<td><samp>ForceAllowTreePlanting T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Allows planting trees (both wild and fruit) in this location, even if it normally wouldn't be allowed.
</td></tr>
<tr>
<td><samp>ForceSpawnForageables T</samp>²<br><i>(valid in indoor locations)</i>
</td>
<td>Enables forage items spawning in that location.
</td></tr>
<tr>
<td><samp>skipWeedGrowth T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Prevents weeds from spawning and spreading in this location.
</td></tr>
<tr>
<td><samp>SpawnBeachFarmForage T</samp>²<br><i>(valid in farm)</i>
</td>
<td>Randomly spawns beach forage and <a href="Supply_Crate.html" title="Supply Crate">supply crates</a> on the farm (like the <a href="Farm_Maps.html" title="Farm Maps">vanilla beach farm</a>). Forage and crates will only appear on tiles which have the <samp>BeachSpawn T</samp> property on the <samp>Back</samp> layer, are clear for placement, and don't have a tile on the <samp>AlwaysFront</samp> layer.
</td></tr>
<tr>
<td><samp>SpawnForestFarmForage T</samp>²<br><i>(valid in farm)</i>
</td>
<td>Randomly spawns forest forage on the farm (like the <a href="Farm_Maps.html" title="Farm Maps">vanilla forest farm</a>). Forage will only spawn on tiles which have the <samp>Type Grass</samp> tile property, are clear for placement, and don't have a tile on the <samp>AlwaysFront</samp> layer.
</td></tr>
<tr>
<td><samp>SpawnGrassFromPathsOnNewYear T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Spawns grass on every tile with index 22 on the <samp>Paths</samp> layer when a new year starts. See also <samp>SpawnRandomGrassOnNewYear</samp>.
</td></tr>
<tr>
<td><samp>SpawnDebrisOnNewMonth T</samp><br><samp>SpawnDebrisOnNewYear T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Spawns weeds, stones, or twigs at random positions when a new month/year starts (subject to their usual spawn rules).
</td></tr>
<tr>
<td><samp>SpawnMountainFarmOreRect <code title="required field 'tile X'">&lt;tile X&gt;</code> <code title="required field 'tile Y'">&lt;tile Y&gt;</code> <code title="required field 'tile width'">&lt;tile width&gt;</code> <code title="required field 'tile height'">&lt;tile height&gt;</code></samp><br><i>(valid in farm)</i>
</td>
<td>The tile area on the farm map where ores should randomly spawn (like the <a href="Farm_Maps.html" title="Farm Maps">vanilla hilltop farm</a>). Ores will only spawn on tiles which have the <samp>Type Dirt</samp> tile property and are clear for object placement.
</td></tr>
<tr>
<td><samp>SpawnRandomGrassOnNewYear T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Spawns grass at random positions when a new year starts (subject to its usual spawn rules). See also <samp>SpawnGrassFromPathsOnNewYear</samp>.
</td></tr>
<tr>
<td><samp>Stumps [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'unused'">&lt;unused&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Adds stumps to the Secret Woods map daily. The third field for each stump appears to be unused.<br><i>Example: <samp>Stumps 24 6 3 29 7 3 26 10 3 46 6 3 34 26 3 41 26 3</samp>.</i>
</td></tr>
<tr>
<td><samp>Treasure <code title="required field 'type'">&lt;type&gt;</code> <code title="required field 'int id'">&lt;int id&gt;</code></samp><br><i>(valid in any location)</i>
</td>
<td>Adds buried treasure that the player can dig up. <code title="required field 'type'">&lt;type&gt;</code> can be any of the following: <br><samp>Coins, Copper, Coal, Iron, Gold, Iridium, CaveCarrot, Arch, Object</samp>.<br> If set to <samp>Arch</samp> or <samp>Object</samp>, <code title="required field 'id'">&lt;id&gt;</code> may be used to specify the ID of the item that is buried. - Per Esca, this is actually a Tile Property. Also, per Elizabeth, this is not fully implemented, advise against use.
</td></tr>
<tr>
<td><samp>Trees [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int type'">&lt;int type&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Adds trees to the map. The <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> fields are the tile coordinates, and <code title="required field 'type'">&lt;type&gt;</code> is the tree type (0: oak, 1: maple, 2: pine, 5: palm, 6: mushroom tree, 7: mahogany).<br><i>Example: <samp>Trees 17 18 2 20 31 2</samp>.</i>
</td></tr></tbody></table>
<h3 class="in-block"><span id="Warps_&amp;_map_positions"></span><span class="mw-headline" id="Warps_.26_map_positions">Warps &amp; map positions</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AllowWakeUpWithoutBed <code title="required field 'allow'">&lt;allow&gt;</code></samp>
</td>
<td>Whether the player can wake up in this location without a bed, similar to the island farmhouse. This is typically used with <samp>PassOutLocations</samp> in <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_location_contexts" title="Modding:Migrate to Stardew Valley 1.6"><samp>Data/LocationContexts</samp></a>.
</td></tr>
<tr>
<td><samp>BackwoodsEntry [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position the player is warped to when entering the farm from the Backwoods.
</td></tr>
<tr>
<td><samp>BusStopEntry [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position the player is warped to when entering the farm from the Bus Stop.
</td></tr>
<tr>
<td><samp>DefaultWarpLocation <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code></samp><br><i>(valid in any location)</i>
</td>
<td>The default arrival tile, used when a player or NPC is added to the location without a target tile (e.g. using <a href="Modding_Console_commands.html" title="Modding:Console commands">debug commands</a> like <samp>debug warp</samp> or <samp>debug eventbyid</samp>).
</td></tr>
<tr>
<td><samp>EntryLocation <code title="required field 'tile X'">&lt;tile X&gt;</code> <code title="required field 'tile Y'">&lt;tile Y&gt;</code></samp><br><i>(valid in farmhouse)</i>
</td>
<td>Sets the tile on which the player appears when they warp into the farmhouse.
</td></tr>
<tr>
<td><samp>FarmCaveEntry [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position the player is warped to when entering the farm from the farm cave.
</td></tr>
<tr>
<td><samp>FarmHouseEntry [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>Changes the position of the Farm House. Corresponds to the front door, or the position the player will be warped to when leaving the house.
</td></tr>
<tr>
<td><samp>ForestEntry [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position the player is warped to when entering the farm from the Cindersap Forest.
</td></tr>
<tr>
<td><samp>GrandpaShrineLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position of grandpa's shrine. Corresponds to the upper left corner of note.
</td></tr>
<tr>
<td><samp>GreenhouseLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The default position of the greenhouse. Corresponds to the upper left corner of the greenhouse's foundation.
</td></tr>
<tr>
<td><samp>KitchenStandingLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farmhouse)</i>
</td>
<td>The position the player's spouse will stand when using the kitchen.
</td></tr>
<tr>
<td><samp>MailboxLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>Used as part of moving a farmhouse's mailbox, this property controls where the mail icon is drawn. <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> is the tile coordinates of the base of the mailbox, the tile you interact with.
<p>In order to properly move the farmhouse mailbox you must also patch <samp>Data/Buildings</samp> to remove the <samp>Default_Mailbox</samp> entries from <samp>ActionTiles</samp> and <samp>DrawLayers</samp> and add an Action Mailbox property to the same tile as this property.
</p>
</td></tr>
<tr>
<td><samp>NPCWarp [<code title="required field 'int fromX'">&lt;int fromX&gt;</code> <code title="required field 'int fromY'">&lt;int fromY&gt;</code> <code title="required field 'string toArea'">&lt;string toArea&gt;</code> <code title="required field 'int toX'">&lt;int toX&gt;</code> <code title="required field 'int toY'">&lt;int toY&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Equivalent to <samp>Warp</samp>, but only usable by npcs.
</td></tr>
<tr>
<td><samp>PetBowlLocation <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code></samp><br><i>(valid in the farm)</i>
</td>
<td>The default position of the pet bowl
</td></tr>
<tr>
<td><samp>ShippingBinLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position of the default shipping bin. Corresponds to the upper left corner.
</td></tr>
<tr>
<td><samp>SpouseAreaLocation [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position of the the 4x4 outdoor spouse area. Corresponds to the upper left corner.<div class="thumb tright"><div class="thumbinner" style="width:152px;"><a href="File_SpouseArea.html" class="image"><noscript><img alt="SpouseArea.png" src="mediawiki/images/thumb/1/11/SpouseArea.png/150px-SpouseArea.png" decoding="async" width="150" height="90" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 150px;height: 90px;" data-src="/mediawiki/images/thumb/1/11/SpouseArea.png/150px-SpouseArea.png" data-alt="SpouseArea.png" data-width="150" data-height="90" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_SpouseArea.html" class="internal" title="Enlarge"></a></div></div></div></div>
</td></tr>
<tr>
<td><samp>SpouseRoomPosition <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code></samp><br><i>(valid in farmhouse)</i>
</td>
<td>The top-left position at which to place the <a href="Marriage.html#Spouse_Rooms" title="Marriage">spouse room</a>.
</td></tr>
<tr>
<td><samp>TravelingCartPosition <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code></samp><br><i>(valid in the forest)</i>
</td>
<td>The top-left position at which to place the <a href="Traveling_Cart.html" title="Traveling Cart">Traveling Cart</a>. This is the top-left corner of the collision box, so the roof will extend two tiles above this tile.
</td></tr>
<tr>
<td><samp>Warp [<code title="required field 'int fromX'">&lt;int fromX&gt;</code> <code title="required field 'int fromY'">&lt;int fromY&gt;</code> <code title="required field 'string toArea'">&lt;string toArea&gt;</code> <code title="required field 'int toX'">&lt;int toX&gt;</code> <code title="required field 'int toY'">&lt;int toY&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Sets the tiles which warp players or NPCs to another map (<i>e.g.,</i> doors). The <code title="required field 'fromX'">&lt;fromX&gt;</code> <code title="required field 'fromY'">&lt;fromY&gt;</code> fields are the tile coordinates that initiate the warp, and <code title="required field 'toArea'">&lt;toArea&gt;</code> <code title="required field 'toX'">&lt;toX&gt;</code> <code title="required field 'toY'">&lt;toY&gt;</code> are the name of the in-game location to warp to and the tile coordinates within it.<br><i>Example: 6 20 Mountain 76 9.</i>
</td></tr>
<tr>
<td><samp>WarpTotemEntry[<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code>]</samp><br><i>(valid in farm)</i>
</td>
<td>The position the player is warped to when teleporting to the farm via Warp Totem or Return Scepter.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Audio">Audio</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>BrookSounds [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int type'">&lt;int type&gt;</code>]</samp><br><i>(valid in outdoor locations)</i>
</td>
<td>Adds sound sources. The <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> fields are the tile coordinates, and <code title="required field 'type'">&lt;type&gt;</code> is the ambient sound ID. The <code title="required field 'type'">&lt;type&gt;</code> of sound can be one of...
<ul><li><samp>0</samp> (babblingBrook);</li>
<li><samp>1</samp> (cracklingFire);</li>
<li><samp>2</samp> (engine);</li>
<li><samp>3</samp> (cricket);</li>
<li><samp>4</samp> (waterfall);</li>
<li><samp>5</samp> (big waterfall).</li></ul>
</td></tr>
<tr>
<td><samp>Music <code title="required field 'string name'">&lt;string name&gt;</code></samp><br><i>(valid in any location)</i>
</td>
<td>Sets the music that plays when the player enters, where <code title="required field 'name'">&lt;name&gt;</code> is the cue name in the audio files.<br><i>Example: <samp>Music MarlonsTheme</samp>.</i> (Deprecated; use the music fields in <a href="Modding_Location_data.html#Music" title="Modding:Location data"><samp>Data/Locations</samp></a> instead. This property is only applied if the location has no music in <samp>Data/Locations</samp>.)
</td></tr>
<tr>
<td><samp>Music <code title="required field 'int start'">&lt;int start&gt;</code> <code title="required field 'int end'">&lt;int end&gt;</code> <code title="required field 'string name'">&lt;string name&gt;</code></samp><br><i>(valid in any location)</i>
</td>
<td>Sets the music that plays when the player enters, where <code title="required field 'name'">&lt;name&gt;</code> is the cue name in the audio files, music will only play if the time is between <code title="required field 'int start'">&lt;int start&gt;</code> (inclusive) and <code title="required field 'int end'">&lt;int end&gt;</code> (exclusive).<br><i>Example: <samp>Music 800 1200 MarlonsTheme</samp>.</i> (Deprecated; use the music fields in <a href="Modding_Location_data.html#Music" title="Modding:Location data"><samp>Data/Locations</samp></a> instead. This property is only applied if the location has no music in <samp>Data/Locations</samp>.)
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Lighting">Lighting</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AmbientLight <code title="required field 'byte r'">&lt;byte r&gt;</code> <code title="required field 'byte g'">&lt;byte g&gt;</code> <code title="required field 'byte b'">&lt;byte b&gt;</code></samp><br><i>(valid in indoor locations and locations that ignore outdoor lighting)</i>
</td>
<td>Sets the <a href="../external.html?link=https://en.wikipedia.org/wiki/RGB_color_model" class="extiw" title="wikipedia:RGB color model">RGB color</a> that is subtracted from white (255,255,255) in order to create the ambient light.<br><i>Example: <samp>AmbientLight 95 95 95</samp> for a normal indoor daytime lighting.</i>
</td></tr>
<tr>
<td><samp>AmbientNightLight <code title="required field 'byte r'">&lt;byte r&gt;</code> <code title="required field 'byte g'">&lt;byte g&gt;</code> <code title="required field 'byte b'">&lt;byte b&gt;</code></samp><br><i>(valid in indoor locations and locations that ignore outdoor lighting)</i>
</td>
<td>Sets the <a href="../external.html?link=https://en.wikipedia.org/wiki/RGB_color_model" class="extiw" title="wikipedia:RGB color model">RGB color</a> that is subtracted from white (255,255,255) in order to create the ambient night light.<br><i>Example: <samp>AmbientLight 150 150 30</samp> for greenhouse nighttime lighting.</i>
</td></tr>
<tr>
<td><samp>forceLoadPathLayerLights T</samp>²<br><i>(valid in outdoor non-festival locations)</i>
</td>
<td>Whether to load lights from the <samp>Paths</samp> layer on maps where they would not normally be.<br><i>Example: <samp>forceLoadPathLayerLights true</samp>.</i>
</td></tr>
<tr>
<td><samp>IgnoreLightingTiles T</samp>²<br><i>(valid in indoor locations)</i>
</td>
<td>Whether to ignore lights on the <samp>Front</samp> and <samp>Buildings</samp> layers.<br><i>Example: <samp>IgnoreLightingTiles true</samp>.</i>
</td></tr>
<tr>
<td><samp>Light [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int type'">&lt;int type&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Adds light sources. The <code title="required field 'type'">&lt;type&gt;</code> field is the kind of light source (<i>e.g.,</i> 4 for twin candles), and <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> are the tile coordinates.The <code title="required field 'type'">&lt;type&gt;</code> of light source can be one of...
<div class="thumb tright"><div class="thumbinner" style="width:232px;"><a href="File_LightReference.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/b/bb/LightReference.png/230px-LightReference.png" decoding="async" width="230" height="223" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 230px;height: 223px;" data-src="/mediawiki/images/thumb/b/bb/LightReference.png/230px-LightReference.png" data-alt="" data-width="230" data-height="223" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_LightReference.html" class="internal" title="Enlarge"></a></div>All 9 light types, plus the Paths-layer light, in-game.</div></div></div>
<ul><li><samp>1</samp> (lantern);</li>
<li><samp>2</samp> (window);</li>
<li><samp>4</samp> (sconce);</li>
<li><samp>5</samp> (cauldron);</li>
<li><samp>6</samp> (indoor window);</li>
<li><samp>7</samp> (projector);</li>
<li><samp>8</samp> (fish tank);</li>
<li><samp>9</samp> (winter town tree lights);</li>
<li><samp>10</samp> (pinpoint).</li></ul>
<p>Any other value will crash the game.<br><i>Example: <samp>Light 3 8 4 6 8 4 11 8 4 3 2 5 10 2 5 6 19 5 5 15 5 5 11 5 11 12 5</samp> (Adventurer's Guild).</i>
</p>
</td></tr>
<tr>
<td><samp>WindowLight [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int type'">&lt;int type&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Adds light sources that are only lit during the day when it is not raining (like the light coming through a window). See <samp>Light</samp> for details.
</td></tr></tbody></table>
<h3 class="in-block"><span id="Map_&amp;_tile_changes"></span><span class="mw-headline" id="Map_.26_tile_changes">Map &amp; tile changes</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>ClearEmptyDirtOnNewMonth T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Destroy most tilled dirt that doesn't contain crops when a new year starts.
</td></tr>
<tr>
<td><samp>DayTiles [<code title="required field 'string layerName'">&lt;string layerName&gt;</code> <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int tilesheetIndex'">&lt;int tilesheetIndex&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Sets tiles to appear between 6AM to 7PM. Anytime before 7pm, this finds the tile at position (<code title="required field 'x'">&lt;x&gt;</code>, <code title="required field 'y'">&lt;y&gt;</code>) on the map layer matching <code title="required field 'layerName'">&lt;layerName&gt;</code>, changes its tilesheet index to the specified <code title="required field 'tilesheetIndex'">&lt;tilesheetIndex&gt;</code>, and adds a glow to simulate daylight. The glow will only be added if the location is indoors and the <code title="required field 'tilesheetIndex'">&lt;tilesheetIndex&gt;</code> is 256, 288, 405, 469, or 1224. The parameters can be repeated to affect multiple tiles.<br><i>Example: <samp>DayTiles Front 3 1 256 Front 3 2 288</samp>.</i>
</td></tr>
<tr>
<td><samp>NightTiles [<code title="required field 'string layerName'">&lt;string layerName&gt;</code> <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int tilesheetIndex'">&lt;int tilesheetIndex&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Changes the tile after 7pm. Outside, it works along <samp>DayTiles</samp>: set a <samp>DayTiles</samp> tile for the map to load between 6am to 7pm, then a <samp>NightTiles</samp> to load between 7pm to the end of the day. It is mostly used for lamps in the game. Note that night time starts at different times depending on season (<a href="Day_Cycle.html#Darkness" title="Day Cycle">Day Cycle</a>).
</td></tr>
<tr>
<td><samp>Doors [<code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'string sheetID'">&lt;string sheetID&gt;</code> <code title="required field 'int tileID'">&lt;int tileID&gt;</code>]+</samp><br><i>(valid in indoor locations)</i>
</td>
<td>Adds functionality to interior doors. Used with <samp>Action Door</samp> tile properties. The <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> fields are the tile coordinates, <code title="required field 'sheetID'">&lt;sheetID&gt;</code> is the name of the sheet containing the door sprite, and <code title="required field 'tileID'">&lt;tileID&gt;</code> is the tile index in the spritesheet.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Fishing">Fishing</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>FarmFishLocationOverride <code title="required field 'location name'">&lt;location name&gt;</code> <code title="required field 'chance'">&lt;chance&gt;</code></samp><br><i>(valid in farm)</i>
</td>
<td>Adds an alternative location name when catching fish, where the <code title="required field 'chance'">&lt;chance&gt;</code> is a decimal value between 0 (never happens) and 1 (always happens). For example, <samp>FarmFishLocationOverride Mountain 0.5</samp> adds a 50% chance of catching mountain fish instead of the normal fish for that location. The location name is case-sensitive, and matches those shown by the <a rel="nofollow" class="external text" href="../external.html?link=https://www.nexusmods.com/stardewvalley/mods/679">Debug Mode mod</a>.
</td></tr>
<tr>
<td><samp>FarmOceanCrabPotOverride T</samp>²<br><i>(valid in farm)</i>
</td>
<td>Causes crab pots on the farm should catch ocean fish.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Farmhouse_interior">Farmhouse interior</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AdditionalRenovations <code title="required field 'renovation'">&lt;renovation&gt;</code>+</samp><br><i>(valid in farmhouse)</i>
</td>
<td>Used to create custom farmhouse renovations. See <a href="Modding_Farmhouse_Renovations.html" title="Modding:Farmhouse Renovations">Modding:Farmhouse Renovations</a> for details.
</td></tr>
<tr>
<td><samp>FarmHouseFlooring <code title="required field 'flooring id'">&lt;flooring id&gt;</code></samp><br><i>(valid in farm)</i>
</td>
<td>Sets the initial farmhouse floor to the given ID when creating a new save. These are mapped to the 4x4 tile areas in the <samp>Maps/walls_and_floors</samp> tilesheet starting at tile index 336 (where index 0 is mapped to the top-left square).
</td></tr>
<tr>
<td><samp>FarmHouseFurniture [<code title="required field 'furniture ID'">&lt;furniture ID&gt;</code> <code title="required field 'tile X'">&lt;tile X&gt;</code> <code title="required field 'tile Y'">&lt;tile Y&gt;</code> <code title="required field 'rotations'">&lt;rotations&gt;</code>]+</samp><br><i>(valid in farm)</i>
</td>
<td>Spawns initial furniture in the farmhouse when creating a new save. If you add multiple furniture to the same tile, the first one will be placed on the ground and the last one will be placed on the first one.<br>
</td></tr>
<tr>
<td><samp>FarmHouseStarterGift [<code title="required field 'id'">&lt;id&gt;</code> <code title="optional field 'count'">[count]</code>]+</samp>
</td>
<td>The items that should appear in the initial gift box placed in the farmhouse when the save is created. This consists of one or more pairs of item ID (which can be qualified or unqualified) and count. The count is optional on the last entry.
<p>For example, this will add 10 pufferfish (object 128) and a blobfish mask (hat 56):
</p>
<pre>FarmHouseStarterGift (O)128 10 (H)56 1</pre>
<p>If omitted, the default items (usually a 15 parsnip seeds) are added instead.
</p>
</td></tr>
<tr>
<td><samp>FarmHouseStarterSeedsPosition <code title="required field 'tile X'">&lt;tile X&gt;</code> <code title="required field 'tile Y'">&lt;tile Y&gt;</code></samp><br><i>(valid in farm)</i>
</td>
<td>Sets the tile position in the farmhouse where the seed package is placed when creating a new save.
</td></tr>
<tr>
<td><samp>FarmHouseWallpaper <code title="required field 'wallpaper id'">&lt;wallpaper id&gt;</code></samp><br><i>(valid in farm)</i>
</td>
<td>Sets the initial farmhouse wallpaper to the given ID when creating a new save. These are mapped to the 1x4 tile areas in the <samp>Maps/walls_and_floors</samp> tilesheet starting from the top-left.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Other_location_metadata">Other location metadata</span></h3>
<table class="wikitable">

<tbody><tr>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>AutoFeed T</samp>²<br><i>(valid in coops and barns)</i>
</td>
<td>Allows a barn or a coop to automatically pull hay from silos for animals to eat (Same as in Deluxe Barns and Coops).<br>
</td></tr>
<tr>
<td><samp>CanCaskHere T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Allows casks to work in that location.
</td></tr>
<tr>
<td><samp>indoorWater T</samp>²<br><i>(valid in indoor locations)</i>
</td>
<td>Enables water logic (ie. fishing, etc.) in that location.
</td></tr>
<tr>
<td><samp>IsFarm T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Marks the location as a farm. This only affects generic location/interaction logic which checks the in-code <code>location.IsFarm</code> property; logic hardcoded into the game's <code>Farm</code> class (<i>e.g.,</i> farm animals, pets, crows/scarecrows, greenhouse, farm buildings, etc) is still limited to the actual farm.
</td></tr>
<tr>
<td><samp>IsGreenhouse T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Marks the location as a greenhouse.
</td></tr>
<tr>
<td><samp>LocationContext Default</samp><br><i>(valid in any location)</i>
</td>
<td>Sets the map to be part of the mainland for game logic purposes, like weather.
</td></tr>
<tr>
<td><samp>LocationContext Island</samp><br><i>(valid in any location)</i>
</td>
<td>Sets the map to be part of Ginger Island for game logic purposes, like weather.
</td></tr>
<tr>
<td><samp>Outdoors T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Sets whether the location is outdoors.<br><i>Example: <samp>Outdoors true</samp>.</i>
</td></tr>
<tr>
<td><samp>ProduceArea <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int width'">&lt;int width&gt;</code> <code title="required field 'int height'">&lt;int height&gt;</code></samp><br><i>(valid in coops and barns)</i>
</td>
<td>Sets the area where animals can spawn within a coop or barn.<br><i>Example: <samp>ProduceArea 6 4 8 7</samp>.</i>
</td></tr>
<tr>
<td><samp>PassOutSafe T</samp><sup>2</sup><br><i>(valid in any location)</i>
</td>
<td>Marks a map as safe to pass out in. Player wakes up in their bed the next day with no money penalty.<br><i>Example: <samp>PassOutSafe T</samp></i>
</td></tr>
<tr>
<td><samp>ScreenshotRegion <code title="required field 'int left'">&lt;int left&gt;</code> <code title="required field 'int top'">&lt;int top&gt;</code> <code title="required field 'int right'">&lt;int right&gt;</code> <code title="required field 'int bottom'">&lt;int bottom&gt;</code></samp><br><i>(valid in any location)</i>
</td>
<td>Constrains the portion of the map rendered when screenshots are taken.<br><i>Example: <samp>ScreenshotRegion 0 27 69 61</samp>.</i>
</td></tr>
<tr>
<td><samp>SeasonOverride [<code title="required field 'string season'">&lt;string season&gt;</code>]</samp><br><i>(valid in any location)</i>
</td>
<td>Assumes a specific season for most game checks. (If a crop is in season, which tilesheet to use, etc.)
</td></tr>
<tr>
<td><samp>TreatAsOutdoors T</samp>²<br><i>(valid in indoor locations)</i>
</td>
<td>The location is treated as outdoors for the purposes of spawning anything other than lights from the <samp>Paths</samp> layer and yielding <a href="Coal.html" title="Coal">Coal</a> from breaking rocks.<br><i>Example: <samp>TreatAsOutdoors true</samp>.</i>
</td></tr>
<tr>
<td><samp>UniquePortrait [<code title="required field 'str name'">&lt;str name&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Switches the portraits for the named NPCs to the unique variants for the location. An NPC <samp>Jane</samp> in location <samp>Room</samp> will switch to portrait <samp>Portraits/Jane_Room</samp>.<br><i>Example: <samp>UniquePortrait Maru</samp>.</i> (Deprecated; use <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_NPC_appearance" title="Modding:Migrate to Stardew Valley 1.6">custom NPC appearances</a> instead. These properties will override NPC appearances.)
</td></tr>
<tr>
<td><samp>UniqueSprite [<code title="required field 'str name'">&lt;str name&gt;</code>]+</samp><br><i>(valid in any location)</i>
</td>
<td>Switches the spritesheets for the named NPCs to the unique variants for the location. An NPC <samp>Jane</samp> in location <samp>Room</samp> will switch to spritesheet <samp>Characters/Jane_Room</samp>.<br><i>Example: <samp>UniqueSprite Maru</samp>.</i> (Deprecated; use <a href="Modding_Migrate_to_Stardew_Valley_1.html#Custom_NPC_appearance" title="Modding:Migrate to Stardew Valley 1.6">custom NPC appearances</a> instead. These properties will override NPC appearances.)
</td></tr>
<tr>
<td><samp>ViewportClamp <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'int width'">&lt;int width&gt;</code> <code title="required field 'int height'">&lt;int height&gt;</code></samp>
</td>
<td>Stops viewport from moving outside of the specified area.<br><i>Example: <samp>ViewportClamp 10 0 35 30</samp></i> (Used on the BusStop map, end result is the top left-most visible tile is at 10, 0 and the bottom right-most visible tile is at 44, 29.)
</td></tr>
<tr>
<td><samp>ViewportFollowPlayer T</samp>²<br><i>(valid in any location)</i>
</td>
<td>Forces the viewport to stay centered on the player.<br><i>Example: <samp>ViewportFollowPlayer</samp>.</i>
</td></tr></tbody></table>
<p><br>
<small>¹ Map properties are primarily handled in various methods of the <samp>GameLocation</samp> class, particularly <samp>resetLocalState</samp>.</small><br>
<small>² The <samp>T</samp> value (short for <i>true</i>) is conventional, but any non-empty value will work too.</small>
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(6)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Known_tile_properties">Known tile properties</span></h2><section class="mf-section-6 collapsible-block" id="mf-section-6">
<p>This excludes very specialised properties like <samp>TouchAction WomensLocker</samp>.¹
</p>
<h3 class="in-block"><span class="mw-headline" id="General">General</span></h3>
<table class="wikitable">

<tbody><tr>
<th>layer
</th>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>BeachSpawn T</samp>²
</td>
<td>Allows spawning of beach-related forage and supply crates on this tile, when using the beach farm type.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Bed T</samp>²
</td>
<td>If the player stands on this tile, they're considered in bed for the purposes of stamina regen (in multiplayer) and pass-out logic.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Buildable T</samp>²
</td>
<td>Allows farm buildings to be placed on this tile if there are no other obstructions.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>DefaultBedPosition T</samp>²
</td>
<td>Used in the upgraded farmhouse for the initial placement of the player bed and when migrating saves.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>DefaultChildBedPosition T</samp>²
</td>
<td>Used in the upgraded farmhouse for the initial placement of the child beds.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Diggable T</samp>²
</td>
<td>Marks the tile as diggable with the hoe and enables planting crops. Also allows <a href="Grass.html" title="Grass">grass</a> to spread to this tile.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoFishing T</samp>²
</td>
<td>Prevents the player from casting the line onto this tile when fishing.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoFurniture T</samp>²
</td>
<td>Prevents the player from placing objects on this tile (not just furniture).
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoPath</samp>
</td>
<td>Excludes this tile from NPC pathing, making them go around it if necesssary.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoSpawn All</samp><br><samp>NoSpawn True</samp>
</td>
<td>Prevents spawning of forage items, debris (<i>e.g.,</i> weeds or stones), and wild trees on this tile.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoSpawn False</samp>
</td>
<td>Disables any previous <samp>NoSpawn</samp> property on the tile. For example, this can be used to enable spawning on a tile which has a <samp>NoSpawn</samp> tile index property.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoSpawn Grass</samp>
</td>
<td>Prevents debris (<i>e.g.,</i> weeds or stones) from spawning on this tile.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoSpawn Tree</samp>
</td>
<td>Prevents trees from spawning on this tile. Prevents the player from planting trees on this tile, except on the farm. If a tree is already on this tile, prevents it from growing.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NoSprinklers T</samp>²
</td>
<td>Prevents sprinklers from being placed on this tile.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>NPCBarrier T</samp>²
</td>
<td>Prevents NPCs from crossing this tile when used on the Farm (including coops, barns, and slime hutches), UndergroundMine, or the island. Also prevents some spawns on this tile, in those locations.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Passable T</samp>²
</td>
<td>Prevents players from walking or placing objects on this tile, even if they'd normally be able to do. (Direct opposite of <samp>Buildings Passable T</samp> below.) Commonly used on certain water tiles for bordering the sides of bridges, to prevent players from walking off into open water. Can be added as a single TileData object for a specific tile, or (more commonly) to every instance of a tile by editing the tileset and adding it to the tile index.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TemporaryBarrier T</samp>²
</td>
<td>Used only briefly when doors open. Marks this tile impassable to a player, while NPCs will treat it as an obstacle to pause before rushing through.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Type <code title="required field 'str type'">&lt;str type&gt;</code></samp>
</td>
<td>Sets the tile type for various game logic (<i>e.g.,</i> step sounds or planting crops), where <code title="required field 'type'">&lt;type&gt;</code> is one of <i>Dirt</i>, <i>Stone</i>, <i>Grass</i>, or <i>Wood</i>.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Water T</samp>²
</td>
<td>Marks the tile as a water tile for various game logic (<i>i.e.,</i> items splash into it, can refill watering can from it, can possibly fish in it, can possibly place crab pots in it, will water nearby paddy crops, will block most open-tile checks, will regenerate health in it if indoors, and will draw animated overlay over it if indoors, outdoors, in the Mines, Sewer, or Submarine; or otherwise not in the Desert).
<p><i>Setting the value to I (uppercase i) will make the tile behave like normal water, without rendering the water animation overlay.</i> 
</p>
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>WaterSource T</samp>²
</td>
<td>Lets the player refill the watering can from this tile.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>Trough T</samp>²
</td>
<td>Allows hay to be placed on this tile for animals to eat
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>LockedDoorMessage <code title="required field 'string data asset path'">&lt;string data asset path&gt;</code></samp>
</td>
<td>Used to produce a dialogue box when the conditions of <samp>ConditionalDoor</samp> aren't met. Uses the text string from the supplied string data asset. <br><i>Example: LockedDoorMessage Strings\\\\1_6_Strings:guild_door</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>NPCPassable T</samp>²
</td>
<td>NPC-only version of <samp>Passable</samp> below. Allows NPCs to pass through this tile.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Passable T</samp>²
</td>
<td>Allows passing through a tile, even though Buildings tiles can't normally be walked through. Often used for small footbridges that need to be on Buildings, over water. Direct opposite of <samp>Back Passable T</samp> above. Can be added as a single TileData object for a specific tile, or (more commonly) to every instance of a tile by editing the tileset and adding it to the tile index.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>ProjectilePassable T</samp>²
</td>
<td>Allows projectiles to cross tiles that would normally block them (<i>e.g.,</i> to allow shooting into lava pools)
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Shadow T</samp>²
</td>
<td>Player-only version of <samp>Passable</samp> above. Allows the player to pass through this tile, but not NPCs.
</td></tr>
<tr>
<td><samp>Paths</samp>
</td>
<td><samp>Order <code title="required field 'I'">&lt;I&gt;</code></samp>
</td>
<td>To place on index 29 and 30 of the Paths tilsheet. Set the order the cabins will spawn at the creation of a Multiplayer save.
</td></tr>
<tr>
<td><samp>Paths</samp>
</td>
<td><samp>SpawnTree <code title="required field 'type'">&lt;type&gt;</code> <code title="required field 'ID'">&lt;ID&gt;</code> <code title="optional field 'stage on spawn'">[stage on spawn]</code> <code title="optional field 'stage on regrow'">[stage on regrow]</code></samp>
</td>
<td>Spawns a tree when the map is created, where:
<ul><li><code title="required field 'type'">&lt;type&gt;</code> is <samp>wild</samp> (spawn a <a href="Trees.html" title="Trees">wild tree</a>) or <samp>fruit</samp> (spawn a <a href="Fruit_Trees.html" title="Fruit Trees">fruit tree</a>).</li>
<li><code title="required field 'ID'">&lt;ID&gt;</code> is the tree's key in <samp>Data/FruitTrees</samp> or <samp>Data/WildTrees</samp>.</li>
<li><code title="optional field 'stage on spawn'">[stage on spawn]</code> is the preferred tree growth stage when first populating the save (if applicable).</li>
<li><code title="optional field 'stage on regrow'">[stage on regrow]</code> is the preferred tree growth stage when regrowing trees on day update (if applicable).</li></ul>
<p>The tile must have <a href="#Paths_layer"><samp>Paths</samp> tile index</a> 34.
</p>
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="TouchAction">TouchAction</span></h3>
<p>The <samp>TouchAction</samp> property makes something happen when the player steps on the tile:
</p>
<table class="wikitable">

<tbody><tr>
<th>layer
</th>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction ChangeIntoSwimsuit</samp>
</td>
<td>Changes the player into their swimsuit and disables running.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction ChangeOutOfSwimsuit</samp>
</td>
<td>Changes the player into their regular clothes and enables running.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction ConditionalDoor <code title="required field 'query'">&lt;query&gt;</code></samp>
</td>
<td>Uses a <a href="Modding_Game_state_queries.html" title="Modding:Game state queries">game state query</a> to check if the player is allowed to pass this tile. If a <samp>LockedDoorMessage</samp> tile property is on the same tile and the query fails, a dialogue box with the supplied text string will be dislayed; Otherwise, if the query fails then a generic "It's locked..." dialogue will be shown.<br><i>Example: ConditionalDoor PLAYER_STAT Current monstersKilled 1000</i>
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction DesertBus</samp>
</td>
<td>Lets you ride the bus back to the Bus Stop.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction Emote <code title="required field 'string npc'">&lt;string npc&gt;</code> <code title="required field 'int emoteID'">&lt;int emoteID&gt;</code></samp>
</td>
<td>Finds the NPC whose name matches the <code title="required field 'npc'">&lt;npc&gt;</code> field, and causes them to show the given <code title="required field 'emoteID'">&lt;emoteID&gt;</code> above their head (4: empty can, 8: question mark, 12: angry, 16: exclamation, 20: heart, 24: sleep, 28: sad, 32: happy, 36: x, 40: pause, 52: videogame, 56: music note, 60: blush).
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction FaceDirection <code title="required field 'string npc'">&lt;string npc&gt;</code> <code title="required field 'int direction'">&lt;int direction&gt;</code></samp>
</td>
<td>Finds the NPC whose name matches the <code title="required field 'npc'">&lt;npc&gt;</code> field, and make them face the given direction (0: up, 1: right, 2: down, 3: left).
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction legendarySword</samp>
</td>
<td>Gives them the <a href="Galaxy_Sword.html" title="Galaxy Sword">Galaxy Sword</a> when holding a <a href="Prismatic_Shard.html" title="Prismatic Shard">Prismatic Shard</a>.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction MagicWarp <code title="required field 'string area'">&lt;string area&gt;</code> <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="optional field 'string prerequisite'">[string prerequisite]</code></samp>
</td>
<td>Warps the player to the <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> tile coordinates in the given <code title="required field 'area'">&lt;area&gt;</code> with a magic sound and effects. If the <code title="optional field 'prerequisite'">[prerequisite]</code> field is specified, only occurs if that flag is set via <samp>Game1.player.mailReceived</samp>.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction PlayEvent <code title="required field 'event id'">&lt;event id&gt;</code> <code title="optional field 'check preconditions'">[check preconditions]</code> <code title="optional field 'skip if seen'">[skip if seen]</code> <code title="optional field 'fallback action'">[fallback action]</code></samp>
</td>
<td>Equivalent to <samp>Action PlayEvent</samp>, but activated on touch. Note that <code title="optional field 'fallback action'">[fallback action]</code> is an <samp>Action</samp> tile property, <i>not</i> a <samp>TouchAction</samp> tile property.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction PoolEntrance</samp>
</td>
<td>Switches the player between swimming and walking mode.
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction Sleep</samp>
</td>
<td>Ends the day if the player confirms. (Requires the Bed tile property to function as a bed)
</td></tr>
<tr>
<td><samp>Back</samp>
</td>
<td><samp>TouchAction Warp <code title="required field 'string area'">&lt;string area&gt;</code> <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="optional field 'string prerequisite'">[string prerequisite]</code></samp>
</td>
<td>Adds a player-only warp on the tile to the specified location name and position. This is exactly equivalent to <samp>TouchAction MagicWarp</samp>, but without the magic sound/visual effect.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Action">Action</span></h3>
<p>The <samp>Action</samp> property makes something happen when the player interacts (<i>e.g.,</i> clicks) with the tile:
</p>
<table class="wikitable">

<tbody><tr>
<th>layer
</th>
<th>property
</th>
<th>explanation
</th></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action AdventureShop</samp>
</td>
<td>Shows the Adventurer's Guild shop screen.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Arcade_Prairie</samp>
</td>
<td>Shows the <i>Journey of the Prairie King</i> arcade game.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Arcade_Minecart</samp>
</td>
<td>Shows the <i>Junimo Kart</i> arcade game.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action BuyBackpack</samp>
</td>
<td>Shows a menu which lets the player upgrade their backpack if an upgrade is available.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Billboard</samp>
</td>
<td>Shows the calendar menu.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Blacksmith</samp>
</td>
<td>Opens Clint's shop menu, if Clint is nearby.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Buy</samp>
</td>
<td>In the SeedShop, opens Pierre's shop menu, if Pierre is nearby (or the box version if he's visiting Ginger Island). In Sandy's house, opens Sandy's shop menu, if Sandy is neaby. Does nothing in other locations.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action BrokenBeachBridge</samp>
</td>
<td>Prompts you to use wood to repair the bridge.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action BuildingSilo</samp>
</td>
<td>If a building covers this tile, enables <a href="Silo.html" title="Silo">silo</a> interactions on this tile subject to the building's <samp>HayCapacity</samp> field in <samp>Data/Buildings</samp>.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action BuildingToggleAnimalDoor</samp>
</td>
<td>If a building covers this tile, opens or closes its animal door.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action BuyQiCoins</samp>
</td>
<td>Shows a dialogue which lets the player buy 100 Casino club coins.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Concessions</samp>
</td>
<td>Opens the snack shop in the theater. (Only from inside the theater.)
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ConditionalDoor <code title="required field 'query'">&lt;query&gt;</code></samp>
</td>
<td>Place on an interior door's bottom tile. Uses a <a href="Modding_Game_state_queries.html" title="Modding:Game state queries">game state query</a> to check if the player can open the door. If a <samp>LockedDoorMessage</samp> tile property is on the same tile and the query fails, a dialogue box with the supplied text string will be dislayed; Otherwise, if the query fails then a generic "It's locked..." dialogue will be shown.<br><i>Example: ConditionalDoor PLAYER_STAT Current monstersKilled 1000</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Carpenter</samp>
</td>
<td>Opens the carpenter menu, if Robin is nearby.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ColaMachine</samp>
</td>
<td>Offers to let the player buy a Joja cola.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ClubCards</samp><br><samp>Action Blackjack</samp>
</td>
<td>Shows the casino blackjack minigame.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ClubComputer</samp><br><samp>Action FarmerFile</samp>
</td>
<td>Shows a dialogue with play stats (steps taken, gifts given, dirt hoed, etc).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ClubSeller</samp>
</td>
<td>Shows a dialogue which lets the player buy a <a href="Statue_Of_Endless_Fortune.html" title="Statue Of Endless Fortune">Statue Of Endless Fortune</a> for one million gold.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ClubShop</samp>
</td>
<td>Shows the casino shop menu.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ClubSlots</samp>
</td>
<td>Shows the casino slots minigame.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Dialogue <code title="required field 'text'">&lt;text&gt;</code></samp>
</td>
<td>Shows a generic dialogue box with the given text. See <a href="Modding_Dialogue.html" title="Modding:Dialogue">dialogue format</a>.<br><i>Example: Action Dialogue Hi there @!</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action DivorceBook</samp>
</td>
<td>Shows divorce options for the player's current marriage status (as if they clicked the <a href="Marriage.html#Divorce" title="Marriage">divorce book</a>).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Door <code title="required field 'npcName'">&lt;npcName&gt;</code> <code title="optional field 'npcName'">[npcName]</code></samp>
</td>
<td>Sets up an interior door that cannot be opened unless the player has two or more hearts of friendship with any of the named NPC(s). Placed on the lower of the two door tiles. See <a href="Modding_Dialogue.html" title="Modding:Dialogue">dialogue format</a>.<br><i>Example: Action Door Abigail</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action DropBox <code title="required field 'ID'">&lt;ID&gt;</code></samp>
</td>
<td>A location that allows the player to drop off items when a <a href="Modding_Special_orders.html" title="Modding:Special orders">special order</a> with the given <code title="required field 'ID'">&lt;ID&gt;</code> is active.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action DyePot</samp>
</td>
<td>Opens the Dye Pot menu, Must have seen event <i>992559</i> for it to open. (The event of Emily visiting the farmhouse after you have gotten your first piece of cloth.)
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ElliottBook</samp>
</td>
<td>Displays the text <i>Blank book</i>.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ElliottPiano <code title="required field '1-4'">&lt;1-4&gt;</code></samp>
</td>
<td>Plays one of four possible piano notes. <i>ElliottPiano 1</i> plays the lowest note and <i>ElliottPiano 4</i> plays the highest note.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action EnterSewer</samp>
</td>
<td>Warps you to the sewer if you have obtained the key.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action EvilShrineLeft</samp>
</td>
<td>Turns your kids into doves for a prismatic shard.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action EvilShrineCenter</samp>
</td>
<td>Erases your ex-spouses memory of you.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action EvilShrineRight</samp>
</td>
<td>Toggles monster spawning for your farm.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Forge</samp>
</td>
<td>Opens the <a href="Forge.html" title="Forge">Forge</a> menu.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Garbage <code title="required field 'ID'">&lt;ID&gt;</code></samp>
</td>
<td>Has a chance to give a specific item to the player based on the <code title="required field 'ID'">&lt;ID&gt;</code>. Can only be clicked once per day. TODO: Explain what each <code title="required field 'ID'">&lt;ID&gt;</code> means.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Gunther</samp>
</td>
<td>Opens the museum menu where you can donate artifacts or claim rewards.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action HMTGF</samp>
</td>
<td>Gives you "<a href="__HMTGF__.html" title="??HMTGF??">??HMTGF??</a>" when you have a <a href="Super_Cucumber.html" title="Super Cucumber">Super Cucumber</a> in your hand.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action IceCreamStand</samp>
</td>
<td>If Summer, shows the Ice Cream Stand shopping screen. Otherwise, the player will be told to come back in the summer. (Needs an NPC behind the stand.)
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action JojaShop</samp>
</td>
<td>Shows the Joja shopping screen.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Jukebox</samp>
</td>
<td>Shows the jukebox menu to choose the ambient music.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action kitchen</samp><br><i>(valid in any location)</i>
</td>
<td>Shows the cooking menu.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Letter <code title="required field 'string messageKey'">&lt;string messageKey&gt;</code></samp>
</td>
<td>Loads a message with the given key from the <i>Content\Strings\StringsFromMaps.xnb</i> file and displays it on-screen as a letter. Uses the same syntax as <i>Data\mail.xnb</i>.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action LockedDoorWarp [<code title="required field 'int toX'">&lt;int toX&gt;</code> <code title="required field 'int toY'">&lt;int toY&gt;</code> <code title="required field 'string toArea'">&lt;string toArea&gt;</code> <code title="required field 'int openTime'">&lt;int openTime&gt;</code> <code title="required field 'int closeTime'">&lt;int closeTime&gt;</code> <code title="required field 'NPC'">&lt;NPC&gt;</code> <code title="required field 'friendship'">&lt;friendship&gt;</code>]</samp>
</td>
<td>Creates an activation warp normally used on doors with a time window for when it can be used. Note that you must use 24-hour times, <i>i.e.,</i> 2000 for 8pm. The last two terms, if specified, add a friendship requirement on top of the time requirement. <br><i>Example: 7 9 LeahHouse 1000 1800 Leah 500</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action LuauSoup</samp>
</td>
<td>Used for the Luau Festival, this is where you insert a food item for the soup.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MagicInk</samp>
</td>
<td>Adds the Magic Ink to your wallet.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Mailbox</samp>
</td>
<td>Shows the next letter from the player's mailbox (if any).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Message <code title="required field 'string messageKey'">&lt;string messageKey&gt;</code></samp>
</td>
<td>Loads a message with the given key from the <i>Content\Strings\StringsFromMaps.xnb</i> file and displays it in a dialogue box.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MessageOnce <code title="required field 'int eventID'">&lt;int eventID&gt;</code> <code title="required field 'string message'">&lt;string message&gt;</code></samp>
</td>
<td>If the player hasn't seen the event with ID <code title="required field 'eventID'">&lt;eventID&gt;</code>, marks that event seen and displays the given message text in a dialogue box. This does <i>not</i> parse <a href="Modding_Dialogue.html" title="Modding:Dialogue">dialogue format</a>.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MessageSpeech <code title="required field 'string messageKey'">&lt;string messageKey&gt;</code></samp>
</td>
<td>Identical to <samp>Action Message</samp>, but replaces the usual inspection cursor with a speech cursor.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MineSign <code title="required field 'string message'">&lt;string message&gt;</code></samp>
</td>
<td>Shows a mini-dialogue box with the given raw message text. This does <i>not</i> parse <a href="Modding_Dialogue.html" title="Modding:Dialogue">dialogue format</a>.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MinecartTransport</samp>
</td>
<td>Shows the minecart destination menu (or a message if not unlocked).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action MineElevator</samp>
</td>
<td>Shows the mine elevator menu (to warp to a mine level) if the player has reached mine level 5+, else a mine elevator not working message.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action NextMineLevel</samp>
</td>
<td>Warps the player to the next mine level (or level 1 if they're not in the mine).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action None</samp>
</td>
<td>Does nothing. This is used to mark the tile interactive if the click will be handled separately.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Notes <code title="required field 'int noteID'">&lt;int noteID&gt;</code></samp>
</td>
<td>If the player has found the specified lost book, displays its museum note text and marks it read.<br><i>Example: Action Notes 17</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action NPCMessage <code title="required field 'str name'">&lt;str name&gt;</code> "<code title="required field 'str dialogueKey'">&lt;str dialogueKey&gt;</code>"</samp>
</td>
<td>If the named NPC is within 14 tiles of the player, reads dialogue with the given key from the string files and displays a dialogue box. See <a href="Modding_Dialogue.html" title="Modding:Dialogue">dialogue format</a>.<br><i>Example: Action NPCMessage Abigail "Strings\\StringsFromCSFiles:Event.cs.1022"</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action ObeliskWarp <code title="required field 'location name'">&lt;location name&gt;</code> <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> <code title="optional field 'whether to dismount'">[whether to dismount]</code></samp>
</td>
<td>Warps the player to the specified location name and position with the <a href="Warp_Totem.html" title="Warp Totem">Obelisk</a> animation/sound effects. This map property will generate a warning in the log about being an unknown warp property even when used correctly - this warning can be ignored.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action OpenShop <code title="required field 'shop id'">&lt;shop id&gt;</code> <code title="optional field 'from direction'">[from direction]</code> <code title="optional field 'open time'">[open time]</code> <code title="optional field 'close time'">[close time]</code> <code title="optional field 'owner tile area'">[owner tile area]</code></samp>
</td>
<td>Open the <a href="Modding_Shops.html" title="Modding:Shops">shop</a> with the given <code title="required field 'shop id'">&lt;shop id&gt;</code>. All arguments besides the ID are optional:
<ul><li><code title="optional field 'from direction'">[from direction]</code>: if specified, the player must be standing in this direction relative to the shop (one of <samp>down</samp>, <samp>up</samp>, <samp>left</samp>, <samp>right</samp>, or <samp>none</samp>). Setting this to <samp>none</samp> disables the requirement. The default for most vanilla shops is <samp>down</samp>.</li>
<li><code title="optional field 'open time'">[open time]</code> and <code title="optional field 'close time'">[close time]</code>: the start &amp; end times in 26-hour format when the shop is available. Interacting with the tile outside those times does nothing. If omitted, the shop will be open at all hours (however it is possible to close it using a <samp>ClosedMessage</samp> in its <a href="Modding_Shops.html" title="Modding:Shops">Data/Shops</a> entry).</li>
<li><code title="optional field 'owner tile area'">[owner tile area]</code>: if specified, the tile area which must contain one of the shop owners for the shop to be available. For a custom shop, these are defined by its <samp>Owners</samp> field. This must be written as: <samp><code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> <code title="required field 'width'">&lt;width&gt;</code> <code title="required field 'height'">&lt;height&gt;</code></samp>.</li></ul>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action PlayEvent <code title="required field 'event id'">&lt;event id&gt;</code> <code title="optional field 'check preconditions'">[check preconditions]</code> <code title="optional field 'skip if seen'">[skip if seen]</code> <code title="optional field 'fallback action'">[fallback action]</code></samp>
</td>
<td>Immediately start an <a href="Modding_Event_data.html" title="Modding:Event data">event</a>, subject to the conditions:
<ul><li><code title="optional field 'check preconditions'">[check preconditions]</code>: whether to ignore the action if the <a href="Modding_Event_data.html#Event_preconditions" title="Modding:Event data">event's preconditions</a> don't match (one of <samp>true</samp> or <samp>false</samp>). Default true.</li>
<li><code title="optional field 'skip if seen'">[skip if seen]</code>: whether to ignore the action if the player has already seen the given event. Default true.</li></ul>
<p>If the event doesn't start for any reason (including the preceding conditions):
</p>
<ul><li>If <code title="optional field 'fallback action'">[fallback action]</code> is specified, it'll be run as an action. This can be any <samp>Action</samp> tile property (without the "Action " prefix), like <code>Action PlayEvent 60367 true true PlayEvent 520702 false false</code> to play a different event.</li>
<li>Otherwise the action is silently ignored.</li></ul>
<p>For example, <code>Action PlayEvent 60367 false false</code> will replay the bus arrival event from the start of the game.
</p>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action playSound <code title="required field 'str cueName'">&lt;str cueName&gt;</code></samp>
</td>
<td>Play the sound or music with the given name.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action QiChallengeBoard</samp>
</td>
<td>Opens the request/challenge board from the Mr Qi walnut room.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action QiCoins</samp>
</td>
<td>Shows a dialogue which lets the player buy 10 Casino club coins if they have none, else shows how many they have.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action QiGemShop</samp>
</td>
<td>Opens the Mr Qi walnut room shop.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Saloon</samp>
</td>
<td>Opens the Saloon menu, if Gus is nearby.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action SandDragon</samp>
</td>
<td>Used for Part 3 of the Mysterious Mr. Qi Quest.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Shop</samp>
</td>
<td>On festival maps, opens the festival shop. No effect on non-festival maps.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Theater_BoxOffice</samp>
</td>
<td>Opens the ticket menu for the theater, if you have it unlocked.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action TownMailbox <code title="required field 'ID'">&lt;ID&gt;</code></samp>
</td>
<td>Unused.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Tailoring</samp>
</td>
<td>Opens the tailoring menu like the one in Emily and Haleys house. Must have seen event <i>992559</i> for it to open. (The event of Emily visiting the farmhouse after you have gotten your first piece of cloth.)
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action TunnelSafe</samp>
</td>
<td>Starts the The Mysterious Qi quest if you have a Battery Pack selected.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action Warp <code title="required field 'int x'">&lt;int x&gt;</code> <code title="required field 'int y'">&lt;int y&gt;</code> <code title="required field 'str area'">&lt;str area&gt;</code></samp>
</td>
<td>Warps the player to the <code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code> tile coordinate in the <code title="required field 'area'">&lt;area&gt;</code> game location.<br><i>Example: Action Warp 76 9 Mountain</i>
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action WarpCommunityCenter</samp>
</td>
<td>Warps the player to the inside of the Community Center if they have access (else show an "it's locked" message).
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action WarpGreenhouse</samp>
</td>
<td>Warps the player to the inside of their greenhouse if they've unlocked it, else shows a message about the greenhouse ruins.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action WizardBook</samp>
</td>
<td>If unlocked, you buy buildings from the wizard here.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action WizardHatch</samp>
</td>
<td>If you're good enough friends with the wizard you warp to his basement, if not you get told you can't go in.
</td></tr>
<tr>
<td><samp>Buildings</samp>
</td>
<td><samp>Action WizardShrine</samp>
</td>
<td>Shows the character customisation menu normally available from the Wizard's tower.
</td></tr></tbody></table>
<p><small>¹ Tile properties are handled throughout the codebase using <samp>GameLocation::doesTileHaveProperty</samp>. Actions and touch actions are handled by <samp>GameLocation::performAction</samp> and <samp>GameLocation::performTouchAction</samp> respectively. Emote IDs are listed as <samp>Character</samp> constants.</small><br>
<small>² The <samp>T</samp> value (short for <i>true</i>) is conventional, but any non-empty value will work too.</small>
</p>
<h3 class="in-block"><span class="mw-headline" id="Custom_Actions">Custom Actions</span></h3>
<p>C# mods can handle custom <samp>Action</samp> &amp; <samp>TouchAction</samp> map properties by calling <samp>GameLocation.RegisterTileAction</samp> &amp; <samp>RegisterTouchAction</samp>, and passing a callback which receives the location, map property arguments, player who activated it, and tile position.
</p><p>For example, let's say you want a locked gate which needs a custom key item. You can add a regular <code>TouchAction Example.ModId_UnlockGate</code> map property (e.g. by adding it directly in the map file, or using <a href="Modding_Content_Patcher.html" title="Modding:Content Patcher">Content Patcher</a>'s <samp>EditMap</samp>, or using the <a href="Modding_Modder_Guide/APIs/Content.html" title="Modding:Modder Guide/APIs/Content">content API</a>). Then you can just handle the logic from your C# mod:
</p>
<table class="mw-collapsible mw-collapsed" style="">
<tbody><tr>
<th style="text-align: left;"><b>Example</b> 
</th></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">internal</span> <span class="k">class</span> <span class="nc">ModEntry</span> <span class="p">:</span> <span class="n">Mod</span>
<span class="p">{</span>
    <span class="c1">/// &lt;inheritdoc /&gt;</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">GameLocation</span><span class="p">.</span><span class="n">RegisterTouchAction</span><span class="p">(</span><span class="s">"Example.ModId_UnlockGate"</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">HandleUnlockGate</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">HandleUnlockGate</span><span class="p">(</span><span class="n">GameLocation</span> <span class="n">location</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">,</span> <span class="n">Farmer</span> <span class="n">player</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">tile</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="kt">string</span> <span class="n">mailFlag</span> <span class="p">=</span> <span class="s">"Example.ModId_GateUnlocked"</span><span class="p">;</span>
        <span class="k">const</span> <span class="kt">string</span> <span class="n">keyId</span> <span class="p">=</span> <span class="s">"Example.ModId_GateKey"</span><span class="p">;</span>

        <span class="c1">// unlock gate if locked</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">player</span><span class="p">.</span><span class="n">mailReceived</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">mailFlag</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">ContainsId</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DialogueBox</span><span class="p">(</span><span class="s">"This gate is locked. I wonder where the key is?"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">player</span><span class="p">.</span><span class="n">removeFirstOfThisItemFromInventory</span><span class="p">(</span><span class="n">keyId</span><span class="p">);</span>
            <span class="n">player</span><span class="p">.</span><span class="n">mailReceived</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">mailFlag</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// apply open-gate map edit</span>
        <span class="c1">// NOTE: this is a quick example which changes the location's current map. If another mod reloads the map</span>
        <span class="c1">// (e.g. a content pack editing it), the change will be lost. For persistent changes, you should use the</span>
        <span class="c1">// AssetRequested event to apply the change when the map is reloaded.</span>
        <span class="n">IAssetDataForMap</span> <span class="n">mapHelper</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">GameContent</span><span class="p">.</span><span class="n">GetPatchHelper</span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">map</span><span class="p">).</span><span class="n">AsMap</span><span class="p">();</span>
        <span class="n">mapHelper</span><span class="p">.</span><span class="n">PatchMap</span><span class="p">(</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">Load</span><span class="p">&lt;</span><span class="n">Map</span><span class="p">&gt;(</span><span class="s">"assets/unlocked-gate.tmx"</span><span class="p">),</span>
            <span class="n">targetArea</span><span class="p">:</span> <span class="k">new</span> <span class="n">Rectangle</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">tile</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">tile</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
<p>As another example, let's say you want the gate to unlock when the player presses the action key. You can add a regular <code>Action Example.ModId_UnlockGate</code> map property (e.g. by adding it directly in the map file, or using <a href="Modding_Content_Patcher.html" title="Modding:Content Patcher">Content Patcher</a>'s <samp>EditMap</samp>, or using the <a href="Modding_Modder_Guide/APIs/Content.html" title="Modding:Modder Guide/APIs/Content">content API</a>). Then you can just handle the logic from your C# mod:
</p>
<table class="mw-collapsible mw-collapsed" style="">
<tbody><tr>
<th style="text-align: left;"><b>Example</b> 
</th></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">internal</span> <span class="k">class</span> <span class="nc">ModEntry</span> <span class="p">:</span> <span class="n">Mod</span>
<span class="p">{</span>
    <span class="c1">/// &lt;inheritdoc /&gt;</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">GameLocation</span><span class="p">.</span><span class="n">RegisterTileAction</span><span class="p">(</span><span class="s">"Example.ModId_UnlockGate"</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">HandleUnlockGate</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="kt">bool</span> <span class="nf">HandleUnlockGate</span><span class="p">(</span><span class="n">GameLocation</span> <span class="n">location</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">,</span> <span class="n">Farmer</span> <span class="n">player</span><span class="p">,</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">Xna</span><span class="p">.</span><span class="n">Framework</span><span class="p">.</span><span class="n">Point</span> <span class="n">point</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">const</span> <span class="kt">string</span> <span class="n">mailFlag</span> <span class="p">=</span> <span class="s">"Example.ModId_GateUnlocked"</span><span class="p">;</span>
        <span class="k">const</span> <span class="kt">string</span> <span class="n">keyId</span> <span class="p">=</span> <span class="s">"Example.ModId_GateKey"</span><span class="p">;</span>

        <span class="c1">// unlock gate if locked</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">player</span><span class="p">.</span><span class="n">mailReceived</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">mailFlag</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Items</span><span class="p">.</span><span class="n">ContainsId</span><span class="p">(</span><span class="n">id</span><span class="p">,</span> <span class="n">count</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DialogueBox</span><span class="p">(</span><span class="s">"This gate is locked. I wonder where the key is?"</span><span class="p">);</span>
                <span class="c1">// Show as non-interactable</span>
                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="n">player</span><span class="p">.</span><span class="n">removeFirstOfThisItemFromInventory</span><span class="p">(</span><span class="n">keyId</span><span class="p">);</span>
            <span class="n">player</span><span class="p">.</span><span class="n">mailReceived</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">mailFlag</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// apply open-gate map edit</span>
        <span class="c1">// NOTE: this is a quick example which changes the location's current map. If another mod reloads the map</span>
        <span class="c1">// (e.g. a content pack editing it), the change will be lost. For persistent changes, you should use the</span>
        <span class="c1">// AssetRequested event to apply the change when the map is reloaded.</span>
        <span class="n">IAssetDataForMap</span> <span class="n">mapHelper</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">GameContent</span><span class="p">.</span><span class="n">GetPatchHelper</span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">map</span><span class="p">).</span><span class="n">AsMap</span><span class="p">();</span>
        <span class="n">mapHelper</span><span class="p">.</span><span class="n">PatchMap</span><span class="p">(</span>
            <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">Load</span><span class="p">&lt;</span><span class="n">Map</span><span class="p">&gt;(</span><span class="s">"assets/unlocked-gate.tmx"</span><span class="p">),</span>
            <span class="n">targetArea</span><span class="p">:</span> <span class="k">new</span> <span class="n">Rectangle</span><span class="p">((</span><span class="kt">int</span><span class="p">)</span><span class="n">point</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">point</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">2</span><span class="p">)</span>
        <span class="p">);</span>

        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(7)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Paths_layer">Paths layer</span></h2><section class="mf-section-7 collapsible-block" id="mf-section-7">
<p>The <samp>Paths</samp> layer has icon tiles from the <samp>paths</samp> tilesheet which affect game behavior on the map:
</p>
<div class="thumb tright"><div class="thumbinner" style="width:194px;"><a href="File_PathsExplanation.html" class="image"><noscript><img alt="" src="mediawiki/images/b/b1/PathsExplanation.png" decoding="async" width="192" height="480" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 192px;height: 480px;" data-src="/mediawiki/images/b/b1/PathsExplanation.png" data-alt="" data-width="192" data-height="480" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_PathsExplanation.html" class="internal" title="Enlarge"></a></div>The tile indexes shown in the table.</div></div></div>
<table class="wikitable">

<tbody><tr>
<th>tile index
</th>
<th>explanation
</th>
<th>restrictions
</th></tr>
<tr>
<td>0–6
</td>
<td>Unused.
</td>
<td>
</td></tr>
<tr>
<td>7
</td>
<td>Used in the <a href="Modding_NPC_data.html" title="Modding:NPC data">spouse patio/room</a> and <a href="Movie_Theater.html" title="Movie Theater">movie theater</a> to mark where an NPC should stand.
<p>For the movie theater only, you can add a <samp>direction</samp> tile property on the <samp>Paths</samp> layer with the <a href="Modding_Event_data.html#Directions" title="Modding:Event data">facing direction</a> numeric value (default down). In the spouse patio/room, you can't set the initial facing direction.
</p>
</td>
<td>Used for spouse areas and the Movie Theater.
</td></tr>
<tr>
<td>8
</td>
<td>Add this tile to the <a href="#Map_properties_2"><samp>Light</samp> map property</a> with light type 4 (sconce).
</td>
<td>Indoors and festivals only.²
</td></tr>
<tr>
<td>9–12
</td>
<td>Spawn a <a href="Trees.html" title="Trees">tree</a> when the location is created. Trees have a 50% chance to respawn each day outside the farm. (See also 31–32.)<br>Available trees: oak (9), maple (10), pine (11), and palm 1 (12).
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>13–18
</td>
<td>Spawn debris when the location is created, or randomly each day. Outside the farm, respawn in spring.<br>Available debris: <a href="Weeds.html" title="Weeds">seasonal weed</a> (13–15), rock (16–17), twig (18).
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>19
</td>
<td>Spawn a <a href="Large_Log.html" title="Large Log">large log</a> when the farm is created, with the top-left corner on this tile.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>20
</td>
<td>Spawn a <a href="Boulder.html" title="Boulder">boulder</a> when the farm is created, with the top-left corner on this tile.
</td>
<td>Farm only.
</td></tr>
<tr>
<td>21
</td>
<td>Spawn a <a href="Large_Stump.html" title="Large Stump">hardwood stump</a> when the farm is created (and every day on the forest farm), with the top-left corner on this tile.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>22
</td>
<td>Spawn <a href="Grass.html" title="Grass">grass</a> when the location is created, or randomly afterwards.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>23
</td>
<td>Spawn a random oak, maple, or pine <a href="Trees.html" title="Trees">tree</a> at growth stage 2–3 when the location is created.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>24–26
</td>
<td>Spawn a normal bush when the location is created. Medium bushes grow <a href="Blackberry.html" title="Blackberry">blackberries</a> and <a href="Salmonberry.html" title="Salmonberry">salmonberries</a>.<br>Available bushes: large (24), medium (25), small (26).
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>27
</td>
<td>When the location is created, add this tile to the <a href="#Map_properties_2"><samp>BrookSounds</samp> map property</a> with the <samp>babblingBrook</samp> sound.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>28
</td>
<td>Spawn a <a href="Grub.html" title="Grub">grub</a> here (33% chance per day, unless the map already has 50 grubs).
</td>
<td><a href="Mutant_Bug_Lair.html" title="Mutant Bug Lair">Mutant Bug Lair</a> only.
</td></tr>
<tr>
<td>29–30
</td>
<td>Place prebuilt <a href="Cabin.html" title="Cabin">cabins</a> in <a href="Multiplayer.html" title="Multiplayer">multiplayer</a> based on the layout (29=nearby or 30=separate) and <a href="#Tile_properties_2"><samp>Order</samp> tile property</a>, with the top-left corner on this tile.
</td>
<td>Farm only.
</td></tr>
<tr>
<td>31–32
</td>
<td>Spawn a <a href="Trees.html" title="Trees">tree</a> when the location is created. Trees have a 50% chance to respawn each day outside the farm. (See also 9–12.)<br>Available trees: palm 2 (31), mahogany (32).
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>33
</td>
<td>Spawn a <a href="Golden_Walnut.html" title="Golden Walnut">golden walnut</a> bush when the location is created.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>34
</td>
<td>Enables the <samp>SpawnTree</samp> <a href="Modding_Maps.html#Known_tile_properties" title="Modding:Maps">tile property</a> on this tile, which lets you spawn/regrow wild or fruit trees.
</td>
<td>Outdoors only.
</td></tr>
<tr>
<td>35
</td>
<td>Has no effect in-game. This is just a visual indicator you can use when editing maps (e.g. to keep track of where you set tile properties).
</td>
<td>
</td></tr>
<tr>
<td>36
</td>
<td>Spawn blue <a href="Grass.html" title="Grass">grass</a> when the location is created, or randomly afterwards.
</td>
<td>Outdoors only.
</td></tr></tbody></table>
<p>Notes:
</p>
<ol><li>In the <a href="Mutant_Bug_Lair.html" title="Mutant Bug Lair">Mutant Bug Lair</a>, debris spawn rate is reduced to 33% chance per day.</li>
<li>Restriction can be overridden with <samp>forceLoadPathLayerLights</samp> map property.</li></ol>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(8)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Potential_issues">Potential issues</span></h2><section class="mf-section-8 collapsible-block" id="mf-section-8">
<h3 class="in-block"><span class="mw-headline" id="Tilesheet_order">Tilesheet order</span></h3>
<p>When you replace a vanilla map, <b>don't</b> change the order or IDs of the original tilesheets. Prefix new tilesheet IDs with <code>z_</code> to avoid changing the original order.
</p>
<dl><dt>Why this causes problems</dt>
<dd>For example, let's say you replace a map which normally has these tilesheets in Tiled:</dd>
<dd><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="File_Tiled_tileset_order_A.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/a/a3/Tiled_tileset_order_A.png/300px-Tiled_tileset_order_A.png" decoding="async" width="300" height="216" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 300px;height: 216px;" data-src="/mediawiki/images/thumb/a/a3/Tiled_tileset_order_A.png/300px-Tiled_tileset_order_A.png" data-alt="" data-width="300" data-height="216" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Tiled_tileset_order_A.html" class="internal" title="Enlarge"></a></div>The original tilesheet order.</div></div></div></dd></dl>
<dl><dd>When you add a new tilesheet, note that the order changes from <i>[paths, untitled tile sheet]</i> to <i>[customSheet, paths, untitled tile sheet]</i>:</dd>
<dd><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="File_Tiled_tileset_order_B.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/7/79/Tiled_tileset_order_B.png/300px-Tiled_tileset_order_B.png" decoding="async" width="300" height="216" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 300px;height: 216px;" data-src="/mediawiki/images/thumb/7/79/Tiled_tileset_order_B.png/300px-Tiled_tileset_order_B.png" data-alt="" data-width="300" data-height="216" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Tiled_tileset_order_B.html" class="internal" title="Enlarge"></a></div><b>Wrong</b> way to add a new tilesheet (changes the original order).</div></div></div></dd></dl>
<dl><dd>If the game tries to access a tile from the first tilesheet, it will get it from <samp>customSheet</samp> instead of the expected <samp>Paths</samp> tilesheet. That can cause anything from visual glitches (<i>e.g.,</i> showing the wrong tile images) to outright crashes (especially if the new tilesheet is smaller than the one it expected).</dd></dl>
<dl><dd>To avoid that, always keep the original tilesheets in the same order and prefix new tilesheets with <code>z_</code> so they're added at the end:</dd>
<dd><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="File_Tiled_tileset_order_C.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/f/f2/Tiled_tileset_order_C.png/300px-Tiled_tileset_order_C.png" decoding="async" width="300" height="216" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 300px;height: 216px;" data-src="/mediawiki/images/thumb/f/f2/Tiled_tileset_order_C.png/300px-Tiled_tileset_order_C.png" data-alt="" data-width="300" data-height="216" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Tiled_tileset_order_C.html" class="internal" title="Enlarge"></a></div>Correct way to add a new tilesheet.</div></div></div></dd></dl>
<dl><dt>How to fix an affected tilesheet</dt>
<dd>See <i><a href="#.22mod_reordered_the_original_tilesheets.22">"mod reordered the original tilesheets"</a></i> below.</dd></dl>
<h3 class="in-block"><span class="mw-headline" id="Local_copy_of_a_vanilla_tilesheet">Local copy of a vanilla tilesheet</span></h3>
<p>When editing a map in Tiled, you may need to copy vanilla tilesheets like <samp>path.png</samp> or <samp>spring_town.png</samp> into the map folder for Tiled to find. If the tilesheet is still there when you load the game, SMAPI will use it for your map instead of the game's vanilla tilesheet, which may have unintended effects (<i>e.g.,</i> edits from recolor mods won't work in your map).
</p><p>To avoid issues, you can either...
</p>
<ul><li>Delete vanilla tilesheets from the folder before testing or releasing the mod.</li>
<li>Rename the tilesheet file to start with a dot (like <samp>.spring_town.png</samp>) and reference that. When SMAPI loads the map in-game, it'll automatically ignore the dot and look for <samp>spring_town.png</samp> in the local files or <samp>Content/Maps</samp> folder.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Map-specific_issues">Map-specific issues</span></h3>
<p>The game makes some assumptions about maps which may break for modded maps. These are the known issues:
</p>
<table class="wikitable">

<tbody><tr>
<th>affected maps
</th>
<th>issue
</th></tr>
<tr>
<td><samp>Maps/Farm</samp><br><samp>Maps/Farm_Combat</samp><br><samp>Maps/Farm_Fishing</samp><br><samp>Maps/Farm_Foraging</samp><br><samp>Maps/Farm_Mining</samp>
</td>
<td> 
<ul><li>The farm's <samp>Paths</samp> layer must have at least one tile with index 22 (grass spawn). This is used to initialise the grass code when the save is loaded, even if no grass is spawned.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[1]</a></sup></li></ul>
</td></tr>
<tr>
<td><samp>Maps/FarmHouse*</samp>
</td>
<td> 
<ul><li>The two bed tiles where the player can walk must have two properties: <samp>Bed T</samp> (used to decide if the player is in bed) and <samp>TouchAction Sleep</samp>.</li>
<li>Deleting or changing the wallpapers and floors will cause a game crash.</li>
<li>The <samp>DayTiles</samp> and <samp>NightTiles</samp> map properties are cleared when loading the spouse room, so custom values for those properties won't work for married players.</li>
<li>Changes that overlap renovation areas will be overwritten by the renovation. In order to fix this you have to replace the renovation map file with an empty map file.</li></ul>
</td></tr>
<tr>
<td><samp>Maps/SpouseRooms</samp>
</td>
<td> 
<ul><li>If you add or resize any tilesheet, you must also edit <samp>Maps/FarmHouse1_marriage</samp> and <samp>Maps/FarmHouse2_marriage</samp> to have the same changes (even if you don't make any other changes to the farmhouse). This is needed because the tilesheet references and sizes are stored as part of the map file.</li></ul>
</td></tr></tbody></table>
<small><div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text">The grass sound is set in <samp>Grass::loadSprite</samp>, which is called from <samp>GameLocation::loadObjects</samp> if the <samp>Paths</samp> layer has tile index 22. (The game spawns a grass for each such tile, and later removes them.)</span>
</li>
</ol></div></small>
<h3 class="in-block"><span id="'Save_as'_in_Tiled"></span><span class="mw-headline" id=".27Save_as.27_in_Tiled">'Save as' in Tiled</span></h3>
<p>When you use 'save as' in Tiled, never save into a different folder. That will change all the tilesheet references to point to the old folder, so it'll no longer work in-game. Instead, copy/move the map files to a different folder if needed.
</p>
<h3 class="in-block"><span class="mw-headline" id="Locating_tilesheets_in_Tiled">Locating tilesheets in Tiled</span></h3>
<p>When a map tilesheet is missing, never use the locate option to use a tilesheet from a different folder. That will add a complex tilesheet path which won't work in-game. Instead copy the tilesheets into the same folder as the map, and reference them from there.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(9)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2><section class="mf-section-9 collapsible-block" id="mf-section-9">
<p>See also <a href="#Potential_issues"><i>potential issues</i></a> above for common issues.
</p>
<h3 class="in-block"><span id='"Tilesheet_paths_must_be_a_relative_path_without_directory_climbing_(../)"'></span><span class="mw-headline" id=".22Tilesheet_paths_must_be_a_relative_path_without_directory_climbing_.28...2F.29.22">"Tilesheet paths must be a relative path without directory climbing (../)"</span></h3>
<dl><dt>What does this mean?</dt>
<dd>Your map uses a tilesheet that's outside its folder root. That might happen if you <a href="#.27Save_as.27_in_Tiled">used 'save as' in Tiled to save into a different folder</a>, copied &amp; pasted tiles between maps in different folders, or manually added a tilesheet from a different folder.</dd></dl>
<dl><dd>For example:</dd></dl>
<pre style="margin-left: 2em;">📁 Stardew Valley/
   📁 Content/
      📁 Maps/
         🗎 townInterior     &lt;──┐
   📁 Mods/                    │
      📁 YourModName/          │ ../../../Content/Maps/townInterior
         📁 assets/            │
            🗎 your-map.tmx  ───┘
</pre>
<dl><dd>This isn't allowed since it's very fragile (<i>e.g.,</i> players might install your mod in a different folder path).</dd></dl>
<dl><dt>How do I fix it?</dt>
<dd>
<ol><li>Copy the tilesheets you're using into the same folder as the map.</li>
<li>For unchanged vanilla tilesheets, rename them to start with a dot (like <samp>.townInterior.png</samp>). This tells SMAPI to ignore the file when loading the map in-game, and load the one in the <samp>Content</samp> folder instead.</li>
<li>In Tiled, click the edit icon under the tilesheet.</li>
<li>In the tab that opens, click <i>Tileset &gt; Tileset Properties</i>.</li>
<li>Click the 'Image' field, then the 'Edit' button to locate the tilesheet in the same folder.</li></ol></dd></dl>
<p>For a screenshot guide of steps 3-5, <a rel="nofollow" class="external text" href="../external.html?link=https://imgur.com/a/rukygAr">see these images</a> provided by Discord user foggywizard#7430.
</p>
<dl><dd>After fixing it, the above example would look like this:</dd></dl>
<pre style="margin-left: 2em;">📁 Stardew Valley/
   📁 Mods/
      📁 YourModName/
         📁 assets/
            🗎 your-map.tmx       ───┐
            🗎 .townInterior.png  &lt;──┘ .townInterior.png
</pre>
<h3 class="in-block"><span id='"mod_reordered_the_original_tilesheets"'></span><span class="mw-headline" id=".22mod_reordered_the_original_tilesheets.22">"mod reordered the original tilesheets"</span></h3>
<dl><dt>What does this mean?</dt>
<dd>See <a href="#Tilesheet_order"><i>tilesheet order</i></a> for more info.</dd></dl>
<dl><dt>How do I fix it?</dt>
<dd>Always keep the original tilesheets in the same order and prefix new tilesheets with <code>z_</code> so they're added at the end:</dd>
<dd><div class="thumb tnone"><div class="thumbinner" style="width:302px;"><a href="File_Tiled_tileset_order_C.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/f/f2/Tiled_tileset_order_C.png/300px-Tiled_tileset_order_C.png" decoding="async" width="300" height="216" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 300px;height: 216px;" data-src="/mediawiki/images/thumb/f/f2/Tiled_tileset_order_C.png/300px-Tiled_tileset_order_C.png" data-alt="" data-width="300" data-height="216" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="File_Tiled_tileset_order_C.html" class="internal" title="Enlarge"></a></div>Correct way to add a new tilesheet.</div></div></div></dd></dl>
<dl><dd>To rename an affected tilesheet in Tiled:</dd></dl>
<ul class="gallery mw-gallery-traditional" style="margin-left: 2em;">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:15px auto;"><a href="File_Tiled_rename_tileset_A.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/0/0d/Tiled_rename_tileset_A.png/99px-Tiled_rename_tileset_A.png" decoding="async" width="99" height="120"></noscript><span class="lazy-image-placeholder" style="width: 99px;height: 120px;" data-src="/mediawiki/images/thumb/0/0d/Tiled_rename_tileset_A.png/99px-Tiled_rename_tileset_A.png" data-alt="" data-width="99" data-height="120"> </span></a></div></div>
			<div class="gallerytext">
<p>In the tileset pane, click the tab for the tileset and then click the edit icon.
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:46.5px auto;"><a href="File_Tiled_rename_tileset_B.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/c/c6/Tiled_rename_tileset_B.png/120px-Tiled_rename_tileset_B.png" decoding="async" width="120" height="57"></noscript><span class="lazy-image-placeholder" style="width: 120px;height: 57px;" data-src="/mediawiki/images/thumb/c/c6/Tiled_rename_tileset_B.png/120px-Tiled_rename_tileset_B.png" data-alt="" data-width="120" data-height="57"> </span></a></div></div>
			<div class="gallerytext">
<p>Click <i>Tileset &gt; Tileset Properties</i> from the top menu to show the properties pane.
</p>
			</div>
		</div></li>
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:39px auto;"><a href="File_Tiled_rename_tileset_C.html" class="image"><noscript><img alt="" src="mediawiki/images/thumb/4/43/Tiled_rename_tileset_C.png/120px-Tiled_rename_tileset_C.png" decoding="async" width="120" height="72"></noscript><span class="lazy-image-placeholder" style="width: 120px;height: 72px;" data-src="/mediawiki/images/thumb/4/43/Tiled_rename_tileset_C.png/120px-Tiled_rename_tileset_C.png" data-alt="" data-width="120" data-height="72"> </span></a></div></div>
			<div class="gallerytext">
<p>Change the name in the <i>Name</i> field.
</p>
			</div>
		</div></li>
</ul>
<h3 class="in-block"><span id="&quot;mod_has_no_tilesheet_with_ID_'&lt;name&gt;'&quot;"></span><span class="mw-headline" id=".22mod_has_no_tilesheet_with_ID_.27.3Cname.3E.27.22">"mod has no tilesheet with ID '&lt;name&gt;'"</span></h3>
<dl><dt>What does this mean?</dt>
<dd>You replaced one of the vanilla maps, but your custom map doesn't have all of the original map's tilesheets (or you changed their names in Tiled). This will cause a crash if the game tries to access the missing tilesheet.</dd></dl>
<dl><dt>How do I fix it?</dt>
<dd>Compare the original and custom maps in Tiled. For each tilesheet in the original map, make sure it's also in the custom map <b>and</b> has the same name (even if you're not using it).</dd></dl>
<dl><dd>If you need to rename a tilesheet:
<ol><li>In the tileset pane, click the tab for the tileset and then click the edit icon.</li>
<li>Click <i>Tileset &gt; Tileset Properties</i> from the top menu to show the properties pane.</li>
<li>Change the <i>Name</i> field to match the original map's tilesheet name.</li></ol></dd></dl>
<h3 class="in-block"><span id='"Invalid_tile_GID:_&lt;#&gt;"'></span><span class="mw-headline" id=".22Invalid_tile_GID:_.3C.23.3E.22">"Invalid tile GID: &lt;#&gt;"</span></h3>
<dl><dt>What does this mean?</dt>
<dd>You edited your map without one of the tilesheets present in the same folder as your tmx, causing the XML data to lose information about the tilesheet and recalculate the starting GID's for the other tilesets incorrectly.</dd></dl>
<p>And/Or
</p>
<dl><dd>A tilesheet your map references no longer exists in the files, causing the same above problem.</dd></dl>
<dl><dt>How do I fix it?</dt>
<dd>Make sure all the tilesheets your map uses are in the same folder as your tmx, then make any small change to your map, and finally save your map.</dd>
<dd>This should cause Tiled to update the XML data and recalculate the starting GID's. You can then remove the change you made and save again.</dd>
<dd>Always make sure to have your tilesheets in the same folder as your tmx when editing your map in order to avoid invalid tile GID errors.</dd></dl>
<p>And/Or
</p>
<dl><dd>If your map was using a tilesheet that no longer exists (several were removed in 1.6.9+), then you need to replace any reference to that tilesheet with one that does still exist or get a copy of it and ship it with your mod.</dd></dl>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(10)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Making_changes_with_SMAPI">Making changes with SMAPI</span></h2><section class="mf-section-10 collapsible-block" id="mf-section-10">
<p>This page mainly covers editing maps with Tiled, but you can make the same changes programmatically using a <a href="Modding_Modder_Guide/Get_Started.html" title="Modding:Modder Guide/Get Started">C# SMAPI mod</a>. There are two main approaches to changing a location in C# code.
</p>
<h3 class="in-block"><span class="mw-headline" id="Using_the_AssetRequested_event">Using the <samp>AssetRequested</samp> event</span></h3>
<p>Most map edits should be applied using <a href="Modding_Modder_Guide/APIs/Content.html" title="Modding:Modder Guide/APIs/Content">the <samp>AssetRequested</samp> event</a>, so your changes aren't lost if another mod reloads the map. This works with the <samp>Map</samp> asset directly before it's used by the <a href="Modding_Modder_Guide/Game_Fundamentals.html#GameLocation_et_al" title="Modding:Modder Guide/Game Fundamentals">in-game location</a>; that means you can't use location methods at this point, but you can make any changes you want before the map is read (e.g. change warps). See the <a href="Modding_Modder_Guide/APIs/Events.html" title="Modding:Modder Guide/APIs/Events">events page</a> for help using events.
</p><p>For example, this mod code edits the town map and adds an optional <samp>GetTile</samp> helper method:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">/// &lt;summary&gt;The mod entry point.&lt;/summary&gt;</span>
<span class="k">internal</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">ModEntry</span> <span class="p">:</span> <span class="n">Mod</span>
<span class="p">{</span>
    <span class="c1">/// &lt;inheritdoc /&gt;</span>
    <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">helper</span><span class="p">.</span><span class="n">Events</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">AssetRequested</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnAssetRequested</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;inheritdoc cref="IContentEvents.AssetRequested"/&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnAssetRequested</span><span class="p">(</span><span class="kt">object?</span> <span class="n">sender</span><span class="p">,</span> <span class="n">AssetRequestedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">IsEquivalentTo</span><span class="p">(</span><span class="s">"Maps/Town"</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">e</span><span class="p">.</span><span class="n">Edit</span><span class="p">(</span><span class="n">asset</span> <span class="p">=&gt;</span>
            <span class="p">{</span>
                <span class="n">IAssetDataForMap</span> <span class="n">editor</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">AsMap</span><span class="p">();</span>
                <span class="n">Map</span> <span class="n">map</span> <span class="p">=</span> <span class="n">editor</span><span class="p">.</span><span class="n">Data</span><span class="p">;</span>

                <span class="c1">// your code here</span>
            <span class="p">});</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">/// &lt;summary&gt;Get a tile from the map.&lt;/summary&gt;</span>
    <span class="c1">/// &lt;param name="map"&gt;The map instance.&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="layerName"&gt;The name of the layer from which to get a tile.&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="tileX"&gt;The X position measured in tiles.&lt;/param&gt;</span>
    <span class="c1">/// &lt;param name="tileY"&gt;The Y position measured in tiles.&lt;/param&gt;</span>
    <span class="c1">/// &lt;returns&gt;Returns the tile if found, else &lt;c&gt;null&lt;/c&gt;.&lt;/returns&gt;</span>
    <span class="k">private</span> <span class="n">Tile</span> <span class="nf">GetTile</span><span class="p">(</span><span class="n">Map</span> <span class="n">map</span><span class="p">,</span> <span class="kt">string</span> <span class="n">layerName</span><span class="p">,</span> <span class="kt">int</span> <span class="n">tileX</span><span class="p">,</span> <span class="kt">int</span> <span class="n">tileY</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Layer</span> <span class="n">layer</span> <span class="p">=</span> <span class="n">map</span><span class="p">.</span><span class="n">GetLayer</span><span class="p">(</span><span class="n">layerName</span><span class="p">);</span>
        <span class="n">Location</span> <span class="n">pixelPosition</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Location</span><span class="p">(</span><span class="n">tileX</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">,</span> <span class="n">tileY</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">);</span>

        <span class="k">return</span> <span class="n">layer</span><span class="p">.</span><span class="n">PickTile</span><span class="p">(</span><span class="n">pixelPosition</span><span class="p">,</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">Size</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>Now you can make any changes you want to the map before it's loaded by location. For example, you can...
</p>
<ul>
<li>Add a custom tilesheet:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">map</span><span class="p">.</span><span class="n">AddTileSheet</span><span class="p">(</span><span class="k">new</span> <span class="n">TileSheet</span><span class="p">(</span>
    <span class="n">id</span><span class="p">:</span> <span class="s">"z_custom-tilesheet"</span><span class="p">,</span> <span class="c1">// always prefix custom tilesheets with z_ to avoid reordering vanilla tilesheets</span>
    <span class="n">map</span><span class="p">:</span> <span class="n">map</span><span class="p">,</span>
    <span class="n">imageSource</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">GetActualAssetKey</span><span class="p">(</span><span class="s">"assets/tilesheet.png"</span><span class="p">,</span> <span class="n">ContentSource</span><span class="p">.</span><span class="n">ModFolder</span><span class="p">),</span> <span class="c1">// get a unique asset name for local mod file which can be passed to the game</span>
    <span class="n">sheetSize</span><span class="p">:</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="m">32</span><span class="p">,</span> <span class="m">64</span><span class="p">),</span> <span class="c1">// the size in tiles for the tilesheet image</span>
    <span class="n">tileSize</span><span class="p">:</span> <span class="k">new</span> <span class="n">Size</span><span class="p">(</span><span class="m">16</span><span class="p">)</span>       <span class="c1">// the size of each tile in pixels, should always be 16</span>
<span class="p">));</span>
</pre></div></li>
<li>Manage map properties:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// get a property value</span>
<span class="kt">string</span> <span class="n">currentMusic</span> <span class="p">=</span> <span class="n">map</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">TryGetValue</span><span class="p">(</span><span class="s">"Music"</span><span class="p">,</span> <span class="k">out</span> <span class="n">PropertyValue</span> <span class="n">rawMusic</span><span class="p">)</span>
    <span class="p">?</span> <span class="n">rawMusic</span><span class="p">.</span><span class="n">ToString</span><span class="p">()</span>
    <span class="p">:</span> <span class="k">null</span><span class="p">;</span>

<span class="c1">// add/replace a property</span>
<span class="n">map</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"Music"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"MarlonsTheme"</span><span class="p">;</span>

<span class="c1">// delete a property</span>
<span class="n">map</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="s">"Music"</span><span class="p">);</span>
</pre></div></li>
<li>Manage tile properties:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// get tile</span>
<span class="n">Tile</span> <span class="n">tile</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">GetTile</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">layerName</span><span class="p">:</span> <span class="s">"Back"</span><span class="p">,</span> <span class="n">tileX</span><span class="p">:</span> <span class="m">10</span><span class="p">,</span> <span class="n">tileY</span><span class="p">:</span> <span class="m">20</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">tile</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
    <span class="k">return</span><span class="p">;</span> <span class="c1">// you should handle the tile not being there to avoid errors</span>

<span class="c1">// get a property value</span>
<span class="kt">string</span> <span class="n">diggable</span> <span class="p">=</span> <span class="n">tile</span><span class="p">.</span><span class="n">TileIndexProperties</span><span class="p">.</span><span class="n">TryGetValue</span><span class="p">(</span><span class="s">"Diggable"</span><span class="p">,</span> <span class="k">out</span> <span class="n">PropertyValue</span> <span class="n">rawDiggable</span><span class="p">)</span> <span class="p">||</span> <span class="n">tile</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">TryGetValue</span><span class="p">(</span><span class="s">"Diggable"</span><span class="p">,</span> <span class="k">out</span> <span class="n">rawDiggable</span><span class="p">)</span>
    <span class="p">?</span> <span class="n">rawDiggable</span><span class="p">?.</span><span class="n">ToString</span><span class="p">()</span>
    <span class="p">:</span> <span class="k">null</span><span class="p">;</span>

<span class="c1">// set a property</span>
<span class="n">tile</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"Diggable"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"T"</span><span class="p">;</span>

<span class="c1">// delete a property</span>
<span class="n">tile</span><span class="p">.</span><span class="n">Properties</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="s">"Diggable"</span><span class="p">);</span>
</pre></div></li>
<li>Add new tiles:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">int</span> <span class="n">tileX</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">tileY</span> <span class="p">=</span> <span class="m">20</span><span class="p">;</span>
<span class="n">Layer</span> <span class="n">layer</span> <span class="p">=</span> <span class="n">map</span><span class="p">.</span><span class="n">GetLayer</span><span class="p">(</span><span class="s">"Back"</span><span class="p">);</span>

<span class="c1">// add a static tile</span>
<span class="n">layer</span><span class="p">.</span><span class="n">Tiles</span><span class="p">[</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StaticTile</span><span class="p">(</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
    <span class="n">tileSheet</span><span class="p">:</span> <span class="n">map</span><span class="p">.</span><span class="n">GetTileSheet</span><span class="p">(</span><span class="s">"z_custom-tilesheet"</span><span class="p">),</span>
    <span class="n">tileIndex</span><span class="p">:</span> <span class="m">100</span><span class="p">,</span>            <span class="c1">// the sprite index in the tilesheet</span>
    <span class="n">blendMode</span><span class="p">:</span> <span class="n">BlendMode</span><span class="p">.</span><span class="n">Alpha</span> <span class="c1">// should usually be Alpha</span>
<span class="p">);</span>

<span class="c1">// add an animated tile</span>
<span class="n">layer</span><span class="p">.</span><span class="n">Tiles</span><span class="p">[</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">AnimatedTile</span><span class="p">(</span>
    <span class="n">layer</span><span class="p">:</span> <span class="n">layer</span><span class="p">,</span>
    <span class="n">tileFrames</span><span class="p">:</span> <span class="k">new</span> <span class="n">StaticTile</span><span class="p">[]</span>
    <span class="p">{</span>
        <span class="k">new</span> <span class="nf">StaticTile</span><span class="p">(...),</span>
        <span class="k">new</span> <span class="nf">StaticTile</span><span class="p">(...),</span>
        <span class="k">new</span> <span class="nf">StaticTile</span><span class="p">(...),</span>
    <span class="p">},</span>
    <span class="n">frameInterval</span><span class="p">:</span> <span class="m">100</span> <span class="c1">// frame duration in milliseconds</span>
<span class="p">);</span>
</pre></div></li>
<li>Delete tiles:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">layer</span><span class="p">.</span><span class="n">Tiles</span><span class="p">[</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">]</span> <span class="p">=</span> <span class="k">null</span><span class="p">;</span>
</pre></div></li>
<li>Apply tile transformations:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Tile</span> <span class="n">tile</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">GetTile</span><span class="p">(</span><span class="n">map</span><span class="p">,</span> <span class="n">layerName</span><span class="p">:</span> <span class="s">"Back"</span><span class="p">,</span> <span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">);</span>
<span class="n">tile</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"@Rotation"</span><span class="p">]</span> <span class="p">=</span> <span class="m">45</span><span class="p">;</span> <span class="c1">// rotate it 45° clockwise</span>
<span class="n">tile</span><span class="p">.</span><span class="n">Properties</span><span class="p">[</span><span class="s">"@Flip"</span><span class="p">]</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span> <span class="c1">// flip the tile: 0 (normal), 1 (horizontal), 2 (vertical)</span>
</pre></div></li>
</ul>
<p>See also <a href="Modding_Modder_Guide/APIs/Content.html#Edit_a_map" title="Modding:Modder Guide/APIs/Content">SMAPI's map edit helper</a>, which lets you do things like merge a custom map area into the map.
</p>
<h3 class="in-block"><span class="mw-headline" id="After_location_is_loaded">After location is loaded</span></h3>
<p>After the <a href="Modding_Modder_Guide/Game_Fundamentals.html#GameLocation_et_al" title="Modding:Modder Guide/Game Fundamentals">in-game location</a> is loaded, you can edit locations and their maps using the game's helpers. Be careful doing this though: another mod (or sometimes the game itself) may reload the location at any time, which would lose your changes if you're not careful.
</p><p>For example, within any <a href="Modding_Modder_Guide/APIs/Events.html" title="Modding:Modder Guide/APIs/Events">in-game events</a> you can...
</p>
<ul>
<li>Access the map to use the methods described above:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Map</span> <span class="n">map</span> <span class="p">=</span> <span class="n">location</span><span class="p">.</span><span class="n">map</span><span class="p">;</span>
</pre></div></li>
<li>Manage tile properties:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Town</span> <span class="n">town</span> <span class="p">=</span> <span class="p">(</span><span class="n">Town</span><span class="p">)</span><span class="n">Game1</span><span class="p">.</span><span class="n">getLocationFromName</span><span class="p">(</span><span class="s">"Town"</span><span class="p">);</span>
<span class="kt">int</span> <span class="n">tileX</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">tileY</span> <span class="p">=</span> <span class="m">20</span><span class="p">;</span>

<span class="c1">// get property value</span>
<span class="kt">string</span> <span class="n">diggable</span> <span class="p">=</span> <span class="n">town</span><span class="p">.</span><span class="n">doesTileHaveProperty</span><span class="p">(</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">,</span> <span class="s">"Diggable"</span><span class="p">,</span> <span class="s">"Back"</span><span class="p">);</span>

<span class="c1">// set property value</span>
<span class="n">location</span><span class="p">.</span><span class="n">setTileProperty</span><span class="p">(</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">,</span> <span class="s">"Back"</span><span class="p">,</span> <span class="s">"Diggable"</span><span class="p">,</span> <span class="s">"T"</span><span class="p">);</span>
</pre></div></li>
<li>Manage tiles:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">location</span><span class="p">.</span><span class="n">removeTile</span><span class="p">(</span><span class="n">tileX</span><span class="p">,</span> <span class="n">tileY</span><span class="p">,</span> <span class="s">"Back"</span><span class="p">);</span>
</pre></div></li>
</ul>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(11)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Modder_Help_and_Tricks">Modder Help and Tricks</span></h2><section class="mf-section-11 collapsible-block" id="mf-section-11">
<ul><li>Feel Free to visit the Stardew Valley Discord and ask for help if you need it in the #Making Mods Section.</li>
<li>Discord user foggywizard#7430 <a rel="nofollow" class="external text" href="../external.html?link=https://imgur.com/a/l1Ql16D">annotated some screenshot guides for using Tiled</a>. These include an annotated overview, how to find where the coordinates are, and how to rename a tilesheet.</li>
<li><a rel="nofollow" class="external text" href="../external.html?link=https://stardewmodding.wiki.gg/wiki/Tutorial:How_Draylon_curves_his_cliffs">Tutorial</a>: How Discord user Draylon curves his cliffs</li></ul>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="mediawiki/index77eb.html?title=Modding:Maps&amp;oldid=185777">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Maps&amp;oldid=185777</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="Special_History/Modding_Maps.html"
				data-user-name="BarleyZP"
				data-user-gender="unknown"
				data-timestamp="1743092297">
				<span>Last edited on 27 March 2025, at 16:18</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 27 March 2025, at 16:18.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="Stardew_Valley_Wiki_Privacy_policy.html" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="Stardew_Valley_Wiki_About.html" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="Stardew_Valley_Wiki_General_disclaimer.html" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="mediawiki/index3444.html?title=Modding:Maps&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.360","walltime":"0.479","ppvisitednodes":{"value":6149,"limit":1000000},"postexpandincludesize":{"value":19592,"limit":2097152},"templateargumentsize":{"value":5349,"limit":2097152},"expansiondepth":{"value":4,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":33392,"limit":5000000},"timingprofile":["100.00%  135.523      1 -total"," 56.12%   76.052    241 Template:T"," 10.17%   13.785      1 Template:TOC","  8.33%   11.292     32 Template:O","  2.16%    2.925      2 Template:Collapse","  1.64%    2.218      3 Template:Nexus_mod","  1.40%    1.902      2 Template:Note_box","  1.26%    1.705      3 Template:Github"]},"cachereport":{"timestamp":"20250329192448","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
		

