<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Migrate to SMAPI 2.0 - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Migrate_to_SMAPI_2.0","wgTitle":"Migrate to SMAPI 2.0","wgCurRevisionId":129680,"wgRevisionId":129680,"wgArticleId":6700,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Migrate_to_SMAPI_2.0","wgRelevantArticleId":6700,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,
"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},
"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadaf7f.css?lang=en&amp;modules=ext.pygments%7Cmediawiki.hlist%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,follow"/>
<meta name="description" content="←Index"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api-result251f.xml?action=rsd"/>
<link rel="license" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html"/>
<meta property="og:title" content="Modding:Migrate to SMAPI 2.0 - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Migrate_to_SMAPI_2.0"/>
<meta property="og:description" content="←Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Migrate to SMAPI 2.0 - Stardew Valley Wiki"/>
<meta property="twitter:description" content="←Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Migrate to SMAPI 2.0 - Stardew Valley Wiki","headline":"Modding:Migrate to SMAPI 2.0 - Stardew Valley Wiki","mainEntityOfPage":"Modding:Migrate to SMAPI 2.0","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Migrate_to_SMAPI_2.0","url":"https:\/\/stardewvalleywiki.com\/Modding:Migrate_to_SMAPI_2.0","description":"\u2190Index","dateModified":"2021-11-04T18:48:20Z","datePublished":"2021-11-04T18:48:20Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Migrate_to_SMAPI_2_0 rootpage-Modding_Migrate_to_SMAPI_2_0 stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../Stardew_Valley_Wiki.html" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../Small_Crystal.html#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="indexc0cd.html?title=Special:UserLogin&amp;returnto=Modding%3AMigrate+to+SMAPI+2.0&amp;returntoquery=mobileaction%3Dtoggle_view_mobile" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="index9603.html?title=Special:MobileOptions&amp;returnto=Modding%3AMigrate+to+SMAPI+2.0" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../Stardew_Valley_Wiki_About.html" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../Stardew_Valley_Wiki_General_disclaimer.html" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../Stardew_Valley_Wiki.html">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Migrate to SMAPI 2.0</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="#" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector disabled"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="index3142.html?title=Special:UserLogin&amp;returnto=Modding%3AMigrate+to+SMAPI+2.0" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="index1a74-2.html?title=Modding:Migrate_to_SMAPI_2.0&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><p>←<a href="../Modding_Index.html" title="Modding:Index">Index</a>
</p>
<div style="border: 1px solid orange; border-left: 1em solid orange; padding: 0.5em 1em; border-radius: 5px;">
<p><b>This page is for mod authors. Players: see <a href="../Modding_Mod_compatibility.html" title="Modding:Mod compatibility">Modding:Mod compatibility</a> instead.</b>
</p>
</div>
<p>This page explains how to update your SMAPI mod code for compatibility with SMAPI 1.9 (released alongside Stardew Valley 1.2 in April 2017) and 2.0 (released in October 2017).
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#What.27s_changing_and_how_much_does_it_impact_mods.3F"><span class="tocnumber">1.1</span> <span class="toctext">What's changing and how much does it impact mods?</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#How_to_update_your_mod"><span class="tocnumber">1.2</span> <span class="toctext">How to update your mod</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Major_changes"><span class="tocnumber">2</span> <span class="toctext">Major changes</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Removed_APIs"><span class="tocnumber">2.1</span> <span class="toctext">Removed APIs</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Mod_entry_method"><span class="tocnumber">2.2</span> <span class="toctext">Mod entry method</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Mod_configuration"><span class="tocnumber">2.3</span> <span class="toctext">Mod configuration</span></a></li>
</ul>
</li>
</ul>
</div>

</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Overview">Overview</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<h3 class="in-block"><span id="What's_changing_and_how_much_does_it_impact_mods?"></span><span class="mw-headline" id="What.27s_changing_and_how_much_does_it_impact_mods.3F">What's changing and how much does it impact mods?</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../File_SMAPI_compatibility.html" class="image"><noscript><img alt="" src="images/thumb/d/db/SMAPI_compatibility.png/300px-SMAPI_compatibility.png" decoding="async" width="300" height="186" class="thumbimage"></noscript><span class="lazy-image-placeholder" style="width: 300px;height: 186px;" data-src="/mediawiki/images/thumb/d/db/SMAPI_compatibility.png/300px-SMAPI_compatibility.png" data-alt="" data-width="300" data-height="186" data-class="thumbimage"> </span></a>  <div class="thumbcaption"><div class="magnify"><a href="../File_SMAPI_compatibility.html" class="internal" title="Enlarge"></a></div>SMAPI compatibility over time. The SMAPI 2.0 release in October 2017 appears as a small bump.</div></div></div>
<p>The last major breaking change was in SMAPI 0.40 (April 2016). Since then 23 SMAPI releases were published with almost full backwards compatibility. SMAPI has matured significantly since version 0.40, and its APIs have converged towards better consistency. Older APIs have been <a href="../../external.html?link=https://en.wikipedia.org/wiki/Deprecation" class="extiw" title="wikipedia:Deprecation">deprecated</a> with full support, but this introduces significant maintenance overhead. A few rarely-used APIs were dropped in SMAPI 1.9 (when Stardew Valley 1.2 broke many mods), and SMAPI 2.0 is the release which finally drops support for these old APIs.
</p><p>Although this is a major change, significant effort was undertaken to minimise the impact on mods: (a) the APIs were supported for a long time with increasingly prominent warnings in the SMAPI console about their deprecation and removal; (b) dozens of pull requests were submitted to update affected mods; (c) unofficial updates were created for mods which haven't updated officially yet; and (d) the changes were actively communicated and documented to modders. This means that SMAPI 2.0 has a minimal impact on mod compatibility (see chart on the right).
</p>
<h3 class="in-block"><span class="mw-headline" id="How_to_update_your_mod">How to update your mod</span></h3>
<p>You don't need to comb through your code manually. SMAPI can tell you if you're using a deprecated interface:
</p>
<ol><li>Use the latest <a rel="nofollow" class="external text" href="../../external.html?link=https://smapi.io/">SMAPI for developers</a> download. This will show deprecation messages in the console:<br><a href="../File_Modding_-_updating_deprecated_SMAPI_code_-_deprecation_warnings.html" class="image"><noscript><img alt="Modding - updating deprecated SMAPI code - deprecation warnings.png" src="images/8/8a/Modding_-_updating_deprecated_SMAPI_code_-_deprecation_warnings.png" decoding="async" width="1121" height="17"></noscript><span class="lazy-image-placeholder" style="width: 1121px;height: 17px;" data-src="/mediawiki/images/8/8a/Modding_-_updating_deprecated_SMAPI_code_-_deprecation_warnings.png" data-alt="Modding - updating deprecated SMAPI code - deprecation warnings.png" data-width="1121" data-height="17"> </span></a></li>
<li>When you look at the code, you'll see a deprecation warning with a hint of how to fix it:<br><a href="../File_Modding_-_updating_deprecated_SMAPI_code_-_deprecation_intellisense.html" class="image"><noscript><img alt="Modding - updating deprecated SMAPI code - deprecation intellisense.png" src="images/2/20/Modding_-_updating_deprecated_SMAPI_code_-_deprecation_intellisense.png" decoding="async" width="709" height="114"></noscript><span class="lazy-image-placeholder" style="width: 709px;height: 114px;" data-src="/mediawiki/images/2/20/Modding_-_updating_deprecated_SMAPI_code_-_deprecation_intellisense.png" data-alt="Modding - updating deprecated SMAPI code - deprecation intellisense.png" data-width="709" data-height="114"> </span></a></li>
<li>Optionally, you can refer to the following sections on how to replace specific interfaces.</li></ol>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Major_changes">Major changes</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<h3 class="in-block"><span class="mw-headline" id="Removed_APIs">Removed APIs</span></h3>
<p>The following APIs were removed in SMAPI 1.9 and 2.0.
</p>
<table class="wikitable">

<tbody><tr>
<th>deprecated
</th>
<th>removed
</th>
<th>old APIs
</th>
<th>replacement
</th></tr>
<tr>
<td>0.39.3
</td>
<td>1.9¹
</td>
<td><samp>SObject</samp> class
</td>
<td>reimplement if needed.
</td></tr>
<tr>
<td>0.39.3
</td>
<td>1.9¹
</td>
<td><samp>Extensions.ToSingular(…)</samp>
</td>
<td>use <samp>string.Join</samp>.
</td></tr>
<tr>
<td>1.0
</td>
<td>1.9¹
</td>
<td><samp>Authour</samp> in <samp>manifest.json</samp>
</td>
<td>use <samp>Author</samp>.
</td></tr>
<tr>
<td>1.0
</td>
<td>1.9¹
</td>
<td><samp>Extensions</samp> class
</td>
<td>reimplement if needed, or use an extensions library.
</td></tr>
<tr>
<td>1.0
</td>
<td>1.9¹
</td>
<td><samp>LogWriter</samp> class
</td>
<td>use <samp>this.Monitor.Log</samp>.
</td></tr>
<tr>
<td>1.0
</td>
<td>1.9¹
</td>
<td><samp>SPlayer</samp> class
</td>
<td>use <samp>Game1.player</samp>.
</td></tr>
<tr>
<td>1.0<br><small><em>experimental API</em></small>
</td>
<td>1.9¹
</td>
<td><samp>IConfigFile</samp> and <samp>ConfigFile</samp>
</td>
<td>reimplement if needed.
</td></tr>
<tr>
<td>1.1
</td>
<td>1.9¹
</td>
<td><samp>Command.CallCommand(string)</samp>
</td>
<td>use <samp>this.Helper.ConsoleCommands</samp>.
</td></tr>
<tr>
<td>1.1
</td>
<td>1.9¹
</td>
<td><samp>Mod.Entry(ModHelper)</samp>
</td>
<td>change <samp>ModHelper</samp> to <samp>IModHelper</samp>.
</td></tr>
<tr>
<td>1.5
</td>
<td>1.9¹
</td>
<td><samp>Version</samp> class
</td>
<td>use <samp>SemanticVersion</samp>.
</td></tr>
<tr>
<td>1.5
</td>
<td>1.9¹
</td>
<td><samp>Mod.Manifest</samp>
</td>
<td>use <samp>Mod.ModManifest</samp> <small>(changes type from <samp>Manifest</samp> to <samp>IManifest</samp>)</small>.
</td></tr>
<tr>
<td>1.5
</td>
<td>1.9¹
</td>
<td><samp>Constants.Version</samp>
</td>
<td>use <samp>Constants.ApiVersion</samp> <small>(changes type from <samp>Version</samp> to <samp>ISemanticVersion</samp>)</small>.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Config</samp> class
</td>
<td>see <a href="#Mod_configuration">mod configuration</a>.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Mod.BaseConfigPath</samp>
</td>
<td>see <a href="#Mod_configuration">mod configuration</a>.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Mod.PathOnDisk</samp>
</td>
<td>see <a href="#Mod_configuration">mod configuration</a> or use <samp>this.Helper.DirectoryPath</samp>.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Mod.PerSaveConfigFolder</samp>
</td>
<td>use <a href="../Modding_Modder_Guide/APIs/Config.html" title="Modding:Modder Guide/APIs/Config">per-save JSON files</a> instead.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Mod.PerSaveConfigPath</samp>
</td>
<td>use <a href="../Modding_Modder_Guide/APIs/Config.html" title="Modding:Modder Guide/APIs/Config">per-save JSON files</a> instead.
</td></tr>
<tr>
<td>1.0
</td>
<td>2.0
</td>
<td><samp>Mod.Entry(object[])</samp>
</td>
<td>see <a href="#Mod_entry_method">mod entry method</a>.
</td></tr>
<tr>
<td>1.1
</td>
<td>2.0
</td>
<td><samp>Log</samp> class
</td>
<td>use the <samp>this.Monitor.Log</samp> mod method.
</td></tr>
<tr>
<td>1.6
</td>
<td>2.0
</td>
<td><samp>PlayerEvents.FarmerChanged</samp>
</td>
<td>serves no purpose.
</td></tr>
<tr>
<td>1.6
</td>
<td>2.0
</td>
<td><samp>PlayerEvents.LoadedGame</samp>
</td>
<td>use <samp>SaveEvents.AfterLoad</samp>.
</td></tr>
<tr>
<td>1.6
</td>
<td>2.0
</td>
<td><samp>TimeEvents.OnNewDay</samp>
</td>
<td>unreliable and don't do what you think; use <samp>TimeEvents.AfterDayChanged</samp> or <samp>SaveEvents.BeforeSave</samp> instead.
</td></tr>
<tr>
<td>1.9
</td>
<td>2.0
</td>
<td><samp>Command</samp> class
</td>
<td>use <samp>this.Helper.ConsoleCommands</samp>.
</td></tr>
<tr>
<td>1.10
</td>
<td>2.0
</td>
<td><samp>GameEvents.Initialize</samp><br><samp>GameEvents.LoadContent</samp>
</td>
<td>move any code into your <samp>Entry</samp> method.
</td></tr>
<tr>
<td>1.13
</td>
<td>2.0
</td>
<td><samp>GameEvents.GameLoaded</samp>
</td>
<td>move any code into your <samp>Entry</samp> method.
</td></tr>
<tr>
<td>1.14
</td>
<td>2.0
</td>
<td><samp>TimeEvents.DayOfMonthChanged</samp><br><samp>TimeEvents.SeasonOfYearChanged</samp><br><samp>TimeEvents.YearOfGameChanged</samp>
</td>
<td>unreliable and don't do what you think; use <samp>TimeEvents.AfterDayChanged</samp> or <samp>SaveEvents.BeforeSave</samp> instead.
</td></tr></tbody></table>
<p><small>¹ Stardew Valley 1.2 broke many existing mods, so SMAPI 1.9 used the opportunity to remove the most rarely-used deprecated APIs.</small>
</p>
<h3 class="in-block"><span class="mw-headline" id="Mod_entry_method">Mod entry method</span></h3>
<p><i>For the latest documentation, see <a href="../Modding_Modder_Guide/Get_Started.html" title="Modding:Modder Guide/Get Started">Modding:Modder Guide/Get Started</a>.</i>
</p><p>Change your mod's entry class from this:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">/// &lt;summary&gt;Initialise the mod.&lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="k">params</span> <span class="kt">object</span><span class="p">[]</span> <span class="n">objects</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// your code</span>
<span class="p">}</span>
</pre></div>
<p>to this:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">/// &lt;summary&gt;The mod entry point, called after the mod is first loaded.&lt;/summary&gt;</span>
<span class="c1">/// &lt;param name="helper"&gt;Provides simplified APIs for writing mods.&lt;/param&gt;</span>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// your code</span>
<span class="p">}</span>
</pre></div>
<h3 class="in-block"><span class="mw-headline" id="Mod_configuration">Mod configuration</span></h3>
<p><i>For the latest documentation, see <a href="../Modding_Modder_Guide/APIs/Config.html" title="Modding:Modder Guide/APIs/Config">Modding:Modder Guide/APIs/Config</a>.</i>
</p><p>If you use <samp>config.json</samp>, it's much easier in 1.0.
</p>
<ol>
<li>Find your subclass of <samp>StardewModdingAPI.Config</samp>, which probably looks something like this:

<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">SampleConfig</span> <span class="p">:</span> <span class="n">StardewModdingAPI</span><span class="p">.</span><span class="n">Config</span>
<span class="p">{</span>
   <span class="k">public</span> <span class="kt">bool</span> <span class="n">ExampleBoolean</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">public</span> <span class="kt">float</span> <span class="n">ExampleFloat</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">public</span> <span class="k">override</span> <span class="n">T</span> <span class="n">GenerateDefaultConfig</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;()</span>
   <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="n">ExampleBoolean</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="n">ExampleFloat</span> <span class="p">=</span> <span class="m">0.5</span><span class="p">;</span>
      <span class="k">return</span> <span class="k">this</span> <span class="k">as</span> <span class="n">T</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div></li>
<li>Edit this class as follows:
<ul><li>Move default values into the constructor or property setters.</li>
<li>Remove <samp>StardewModdingAPI.Config</samp>.</li>
<li>Remove all <samp>override</samp> methods.</li></ul>
</li>

<li>Your class should now look something like this:

<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">SampleConfig</span>
<span class="p">{</span>
   <span class="k">public</span> <span class="kt">bool</span> <span class="n">ExampleBoolean</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
   <span class="k">public</span> <span class="kt">float</span> <span class="n">ExampleFloat</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="m">0.5</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>or like this if you used a constructor:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">SampleConfig</span>
<span class="p">{</span>
   <span class="k">public</span> <span class="kt">bool</span> <span class="n">ExampleBoolean</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
   <span class="k">public</span> <span class="kt">float</span> <span class="n">ExampleFloat</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">public</span> <span class="nf">SampleConfig</span><span class="p">()</span>
   <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="n">ExampleBoolean</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
      <span class="k">this</span><span class="p">.</span><span class="n">ExampleFloat</span> <span class="p">=</span> <span class="m">0.5</span><span class="p">;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div></li>
<li>In your <samp>Mod</samp> class, change anything that looks like this:

<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">var</span> <span class="n">config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SampleConfig</span><span class="p">().</span><span class="n">InitializeConfig</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">BaseConfigPath</span><span class="p">);</span>
</pre></div>
<p>to this:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">var</span> <span class="n">config</span> <span class="p">=</span> <span class="n">helper</span><span class="p">.</span><span class="n">ReadConfig</span><span class="p">&lt;</span><span class="n">SampleConfig</span><span class="p">&gt;();</span>
</pre></div></li>
<li>If you use other methods, here's how to migrate them:

<table class="wikitable">

<tbody><tr>
<th>before 1.0
</th>
<th>after 1.0
</th></tr>
<tr>
<td><samp>new SampleConfig().GenerateDefaultConfig()</samp><br><samp>new SampleConfig().Instance()</samp>
</td>
<td><samp>new SampleConfig()</samp>
</td></tr>
<tr>
<td><samp>new SampleConfig().InitializeConfig(this.BaseConfigPath)</samp><br><samp>config.UpdateConfig()</samp><br><samp>config.LoadConfig(this.BaseConfigPath)</samp><br><samp>config.ReloadConfig()</samp>
</td>
<td><samp>helper.ReadConfig&lt;SampleConfig&gt;()</samp>
</td></tr>
<tr>
<td><samp>config.WriteConfig()</samp>
</td>
<td><samp>helper.WriteConfig(config)</samp>
</td></tr></tbody></table>
</li>
</ol>
<p>For more information, see <a href="../Modding_Modder_Guide/APIs/Config.html" title="Modding:Modder Guide/APIs/Config">Modding:Modder Guide/APIs/Config</a>.
</p>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index3a41.html?title=Modding:Migrate_to_SMAPI_2.0&amp;oldid=129680">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Migrate_to_SMAPI_2.0&amp;oldid=129680</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="../Special_History/Modding_Migrate_to_SMAPI_2.html"
				data-user-name="Margotbean"
				data-user-gender="female"
				data-timestamp="1636051700">
				<span>Last edited on 4 November 2021, at 18:48</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 4 November 2021, at 18:48.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../Stardew_Valley_Wiki_Privacy_policy.html" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../Stardew_Valley_Wiki_About.html" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../Stardew_Valley_Wiki_General_disclaimer.html" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="index2506-2.html?title=Modding:Migrate_to_SMAPI_2.0&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.046","walltime":"1.094","ppvisitednodes":{"value":73,"limit":1000000},"postexpandincludesize":{"value":206,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6050,"limit":5000000},"timingprofile":["100.00%    1.436      1 Template:Modder_compatibility_header","100.00%    1.436      1 -total"]},"cachereport":{"timestamp":"20240709164103","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
		

