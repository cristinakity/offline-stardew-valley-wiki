<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:Modder Guide/Get Started - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Modder_Guide/Get_Started","wgTitle":"Modder Guide/Get Started","wgCurRevisionId":173548,"wgRevisionId":0,"wgArticleId":8079,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Modder_Guide/Get_Started","wgRelevantArticleId":8079,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,
"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},
"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadb780.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:Modder Guide/Get Started - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started"/>
<meta property="og:description" content="Creating SMAPI mods"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:Modder Guide/Get Started - Stardew Valley Wiki"/>
<meta property="twitter:description" content="Creating SMAPI mods"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:Modder Guide\/Get Started - Stardew Valley Wiki","headline":"View source for Modding:Modder Guide\/Get Started - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:Modder Guide\/Get Started","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Modder_Guide\/Get_Started","url":"https:\/\/stardewvalleywiki.com\/Modding:Modder_Guide\/Get_Started","description":"Creating SMAPI mods","dateModified":"2024-06-23T19:12:22Z","datePublished":"2024-06-23T19:12:22Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Modder_Guide_Get_Started rootpage-Modding_Modder_Guide stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AModder+Guide%2FGet+Started&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3AModder+Guide%2FGet+Started" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:Modder Guide/Get Started</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started" title="Modding:Modder Guide/Get Started">Modding:Modder Guide/Get Started</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">{{../header}}

'''If you're making a mod for the first time,''' see [[Modding:Index#Creating mods]] for a short description of the differences between C# mods and content packs. '''You don't need to use C# to make mods.'''

Do you want to create '''SMAPI mods for Stardew Valley with C#?''' This guide is for you!

==Intro==
===What is a SMAPI mod?===
A SMAPI mod uses the [https://smapi.io/ SMAPI] modding API to extend the game logic. The mod can respond when something happens in the game (like when an object is placed in the world), run code periodically (like once per update tick), change the game's assets and data, etc. SMAPI mods are written in C# using .NET, and Stardew Valley uses MonoGame for the game logic (drawing to the screen, user input, etc).

===Why do mods use SMAPI?===
SMAPI does a lot for you! For example, SMAPI will...

# Load your mod into the game. Code mods aren't possible without SMAPI to load them.
# Provide APIs and events which let you interact with the game in ways you otherwise couldn't. There are simplified APIs for game asset/data changes, player configuration, translation, reflection, etc. These are covered later in the guide.
# Rewrite your mod for crossplatform compatibility when it's loaded. That lets you write mod code without worrying about the differences between the Linux/Mac/Windows versions of the game.
# Rewrite your mod to update it. SMAPI detects and fixes mod code broken by a game update in common cases.
# Intercept errors. If your mod crashes or causes an error, SMAPI will intercept the error, show the error details in the console window, and in most cases automatically recover the game. This means your mod won't accidentally crash the game, and it makes it much easier to troubleshoot errors.
# Provide update checks. SMAPI automatically alerts players when a new version of your mod is available.
# Provide compatibility checks. SMAPI automatically detects when your mod is incompatible and disables it before it causes problems, so players aren't left with broken games.

===Can I make a mod?===
Yes! This guide will help you create a simple mod step-by-step. If you follow along, you'll have created a mod! Then you'll just need to make it do what you want.

If you're new to programming: many mod developers start with little or no programming experience. You can certainly learn along the way if you're determined, but you should be prepared for a steep learning curve. Don't be too ambitious at first; it's better to start with a small mod when you're figuring it out. It's easy to become overwhelmed at first and give up. The modding community is very welcoming, so don't be afraid to ask questions!

If you already have programming experience, you should be fine. Programming experience in C# or Java will make things easier, but it isn't critical. If you're unfamiliar with C#, you can skim through the ''Learning C#'' references below to fill in any gaps.

===Can I make a mod ''without SMAPI''?===
Yep. Many SMAPI mods support '[[Modding:Content packs|content packs]]', which let you provide JSON text files, images, etc which they use. For example, you can [[Modding:Content Patcher|use Content Patcher]] to edit the game's images and data with zero programming needed. The rest of this guide is about creating a new SMAPI mod; for content packs, see [[Modding:Content Patcher]] or [[Modding:Content pack frameworks]] for information on other available frameworks (or the mod documentation if creating a content pack for a different mod).

===Where can I get help?===
&lt;span id="help">&lt;/span>The Stardew Valley modding community is very welcoming. Feel free to ask for help in [[Modding:Community#Discord|#making-mods on the Stardew Valley Discord]].

==Get started==
===Learn C#===
Since mods are written in C#, it's a good idea to get acquainted with it first. You don't need to memorise everything, but a grasp of the basics (like fields, methods, variables, and classes) will make everything else much easier.

Some useful resources:
* [https://docs.microsoft.com/en-us/dotnet/csharp/quick-starts/ ''C# Quickstarts''] teaches the basics of C# with interactive examples.
* [https://mva.microsoft.com/en-us/training-courses/c-fundamentals-for-absolute-beginners-16169 ''C# Fundamentals for Absolute Beginners''] is a video guide which will walk you through C#, from the basic concepts to event-driven programming (which is what SMAPI mods mostly use).
* Already know how to program? Get a quick overview of C# syntax and concepts at [https://learnxinyminutes.com/docs/csharp/ LearnXinYMinutes.]

A couple of concepts SMAPI uses frequently
* [https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/types/generics ''Generics'']
* [https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/events/ ''Event-based programming'']
* For serialization, SMAPI usually uses [https://www.newtonsoft.com/json ''NewtonSoft'']

===Requirements===
Before you start:
# Read the [[Modding:Player Guide/Getting Started|player guide]]. The rest of this guide assumes you're already familiar with using mods.
# Install Stardew Valley.
# Install [[Modding:Player Guide/Getting Started#Install SMAPI|SMAPI]].
# Install the [https://dotnet.microsoft.com/en-us/download/dotnet/6.0 .NET 6 SDK].&lt;br />'' You need .NET 6 because it's the version used by the game. On Windows, you probably have x64. on macOS, "x64" is for Intel chips and "Arm64" is for Apple Silicon chips.''
# Install the IDE (''integrated development environment''), which you'll use to edit and compile your mod code:
#* Windows: [https://visualstudio.microsoft.com/vs/community/ Visual Studio Community] (free) or [https://www.jetbrains.com/rider/ JetBrains Rider] (paid).
#* Linux: [https://code.visualstudio.com/ Visual Studio Code] (free), [http://www.monodevelop.com/ MonoDevelop] (free), or [https://www.jetbrains.com/rider/ JetBrains Rider] (paid).
#* macOS: [https://code.visualstudio.com/ Visual Studio Code] (free), or [https://visualstudio.microsoft.com/vs/mac/ Visual Studio for Mac] (retiring 31 Aug 2024), or [https://www.jetbrains.com/rider/ JetBrains Rider] (paid).

If you're not familiar with Visual Studio (on Windows/Mac) or MonoDevelop (on Linux), [[Modding:IDE reference]] explains how to do the important stuff you need for this guide.

==Create a basic mod==
===Quick start===
If you're experienced enough to skip the tutorial, here's a quick summary of this section:
{{collapse|expand for quick start|content=&amp;#32;
# Create an empty ''Class Library'' project. (Don't select ''Class Library (.NET Framework)''!)
# Target .NET 6.
# Reference the [https://smapi.io/package/readme &lt;samp>Pathoschild.Stardew.ModBuildConfig&lt;/samp> NuGet package] to automatically add the right references depending on the platform the mod is being compiled on.
# Create a &lt;samp>ModEntry&lt;/samp> class which subclasses &lt;samp>StardewModdingAPI.Mod&lt;/samp>.
# Override the &lt;samp>Entry&lt;/samp> method, and write your code using the SMAPI [[Modding:Modder_Guide/APIs/Events|events]] and [[Modding:Modder_Guide/APIs|APIs]].
# Create a [[#Add your manifest|&lt;samp>manifest.json&lt;/samp> file]] which describes your mod for SMAPI.
# Create [[#Release your mod|a zip file containing the mod files]] for release.
}}

===Create the project===
A SMAPI mod is a compiled library (DLL) with an entry method that gets called by SMAPI, so let's set that up.

# Open Visual Studio or MonoDevelop.
# Create a solution with a ''Class Library'' project (see [[Modding:IDE reference#create-project|how to create a project]]). (Don't select ''Class Library (.NET Framework)''! That's a separate thing with a similar name.)
# Target .NET 6 (see [[Modding:IDE reference#set-target-framework|how to change target framework]]).You may need to [https://dotnet.microsoft.com/en-us/download/dotnet/6.0 install the SDK]. &lt;br /> &lt;small>That's the version installed and used by the game. Newer versions may not be installed for players, and SMAPI may not be able to load them. [[#What does "target NET 6.0" mean?|Yes we know it's EOL]].&lt;/small>
# Reference the [https://www.nuget.org/packages/Pathoschild.Stardew.ModBuildConfig &lt;samp>Pathoschild.Stardew.ModBuildConfig&lt;/samp> NuGet package] (see [[Modding:IDE reference#add-nuget|how to add the package]]).
#* If you are getting an error stating ''The type or namespace name "StardewModdingAPI" could not be found'', then it's possible that your game path is not being detected. You will need to set the GamePath property to the game's executable directory. This can be done by adding a ''GamePath'' property to the ''PropertyGroup'' in your ''.csproj'' settings.
# Restart Visual Studio/MonoDevelop after installing the package.

===Add the code===
Next let's add some code SMAPI will run.

&lt;ol>
&lt;li>Delete the &lt;samp>Class1.cs&lt;/samp> or &lt;samp>MyClass.cs&lt;/samp> file (see [[Modding:IDE reference#delete-file|how to delete a file]]).&lt;/li>
&lt;li>Add a C# class file called &lt;samp>ModEntry.cs&lt;/samp> to your project (see [[Modding:IDE reference#Add a file|how to add a file]]).&lt;/li>
&lt;li>Put this code in the file (replace &lt;samp>YourProjectName&lt;/samp> with the name of your project):
&lt;syntaxhighlight lang="c#">
using System;
using Microsoft.Xna.Framework;
using StardewModdingAPI;
using StardewModdingAPI.Events;
using StardewModdingAPI.Utilities;
using StardewValley;

namespace YourProjectName
{
    /// &lt;summary>The mod entry point.&lt;/summary>
    internal sealed class ModEntry : Mod
    {
        /*********
        ** Public methods
        *********/
        /// &lt;summary>The mod entry point, called after the mod is first loaded.&lt;/summary>
        /// &lt;param name="helper">Provides simplified APIs for writing mods.&lt;/param>
        public override void Entry(IModHelper helper)
        {
            helper.Events.Input.ButtonPressed += this.OnButtonPressed;
        }


        /*********
        ** Private methods
        *********/
        /// &lt;summary>Raised after the player presses a button on the keyboard, controller, or mouse.&lt;/summary>
        /// &lt;param name="sender">The event sender.&lt;/param>
        /// &lt;param name="e">The event data.&lt;/param>
        private void OnButtonPressed(object? sender, ButtonPressedEventArgs e)
        {
            // ignore if player hasn't loaded a save yet
            if (!Context.IsWorldReady)
                return;

            // print button presses to the console window
            this.Monitor.Log($"{Game1.player.Name} pressed {e.Button}.", LogLevel.Debug);
        }
    }
}
&lt;/syntaxhighlight>&lt;/li>
&lt;/ol>

Here's a breakdown of what that code is doing:

# &lt;code>using X;&lt;/code> (see [https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-directive using directive]) makes classes in that namespace available in your code.
# &lt;code>namespace YourProjectName&lt;/code> (see [https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/namespace namespace keyword]) defines the scope for your mod code. Don't worry about this when you're starting out, Visual Studio or MonoDevelop will add it automatically when you add a file.
# &lt;code>public class ModEntry : Mod&lt;/code> (see [https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/class class keyword]) creates your mod's main class, and subclasses SMAPI's &lt;samp>Mod&lt;/samp> class. SMAPI will detect your &lt;samp>Mod&lt;/samp> subclass automatically, and &lt;samp>Mod&lt;/samp> gives you access to SMAPI's APIs.
# &lt;code>public override void Entry(IModHelper helper)&lt;/code> is the method SMAPI will call when your mod is loaded into the game. The &lt;code>helper&lt;/code> provides convenient access to many of SMAPI's APIs.
# &lt;code>helper.Events.Input.ButtonPressed += this.OnButtonPressed;&lt;/code> adds an 'event handler' (''i.e.,'' a method to call) when the button-pressed event happens. In other words, when a button is pressed (the &lt;samp>helper.Events.Input.ButtonPressed&lt;/samp> event), SMAPI will call your &lt;samp>this.OnButtonPressed&lt;/samp> method. See [[Modding:Modder Guide/APIs/Events|events in the SMAPI reference]] for more info.

Note: if you get compile errors along the lines of "Feature XX is not available in C# &lt;number>. Please use language version &lt;number> or greater", add &lt;samp>&amp;lt;LangVersion&amp;gt;Latest&amp;lt;/LangVersion&amp;gt;&lt;/samp> to your &lt;samp>.csproj&lt;/samp>.

===Add your manifest===
The mod manifest tells SMAPI about your mod.

&lt;ol>
&lt;li>Add a file named &lt;samp>manifest.json&lt;/samp> to your project.&lt;/li>
&lt;li>Paste this code into the file:
&lt;syntaxhighlight lang="json">
{
  "Name": "&lt;your project name>",
  "Author": "&lt;your name>",
  "Version": "1.0.0",
  "Description": "&lt;One or two sentences about the mod>",
  "UniqueID": "&lt;your name>.&lt;your project name>",
  "EntryDll": "&lt;your project name>.dll",
  "MinimumApiVersion": "4.0.0",
  "UpdateKeys": []
}
&lt;/syntaxhighlight>&lt;/li>
&lt;li>Replace the &lt;samp>&amp;lt;...&amp;gt;&lt;/samp> placeholders with the correct info. Don't leave any &lt;samp>&amp;lt;&amp;gt;&lt;/samp> symbols!&lt;/li>
&lt;/ol>

This will be listed in the console output when the game is launching. For more info, see the [[Modding:Modder Guide/APIs/Manifest|manifest docs]].

===Try your mod===
# Build the project.&lt;br />&lt;small>If you did the ''[[#Create the project|create the project]]'' steps correctly, this will automatically add your mod to the game's &lt;samp>Mods&lt;/samp> folder.&lt;/small>
# Run the game through SMAPI.

The mod so far will just send a message to the console window whenever you press a key in the game.

'''Changing console text color'''

The default text-colors in the console may be set in a way that makes them unreadable. To change text color:

*'''Steam''': Open Steam and right-click the game in your library. Click "Browse local files" under "Manage" and then open the &lt;samp>config.json&lt;/samp> file in your "/Stardew Valley/smapi-internal/" folder, search for "ConsoleColors" and then edit the "Trace" and "Debug" colours so that they become visible within your console.

*'''Linux''': The default path on linux is &lt;samp>~/.local/share/Steam/steamapps/common/Stardew Valley/smapi-internal/config.json&lt;/samp>, unless you have installed your game on a different drive/outside the standard steam library folder.

*'''Windows''': The default path on Windows should be "C:\Program files (x86)\Steam\steamapps\common\Stardew Valley\smapi-internal\config.json", unless you have installed your game on a different drive/outside the standard steam library folder.

===Troubleshoot===
If the tutorial mod doesn't work...

# Review the above steps to make sure you didn't skip something.
# Check for error messages which may explain why it's not working:
#* In Visual Studio, click ''Build > Rebuild Solution'' and check the ''Output'' pane or ''Error'' list.
#* In MonoDevelop, click ''Build > Rebuild All'' and wait until it's done. Then click the "Build: XX errors, XX warnings" bar at the top, and check the ''XX Errors'' and ''Build Output'' tabs.
# If one of the errors (not necessarily the first one) says the package can't find your game folder, see [[Modding:Modder Guide/Test and Troubleshoot#Visual Studio can't find the game/SMAPI/MonoGame DLLs|''Visual Studio can't find the game/SMAPI/MonoGame DLLs'']].
# See the [[Modding:Modder Guide/Test and Troubleshoot|troubleshooting guide]].
# If all else fails, come ask for help in the [[Modding:Community#Discord|#making-mods in the Stardew Valley Discord]]. :)

==FAQs==
===Where's the SMAPI documentation?===
This is just the 'getting started' tutorial. For more documentation, see the [[Modding:Modder Guide/APIs|SMAPI reference]] and the [[Modding:Index|topics listed on the index page]].

===Can I look at other mods' code?===
Yep, nearly 70% of SMAPI mods have public source code. To find their code:

# Open the [https://smapi.io/mods/ mod compatibility page].
# Click "show advanced info" under the search box.
# Look in the "code" column for links.

===How do I make my mod work crossplatform?===
SMAPI will automatically adjust your mod so it works on Linux, MacOS, and Windows. However, there are a few things you should do to avoid problems:

&lt;ol>
&lt;li>Use the [https://smapi.io/package/readme crossplatform build config] package to automatically set up your project references. This makes crossplatform compatibility easier and lets your code compile on any platform. (If you followed the above guide, you already have this.)&lt;/li>

&lt;li>Use &lt;samp>System.IO.Path.Combine&lt;/samp> to build file paths, don't hardcode path separators since they won't work on all platforms.

&lt;syntaxhighlight lang="c#">
// ✘ Don't do this! It won't work on Linux/Mac.
string path = this.Helper.DirectoryPath + "\assets\image.png";

// ✓ This is OK
string path = Path.Combine(this.Helper.DirectoryPath, "assets", "image.png");
&lt;/syntaxhighlight>&lt;/li>

&lt;li>Use &lt;samp>this.Helper.DirectoryPath&lt;/samp>, don't try to determine the mod path yourself.

&lt;syntaxhighlight lang="c#">
// ✘ Don't do this! It will crash if SMAPI rewrites the assembly (''e.g.,'' to update or crossplatform it).
string modFolder = Assembly.GetCallingAssembly().Location;

// ✓ This is OK
string modFolder = this.Helper.DirectoryPath;
&lt;/syntaxhighlight>&lt;/li>
&lt;li>An ''asset name'' identifies an asset you can load through a content API like &lt;code>&lt;nowiki>Game1.content.Load&lt;T>("asset name")&lt;/nowiki>&lt;/code>. This is ''not'' a file path, and the asset name format doesn't always match the file path format. When comparing asset names, make sure you use &lt;code>PathUtilities.NormalizeAssetName("some/path")&lt;/code> instead of path helpers.

&lt;syntaxhighlight lang="c#">
// ✘ Don't do this! It won't work on Windows.
bool isAbigail = (asset.Name == Path.Combine("Characters", "Abigail"));
bool isAbigail2 = (asset.Name == PathUtilities.NormalizePath("Characters", "Abigail"));

// ✓ This is OK
bool isAbigail = (asset.Name == PathUtilities.NormalizeAssetName("Characters", "Abigail"));
&lt;/syntaxhighlight>

Note that there's no need to normalize asset names you pass into SMAPI APIs, which normalize them automatically (though it doesn't hurt to do it anyway):
&lt;syntaxhighlight lang="c#">
// ✓ This is OK
helper.Content.Load&lt;Texture2D>("Characters/Abigail");
helper.Content.Load&lt;Texture2D>(@"Characters\Abigail");
&lt;/syntaxhighlight>
&lt;/li>
&lt;/ol>

===How do I decompile the game code?&lt;span id="decompile">&lt;/span>===
It's often useful to see how the game code works. The game code is compiled into &lt;samp>StardewValley.dll&lt;/samp> (''i.e.,'' converted to a machine-readable format), but you can decompile it get a mostly-readable approximation of the original code. (This might not be fully functional due to decompiler limitations, but you'll be able to see what it's doing.)

To decompile the game code...

:# First-time setup:
:## Install {{github|icsharpcode/ILSpy/releases|ILSpy}} for Windows (get the "ILSpy_binaries" file under assets), or [https://github.com/icsharpcode/AvaloniaILSpy/releases Avalonia ILSpy] for Linux and macOS.
:## Open ILSpy.
:## Click ''View > Options'', scroll to the "Other" section at the bottom, and enable "Always qualify member references".
:# Open &lt;samp>Stardew Valley.dll&lt;/samp> in ILSpy.
:# Make sure ''C#'' is selected in the language drop-down (not IL, IL with C#, or ReadyToRun).
:# Right-click on ''Stardew Valley'' and choose ''Save Code'' to create a decompiled project you can open in Visual Studio.
:## If you're using Avalonia ILSpy, make sure to add the &lt;samp>.csproj&lt;/samp> file extension to the filename in the save dialog, like so: &lt;samp>Stardew-Valley.csproj&lt;/samp> (Otherwise, the project won't decompile properly.)

To unpack the XNB data/image/map files, see [[Modding:Editing XNB files]].

===What does "target NET 6.0" mean?===

There are multiple different things here. 

* target version: this is the version of .NET your binary is compiled against. You have to target net 6.0 for stardew (and in general, you can at maximum use the version of .NET the person loading you uses.)
* sdk version: this is the version of the .NET you installed. You can target any version less than your sdk version. If I have net 7.0 installed with VS 2022, I can still target net 6.0.
* C# version - guess what? the language is versioned separately from the .NET version (although there is a correspondence) and you can pick your language version with &lt;code>&lt;langversion>&lt;/code> in the .csproj.

[[es:Modding:Guía del Modder/Introducción]]
[[fr:Modding:Guide du Moddeur/Commencer]]
[[pt:Modificações:Guia do Modder/Começando]]
[[ru:Модификации:Моддер гайд/Приступая к работе]]
[[zh:模组:创建 SMAPI 模组]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Collapse" title="Template:Collapse">Template:Collapse</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Collapse&amp;action=edit" title="Template:Collapse">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Github" title="Template:Github">Template:Github</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Github&amp;action=edit" title="Template:Github">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/header" title="Modding:Modder Guide/header">Modding:Modder Guide/header</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Modder_Guide/header&amp;action=edit" title="Modding:Modder Guide/header">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started" title="Modding:Modder Guide/Get Started">Modding:Modder Guide/Get Started</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started">https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Modder_Guide/Get_Started&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
