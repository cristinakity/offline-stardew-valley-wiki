<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Schedule data - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Schedule_data","wgTitle":"Schedule data","wgCurRevisionId":152760,"wgRevisionId":152760,"wgArticleId":7289,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Schedule_data","wgRelevantArticleId":7289,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={
"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadaf7f.css?lang=en&amp;modules=ext.pygments%7Cmediawiki.hlist%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,follow"/>
<meta name="description" content="← Index"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api-result251f.xml?action=rsd"/>
<link rel="license" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html"/>
<meta property="og:title" content="Modding:Schedule data - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Schedule_data"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Schedule data - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Schedule data - Stardew Valley Wiki","headline":"Modding:Schedule data - Stardew Valley Wiki","mainEntityOfPage":"Modding:Schedule data","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Schedule_data","url":"https:\/\/stardewvalleywiki.com\/Modding:Schedule_data","description":"\u2190 Index","dateModified":"2024-01-17T20:35:56Z","datePublished":"2024-01-17T20:35:56Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Schedule_data rootpage-Modding_Schedule_data stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../Stardew_Valley_Wiki.html" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../Small_Crystal.html#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="indexf2c1-2.html?title=Special:UserLogin&amp;returnto=Modding%3ASchedule+data&amp;returntoquery=mobileaction%3Dtoggle_view_mobile" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="indexc191-2.html?title=Special:MobileOptions&amp;returnto=Modding%3ASchedule+data" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../Stardew_Valley_Wiki_About.html" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../Stardew_Valley_Wiki_General_disclaimer.html" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../Stardew_Valley_Wiki.html">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Schedule data</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="../Special_MobileLanguages/Modding_Schedule_data.html" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="index1d80-2.html?title=Special:UserLogin&amp;returnto=Modding%3ASchedule+data" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="index6282.html?title=Modding:Schedule_data&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><p>← <a href="../Modding_Index.html" title="Modding:Index">Index</a>
</p><p>This page explains how the game stores and parses NPC schedule data, which determines where NPCs go and what they do when they get there. This is an advanced guide for mod developers.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Raw_data"><span class="tocnumber">1</span> <span class="toctext">Raw data</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Schedule_key"><span class="tocnumber">2</span> <span class="toctext">Schedule key</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Marriage_schedules"><span class="tocnumber">2.1</span> <span class="toctext">Marriage schedules</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Normal_schedules"><span class="tocnumber">2.2</span> <span class="toctext">Normal schedules</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Schedule_script"><span class="tocnumber">3</span> <span class="toctext">Schedule script</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Initial_commands"><span class="tocnumber">3.1</span> <span class="toctext">Initial commands</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Schedule_points"><span class="tocnumber">3.2</span> <span class="toctext">Schedule points</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Potential_issues"><span class="tocnumber">4</span> <span class="toctext">Potential issues</span></a></li>
</ul>
</div>

</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Raw_data">Raw data</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<p>Schedule data is stored in <samp>Content/Characters/schedules/*.xnb</samp> files (one per character), which can be <a href="../Modding_Editing_XNB_files.html#unpacking" title="Modding:Editing XNB files">unpacked for editing</a>. Here's the raw data for Abigail as of <a href="../Version_History.html#1.5.1" title="Version History">1.5.1</a> for reference:
</p>
<table class="mw-collapsible mw-collapsed" style="">
<tbody><tr>
<th style="text-align: left;"><b>Data</b> 
</th></tr>
<tr>
<td><div class="mw-highlight mw-highlight-lang-json mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
  <span class="nt">"rain"</span><span class="p">:</span> <span class="s2">"900 SeedShop 9 5 0/1100 SeedShop 13 20 0/1300 SeedShop 39 5 0/1500 SeedShop 7 9 2/1900 SeedShop 6 4 0/2200 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"rain2"</span><span class="p">:</span> <span class="s2">"900 SeedShop 34 5 0/1100 SeedShop 9 17 3/1400 Saloon 42 17 2 abigail_sit_down/2000 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"winter_15"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 ScienceHouse 5 19 1/1430 Beach 30 34 2 \"Strings\\schedules\\Abigail:winter_15.000\"/2400 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"marriage_Mon"</span><span class="p">:</span> <span class="s2">"830 SeedShop 6 19 0 \"Strings\\schedules\\Abigail:marriage_Mon.000\"/1300 Town 47 87 0 \"Strings\\schedules\\Abigail:marriage_Mon.001\"/1700 Saloon 33 18 0 \"Strings\\schedules\\Abigail:marriage_Mon.002\"/2030 BusStop -1 23 3"</span><span class="p">,</span>
  <span class="nt">"marriage_Fri"</span><span class="p">:</span> <span class="s2">"800 SeedShop 36 9 0 \"Strings\\schedules\\Abigail:marriage_Fri.000\"/1100 Mountain 49 31 2 abigail_flute/1500 Saloon 42 17 2 abigail_sit_down \"Strings\\schedules\\Abigail:marriage_Fri.001\"/2030 BusStop -1 23 3"</span><span class="p">,</span>
  <span class="nt">"fall_Mon"</span><span class="p">:</span> <span class="s2">"900 SeedShop 10 5 0/1100 Beach 13 39 2/1800 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"6"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1500 Mountain 46 23 2 abigail_flute/2000 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"16"</span><span class="p">:</span> <span class="s2">"GOTO 6"</span><span class="p">,</span>
  <span class="nt">"spring_4"</span><span class="p">:</span> <span class="s2">"900 SeedShop 11 5 0 \"Strings\\schedules\\Abigail:spring_4.000\"/1230 Hospital 13 14 0 \"Strings\\schedules\\Abigail:spring_4.001\"/1330 Hospital 4 6 1 \"Strings\\schedules\\Abigail:spring_4.002\"/1600 SeedShop 10 5 0/2000 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"Sun"</span><span class="p">:</span> <span class="s2">"900 SeedShop 4 5 0/1030 SeedShop 20 5 1 \"Strings\\schedules\\Abigail:Sun.000\"/1300 Forest 14 40 2/2000 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"11_6"</span><span class="p">:</span> <span class="s2">"GOTO spring"</span><span class="p">,</span>
  <span class="nt">"25_6"</span><span class="p">:</span> <span class="s2">"GOTO spring"</span><span class="p">,</span>
  <span class="nt">"11"</span><span class="p">:</span> <span class="s2">"NOT friendship Sebastian 6/1000 SebastianRoom 5 4 2 abigail_sit_down/1700 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"25"</span><span class="p">:</span> <span class="s2">"NOT friendship Sebastian 6/GOTO 11"</span><span class="p">,</span>
  <span class="nt">"Wed"</span><span class="p">:</span> <span class="s2">"1000 ArchaeologyHouse 11 9 0/1800 Town 47 87 0/2200 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"Fri"</span><span class="p">:</span> <span class="s2">"900 SeedShop 34 5 0/1100 SeedShop 9 17 3/1500 Saloon 42 17 2 abigail_sit_down/2100 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"fall"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1300 BusStop 22 5 2/1700 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"winter"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 ScienceHouse 5 19 1/1430 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"summer"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 Railroad 30 45 0/1400 Mountain 49 31 1/1740 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep"</span><span class="p">,</span>
  <span class="nt">"spring"</span><span class="p">:</span> <span class="s2">"900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1300 Town 73 54 2/1630 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep"</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Schedule_key">Schedule key</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<p>Each schedule has a key which is used to decide when it applies. The key must be one of the exact formats below (it's not dynamic). If multiple schedules apply, the first match in the order listed here is used.
</p><p>Notes:
</p>
<ul><li>Most text is case-sensitive (<i>e.g.,</i> <samp>Mon</samp> is not the same as <samp>mon</samp>).</li>
<li>The game's logic for schedule keys is in <samp>NPC::getSchedule</samp>.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Marriage_schedules">Marriage schedules</span></h3>
<p>These apply if the NPC is married to a player (not necessarily the main player). <b>Married NPCs don't use any other schedule keys.</b> If the marriage keys don't match, they won't have a schedule for that day.
</p>
<table class="wikitable">

<tbody><tr>
<th>syntax
</th>
<th>summary
</th></tr>
<tr>
<td><samp>marriage_<code title="required field 'season'">&lt;season&gt;</code>_<code title="required field 'day of month'">&lt;day of month&gt;</code></samp>
</td>
<td>Applies on the given date.<br><small>Example: <samp>marriage_spring_26</samp></small>
</td></tr>
<tr>
<td><samp>marriageJob</samp>
</td>
<td>Used by Harvey on Tuesday/Thursday, Maru on Tuesday/Thursday, Penny on Tuesday/Wednesday/Friday.
</td></tr>
<tr>
<td><samp>marriage_<code title="required field 'day of week'">&lt;day of week&gt;</code></samp>
</td>
<td>Applies on the given day of week when not raining.<br><small>Example: <samp>marriage_Mon</samp></small>
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Normal_schedules">Normal schedules</span></h3>
<p>These schedules apply to any non-marriage NPC. If none of these keys match, they won't have a schedule for that day.
</p>
<table class="wikitable">

<tbody><tr>
<th>syntax
</th>
<th>summary
</th></tr>
<tr>
<td><samp><code title="required field 'season'">&lt;season&gt;</code>_<code title="required field 'day of month'">&lt;day of month&gt;</code></samp>
</td>
<td>Applies on the given date.<br><small>Example: <samp>spring_15</samp></small>
</td></tr>
<tr>
<td><samp><code title="required field 'day of month'">&lt;day of month&gt;</code>_<code title="required field 'hearts'">&lt;hearts&gt;</code></samp>
</td>
<td>Applies on the given day of month if <i>any</i> player has at least that many <a href="../Friendship.html" title="Friendship">hearts</a> with the NPC. If multiple schedules apply, the one with the highest heart number is used.<br><small>Example: <samp>11_6</samp></small>
</td></tr>
<tr>
<td><samp><code title="required field 'day of month'">&lt;day of month&gt;</code></samp>
</td>
<td>Applies on the given day of month.<br><small>Example: <samp>16</samp></small>
</td></tr>
<tr>
<td><samp>bus</samp>
</td>
<td>For <a href="../Pam.html" title="Pam">Pam</a> only, applies if the bus is repaired.
</td></tr>
<tr>
<td><samp>rain2</samp>
</td>
<td>50% chance of applying on rainy days.
</td></tr>
<tr>
<td><samp>rain</samp>
</td>
<td>Applies on rainy days.
</td></tr>
<tr>
<td><samp><code title="required field 'season'">&lt;season&gt;</code>_<code title="required field 'day of week'">&lt;day of week&gt;</code>_<code title="required field 'hearts'">&lt;hearts&gt;</code></samp>
</td>
<td>Applies in the given season and day of week, if <i>any</i> player has at least that many <a href="../Friendship.html" title="Friendship">hearts</a> with the NPC. If multiple schedules apply, the one with the highest heart number is used.<br><small>Example: <samp>spring_Mon_6</samp></small>
</td></tr>
<tr>
<td><samp><code title="required field 'season'">&lt;season&gt;</code>_<code title="required field 'day of week'">&lt;day of week&gt;</code></samp>
</td>
<td>Applies in the given season and day of week.<br><small>Example: <samp>spring_Mon</samp></small>
</td></tr>
<tr>
<td><samp><code title="required field 'day of week'">&lt;day of week&gt;</code></samp>
</td>
<td>Applies in the given day of week.<br><small>Example: <samp>Mon</samp></small>
</td></tr>
<tr>
<td><samp><code title="required field 'season'">&lt;season&gt;</code></samp>
</td>
<td>Applies in the given season.<br><small>Example: <samp>spring</samp></small>
</td></tr>
<tr>
<td><samp>spring_<code title="required field 'day of week'">&lt;day of week&gt;</code></samp>
</td>
<td>Applies (in any season) on the given day of week.<br><small>Example: <samp>spring_Mon</samp></small>
</td></tr>
<tr>
<td><samp>spring</samp>
</td>
<td>Always applies. This schedule is also used as a default in some cases. DO NOT REMOVE THIS ENTRY. THAT WILL BREAK THE GAME.
</td></tr>
<tr>
<td><samp>default</samp>
</td>
<td>Also used as a default sometimes. It's okay for this one to not exist, spring will be used instead.
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(3)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Schedule_script">Schedule script</span></h2><section class="mf-section-3 collapsible-block" id="mf-section-3">
<p>Each schedule entry value has an arbitrary number of slash-delimited schedule commands matching one of the formats below.
</p>
<h3 class="in-block"><span class="mw-headline" id="Initial_commands">Initial commands</span></h3>
<p>A script may have one initial command as the first field in the script, before the first <samp>/</samp> character. The <samp>GOTO</samp> command can also appear in the next two fields after <samp>MAIL</samp>, or the next field after <samp>NOT</samp>.
</p>
<table class="wikitable">

<tbody><tr>
<th>command
</th>
<th>description
</th></tr>
<tr>
<td><samp>GOTO <code title="required field 'key'">&lt;key&gt;</code></samp>
</td>
<td>(Note: this line only applies if <samp>GOTO</samp> is the first command. If it's not, see <samp>GOTO</samp> below.)<br>End the current script and load the schedule with the given key instead. The key does not need to be one of the standard keys and can be any arbitrary string. If the key is "season", the current season name is used instead. If the schedule doesn't exist or can't be parsed, the <samp>spring</samp> schedule will be used instead.<br><small>Example: <samp>GOTO spring</samp></small>
</td></tr>
<tr>
<td><samp>NOT friendship <code title="required field 'npc name'">&lt;npc name&gt;</code> <code title="required field 'hearts'">&lt;hearts&gt;</code></samp>
</td>
<td>End the current script if <i>any</i> player <i>does</i> have at least that many <a href="../Friendship.html" title="Friendship">hearts</a> with any of the named NPCs (can list multiple). If the script is ended, the <samp>spring</samp> schedule is used instead.<br><small>Example: <samp>NOT friendship Sebastian 6 Abigail 3</samp> (script ends if any player has 6+ hearts with Sebastian and/or 3+ hearts with Abigail).</small>
</td></tr>
<tr>
<td><samp>NOT</samp>
</td>
<td>Command ignored if the next word is not <samp>friendship</samp>.
</td></tr>
<tr>
<td><samp>MAIL <code title="required field 'letter ID'">&lt;letter ID&gt;</code></samp>
</td>
<td>Runs the next command if the player did <i>not</i> receive the given letter ID or world state ID (see <samp>HasFlag</samp> in the <a rel="nofollow" class="external text" href="../../external.html?link=https://github.com/Pathoschild/StardewMods/tree/develop/ContentPatcher">Content Patcher documentation</a>); else continues from the command after that.<br><small>Example: <samp>MAIL ccVault/GOTO spring/GOTO summer</samp> (runs <samp>GOTO summer</samp> if the bus is repaired, or <samp>GOTO spring</samp> if it isn't; not limited to <samp>GOTO</samp> commands).</small>
</td></tr>
<tr>
<td><samp>GOTO <code title="required field 'key'">&lt;key&gt;</code></samp>
</td>
<td>(Note: this line only applies if <samp>GOTO</samp> is after <samp>NOT</samp> or <samp>MAIL</samp>. If it's not, see <samp>GOTO</samp> above.)<br>End the current script and load the schedule with the given key instead. If the key is "season", the current season name is used instead. If the key is "NO_SCHEDULE", the NPC has no schedule for the day. If the schedule doesn't exist or can't be parsed, the game crashes (or shows an error if playing with SMAPI).<br><small>Example: <samp>GOTO NO_SCHEDULE</samp></small>
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Schedule_points">Schedule points</span></h3>
<p>The rest of the schedule script consists of slash-delimited entries, each containing space-separated fields which specify a start time, destination, and what to do when the NPC reaches it:
</p>
<dl><dd><samp><code title="required field 'time'">&lt;time&gt;</code> <code title="optional field 'location'">[location]</code> <code title="required field 'tileX'">&lt;tileX&gt;</code> <code title="required field 'tileY'">&lt;tileY&gt;</code> <code title="optional field 'facingDirection'">[facingDirection]</code> <code title="optional field 'animation'">[animation]</code> <code title="optional field 'dialogue'">[dialogue]</code></samp></dd></dl>
<p>If the <samp>location</samp> field is omitted, the rest of the fields are parsed as normal. The other optional fields must be in sequential order (<i>e.g.,</i> you can skip <samp>animation</samp> and <samp>dialogue</samp>, but you can't skip <samp>facingDirection</samp> and then specify <samp>animation</samp> and <samp>dialogue</samp>). The exception is <samp>dialogue</samp>. The <samp>dialogue</samp> can be specified without the <samp>animation</samp>.
</p>
<table class="wikitable">

<tbody><tr>
<th>field
</th>
<th>description
</th></tr>
<tr>
<td><samp>time</samp>
</td>
<td>The time at which the schedule event begins, in military time (24 hour format, no colon). The time may be preceded with the single character '<samp>a</samp>' to indicate that the event should end (that is, the NPC should arrive at the destination) at the given time. In this case, the game will calculate when the event needs to begin. However, the event will never begin before the time specified for the previous event.
<p>In the unmodified game, this is only used to synchronise Emily's and Sandy's schedules on Fall 15.
</p>
</td></tr>
<tr>
<td><samp>location</samp>
</td>
<td><p><i>(optional)</i> The location name the NPC should walk towards. If omitted, defaults to the previous map, or if it's the first, it defaults to the <a href="../Bus_Stop.html" title="Bus Stop">bus stop</a> (if married to a player) or their default location.</p><p><b>Note:</b> the game has special logic for unlockable locations. If this is JojaMart/Railroad and it's not available yet, the game gets the replacement destination from the first entry in the <samp><code title="required field 'location'">&lt;location&gt;</code>_Replacement</samp> schedule if available; otherwise it switches to the <samp>default</samp> schedule if available, else <samp>spring</samp>. If this is CommunityCenter and it's not available yet, the game switches to the <samp>default</samp> schedule if available, else <samp>spring</samp>.</p><p><b>Note also:</b> if the location is <code>bed</code>, the game will ignore the remaining parameters from this schedule point and attempt to load a "home" destination (map and coordinates): the warp out of <code>BusStop</code> back to the <code>Farm</code> for married NPCs, or for unmarried ones, the last schedule entry from the <code>default</code> or <code>spring</code> schedule (or the NPC's default location, if neither schedule can be loaded or parsed correctly). The NPC's <a href="../Modding_NPC_data.html#Sleep_animation" title="Modding:NPC data">sleeping animation</a> (<code>&lt;lowercase name&gt;_sleep</code>) from <code>Data/animationDescriptions</code> will be set to play on arrival if it is defined.</p>
</td></tr>
<tr>
<td><samp>tileX</samp><br><samp>tileY</samp>
</td>
<td>The X and Y <a href="../Modding_Modder_Guide/Game_Fundamentals.html#Tiles" title="Modding:Modder Guide/Game Fundamentals">tile coordinates</a> the NPC should walk towards.
</td></tr>
<tr>
<td><samp>facingDirection</samp>
</td>
<td><i>(optional)</i> The direction to face after reaching the destination. The possible values are 0 (up), 1 (right), 2 (down), and 3 (left). Defaults to down.
</td></tr>
<tr>
<td><samp>animation</samp>
</td>
<td><i>(optional)</i> The animation to play when the NPC reaches the destination. This must be a key that appears in the <samp>Content/Data/animationDescriptions.xnb</samp> file. Each key entry has three required parts: entry frames/repeat frames/leaving frames. The numbers on them refer to the <a href="../Modding_NPC_data.html#Overworld_sprites" title="Modding:NPC data">overworld sprite frame</a>. The entry frames will play after arriving at the schedule point. Then the repeat frames will loop until the end of schedule time. Finally, the leaving frames will play before moving on to the next schedule point. Note that each frame is around 120ms so duplicates of frame is used to get desired looking animation. <br><br> The full format is <samp>entry frames/repeat frames/leaving frames/message key/offset X Y/laying_down</samp>. If a message key is given, the NPC will repeat that message if you talk to them while they are performing the animation. (TODO: this is likely a "busy chat", which has fewer heart points, crosscheck.) <samp>offset X Y</samp> lets you offset their sprite (in pixels). <samp>laying_down</samp> will hide the shadow. If you want to use offset or laying_down without a message, leave that spot empty. Example: offset/laying down without message: <samp>"haley_beach_towel": "20 20 21 21 21 21 21/22/21 21 20//laying_down/offset 0 16"</samp><br><br>Additionally, there are a few special animations. <samp>sleep</samp> anywhere in an animation name causes the NPC to go to sleep (which, among other things, prevents players from gifting or talking to the NPC while the animation is active.) The specific animation <samp>NPCName_sleep</samp> (with the NPCName fully lowercased) automatically used by spouses when they turn in for the night, and by NPCs coming home from Ginger Island. <samp>square_X_Y_facing</samp> causes NPCs to make random movements in a rectangle of at most X by Y (it can be less), centered at the schedule point. They will occasionally pause and face the <samp>facing</samp> direction. <samp>change_beach</samp> and <samp>change_normal</samp> cause NPCs to change into and out of their beach outfits, and is used by Ginger Island resort schedules.
</td></tr>
<tr>
<td><samp>dialogue</samp>
</td>
<td><p><i>(optional)</i> The dialogue the NPC should use when they reach their destination. This must be an <a href="../Modding_Modder_Guide/APIs/Content.html" title="Modding:Modder Guide/APIs/Content">asset name</a> and entry key in this exact format (including quotes): <samp>"assetName:key"</samp>. Any slashes in the asset name should be double backslashes (<samp>\\</samp>). The format of the entry key doesn't matter, it just needs to match one in the file.</p><p>For example, <samp>"Strings\\schedules\\Abigail:Sun.000"</samp> means "open the file at <samp>Strings\schedules\Abigail.xnb</samp> and get the text of the <samp>Sun.000</samp> key".</p><p><small>Tip: If you want schedule dialogue in marriage schedules, include the exact string <samp>marriage</samp> somewhere in the key, that will only show it to the npc's spouse.</small>
</p></td></tr></tbody></table>
<p>For example, consider this schedule entry in Abigail's schedule:
</p>
<pre>1300 Town 47 87 0 "Strings\\schedules\\Abigail:marriage_Mon.001"</pre>
<p>At 13:00 (1pm), Abigail will begin walking to tile (47, 87) in the Town location. When she reaches it, she'll face direction 0 (up) and say "<i>Hey, @. I like to relax here... it's so peaceful.</i>"
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(4)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Potential_issues">Potential issues</span></h2><section class="mf-section-4 collapsible-block" id="mf-section-4">
<ul><li>Using a time of 600 (when the day starts) for an event may not work. Try using 610 if you want an event early in the morning and the NPC doesn't move if you use 600.</li></ul>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="indexfba2.html?title=Modding:Schedule_data&amp;oldid=152760">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Schedule_data&amp;oldid=152760</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="../Special_History/Modding_Schedule_data.html"
				data-user-name="Ichortower"
				data-user-gender="unknown"
				data-timestamp="1705523756">
				<span>Last edited on 17 January 2024, at 20:35</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 17 January 2024, at 20:35.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../Stardew_Valley_Wiki_Privacy_policy.html" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../Stardew_Valley_Wiki_About.html" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../Stardew_Valley_Wiki_General_disclaimer.html" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="index875b.html?title=Modding:Schedule_data&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.023","walltime":"0.026","ppvisitednodes":{"value":683,"limit":1000000},"postexpandincludesize":{"value":2072,"limit":2097152},"templateargumentsize":{"value":534,"limit":2097152},"expansiondepth":{"value":6,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":5200,"limit":5000000},"timingprofile":["100.00%    9.909      1 -total"," 44.38%    4.398     25 Template:T"," 16.32%    1.617      4 Template:O"," 14.28%    1.415      1 Template:Collapse"," 13.31%    1.319      1 Template:Version"]},"cachereport":{"timestamp":"20240708231729","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
		

