
<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&oldid=149461 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2024 03:33:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Common tasks - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"8b42dda8c5ff37822551897d","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Common_tasks","wgTitle":"Common tasks","wgCurRevisionId":149461,"wgRevisionId":149461,"wgArticleId":8061,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Article stubs","Modding"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Common_tasks","wgRelevantArticleId":8061,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],
"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgSiteNoticeId":"1.0"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.html","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loaddde3.css?lang=en&amp;modules=ext.dismissableSiteNotice.styles%7Cext.pygments%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="load52c0.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load2f5e.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="← Index"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Stardew Valley Wiki Atom feed" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<meta property="og:title" content="Modding:Common tasks - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Common_tasks"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="article:modified_time" content="2023-07-29T19:22:48Z"/>
<meta property="article:published_time" content="2023-07-29T19:22:48Z"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Common tasks - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Common tasks - Stardew Valley Wiki","headline":"Modding:Common tasks - Stardew Valley Wiki","mainEntityOfPage":"Modding:Common tasks","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Common_tasks","url":"https:\/\/stardewvalleywiki.com\/Modding:Common_tasks","description":"\u2190 Index","dateModified":"2023-07-29T19:22:48Z","datePublished":"2023-07-29T19:22:48Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Common_tasks rootpage-Modding_Common_tasks skin-vector action-view minerva--history-page-action-enabled skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"><div id="mw-dismissablenotice-anonplace"></div><script>(function(){var node=document.getElementById("mw-dismissablenotice-anonplace");if(node){node.outerHTML="\u003Cdiv class=\"mw-dismissable-notice\"\u003E\u003Cdiv class=\"mw-dismissable-notice-close\"\u003E[\u003Ca tabindex=\"0\" role=\"button\"\u003Edismiss\u003C/a\u003E]\u003C/div\u003E\u003Cdiv class=\"mw-dismissable-notice-body\"\u003E\u003Cdiv id=\"localNotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cp\u003E\u003Cb\u003ENew editors: Please read \u003Ca href=\"/Help:Editing\" title=\"Help:Editing\"\u003EHelp:Editing\u003C/a\u003E before diving in!\u003C/b\u003E\n\u003Cbr /\u003E\u003Cb\u003EChanges made without adding a \"History\" section will be removed. Thank you for your understanding.\u003C/b\u003E\n\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E";}}());</script></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="en">Modding:Common tasks</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">From Stardew Valley Wiki</div>
		<div id="contentSub"><div class="mw-revision warningbox"><div id="mw-revision-info">Revision as of 19:22, 29 July 2023 by <a href="../../external.html?link=https://stardewvalleywiki.com/User:Margotbean" class="mw-userlink" title="User:Margotbean"><bdi>Margotbean</bdi></a> <span class="mw-usertoollinks">(<a href="../../external.html?link=https://stardewvalleywiki.com/User_talk:Margotbean" class="mw-usertoollinks-talk" title="User talk:Margotbean">talk</a> | <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Contributions/Margotbean" class="mw-usertoollinks-contribs" title="Special:Contributions/Margotbean">contribs</a>)</span></div><div id="mw-revision-nav">(<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;diff=prev&amp;oldid=149461" title="Modding:Common tasks">diff</a>) <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;direction=prev&amp;oldid=149461" title="Modding:Common tasks">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Index" title="Modding:Index">Index</a>
</p>
<table class="alert" id="stub">

<tbody><tr>
<th><div class="center"><div class="floatnone"><a href="../../external.html?link=https://stardewvalleywiki.com/File:Axe.png" class="image"><img alt="Axe.png" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/f/fb/Axe.png" decoding="async" width="48" height="48" /></a></div></div>
</th>
<td><span class="header">Article Stub</span>
<p>This article is marked as a stub for the following reason:
</p>
<ul><li><i>Missing information</i></li><li><i>Requires more formal, objective language cleanup</i></li></ul>
</td></tr></tbody></table>
<p>This page covers how to do common tasks in SMAPI mods. <b>Before reading this page, see the <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Get_Started" title="Modding:Modder Guide/Get Started">Modder Guide</a> and <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Game_Fundamentals" title="Modding:Modder Guide/Game Fundamentals">Game Fundamentals</a>.</b>
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Basic_techniques"><span class="tocnumber">1</span> <span class="toctext">Basic techniques</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Tracking_changes_to_a_value"><span class="tocnumber">1.1</span> <span class="toctext">Tracking changes to a value</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Items"><span class="tocnumber">2</span> <span class="toctext">Items</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Create_an_item_.28Object.29"><span class="tocnumber">2.1</span> <span class="toctext">Create an item (Object)</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Spawn_an_item_on_the_ground"><span class="tocnumber">2.2</span> <span class="toctext">Spawn an item on the ground</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Add_an_item_to_an_inventory"><span class="tocnumber">2.3</span> <span class="toctext">Add an item to an inventory</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Remove_an_item_from_an_inventory"><span class="tocnumber">2.4</span> <span class="toctext">Remove an item from an inventory</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Locations"><span class="tocnumber">3</span> <span class="toctext">Locations</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Get_all_locations"><span class="tocnumber">3.1</span> <span class="toctext">Get all locations</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Edit_a_location_map"><span class="tocnumber">3.2</span> <span class="toctext">Edit a location map</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Position"><span class="tocnumber">3.3</span> <span class="toctext">Position</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Position_Relative_to_the_Map"><span class="tocnumber">3.3.1</span> <span class="toctext">Position Relative to the Map</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Position_Relative_to_the_Viewport"><span class="tocnumber">3.3.2</span> <span class="toctext">Position Relative to the Viewport</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#NPC"><span class="tocnumber">4</span> <span class="toctext">NPC</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Creating_Custom_NPCs"><span class="tocnumber">4.1</span> <span class="toctext">Creating Custom NPCs</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#User-interface_.28UI.29"><span class="tocnumber">5</span> <span class="toctext">User-interface (UI)</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Banner_message"><span class="tocnumber">5.1</span> <span class="toctext">Banner message</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Active_clickable_menu"><span class="tocnumber">5.2</span> <span class="toctext">Active clickable menu</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#DialogueBox"><span class="tocnumber">5.3</span> <span class="toctext">DialogueBox</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Mail"><span class="tocnumber">6</span> <span class="toctext">Mail</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Mail_content"><span class="tocnumber">6.1</span> <span class="toctext">Mail content</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Inject_static_content"><span class="tocnumber">6.2</span> <span class="toctext">Inject static content</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Send_a_letter_.28using_static_content.29"><span class="tocnumber">6.3</span> <span class="toctext">Send a letter (using static content)</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Inject_dynamic_content"><span class="tocnumber">6.4</span> <span class="toctext">Inject dynamic content</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Send_a_letter_.28using_dynamic_content.29"><span class="tocnumber">6.5</span> <span class="toctext">Send a letter (using dynamic content)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#Other"><span class="tocnumber">7</span> <span class="toctext">Other</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#Add_a_small_animation"><span class="tocnumber">7.1</span> <span class="toctext">Add a small animation</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Play_a_sound"><span class="tocnumber">7.2</span> <span class="toctext">Play a sound</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Open_source"><span class="tocnumber">8</span> <span class="toctext">Open source</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Basic_techniques">Basic techniques</span></h2>
<h3><span class="mw-headline" id="Tracking_changes_to_a_value">Tracking changes to a value</span></h3>
<p>Mods often need to know when a value changed. If there's no SMAPI event for the value, you can create a private <a rel="nofollow" class="external text" href="../../external.html?link=https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/fields">field</a> to track the value, and update it using the update tick event.
</p><p>See <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/APIs/Events#Change_monitoring" title="Modding:Modder Guide/APIs/Events">Modding:Modder Guide/APIs/Events#Change monitoring</a> for an example.
</p>
<h2><span class="mw-headline" id="Items">Items</span></h2>
<p>Items are objects which represent things which can be put in an inventory. Tools, Crops, etc. 
</p>
<h3><span id="Create_an_item_(Object)"></span><span class="mw-headline" id="Create_an_item_.28Object.29">Create an item (Object)</span></h3>
<p>All constructors for Object:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span> <span class="kt">int</span> <span class="n">price</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">quality</span> <span class="p">=</span> <span class="m">0</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">string</span> <span class="n">Givenname</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">canBeSetDown</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">canBeGrabbed</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isHoedirt</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isSpawnedObject</span><span class="p">);</span>
</pre></div>
<p>Where <b>parentSheetIndex</b> is the ID of the item (can be found in ObjectInformation.xnb).
</p>
<h3><span class="mw-headline" id="Spawn_an_item_on_the_ground">Spawn an item on the ground</span></h3>
<p>You can spawn an item on the ground with the <samp><a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Game_Fundamentals#GameLocation_et_al" title="Modding:Modder Guide/Game Fundamentals">GameLocation</a></samp> class's <samp>dropObject</samp> method:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">public</span> <span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">dropObject</span><span class="p">(</span><span class="n">Object</span> <span class="n">obj</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">dropLocation</span><span class="p">,</span> <span class="n">xTile</span><span class="p">.</span><span class="n">Dimensions</span><span class="p">.</span><span class="n">Rectangle</span> <span class="n">viewport</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">initialPlacement</span><span class="p">,</span> <span class="n">Farmer</span> <span class="n">who</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>

 <span class="c1">// Concrete code for spawning:</span>
 <span class="n">Game1</span><span class="p">.</span><span class="n">getLocationFromName</span><span class="p">(</span><span class="s">&quot;Farm&quot;</span><span class="p">).</span><span class="n">dropObject</span><span class="p">(</span><span class="k">new</span> <span class="n">StardewValley</span><span class="p">.</span><span class="n">Object</span><span class="p">(</span><span class="n">itemId</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">*</span> <span class="m">64f</span><span class="p">,</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="p">(</span><span class="n">Farmer</span><span class="p">)</span><span class="k">null</span><span class="p">);</span>
</pre></div>
<h3><span class="mw-headline" id="Add_an_item_to_an_inventory">Add an item to an inventory</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">//You can add items found in ObjectInformation using:</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">addItemByMenuIfNecessary</span><span class="p">((</span><span class="n">Item</span><span class="p">)</span><span class="k">new</span> <span class="n">StardewValley</span><span class="p">.</span><span class="n">Object</span><span class="p">(</span><span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">,</span> <span class="p">[</span><span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">],</span> <span class="p">[</span><span class="kt">int</span> <span class="n">price</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">],</span> <span class="p">[</span><span class="kt">int</span> <span class="n">quality</span> <span class="p">=</span> <span class="m">0</span><span class="p">]));</span>
</pre></div>
<p>Another example:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="c1">// Add a weapon directly into player&#39;s inventory</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">WEAP_ID</span> <span class="p">=</span> <span class="m">19</span><span class="p">;</span>                  <span class="c1">// Shadow Dagger -- see Data/weapons</span>
    <span class="n">Item</span> <span class="n">weapon</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MeleeWeapon</span><span class="p">(</span><span class="n">WEAP_ID</span><span class="p">);</span>  <span class="c1">// MeleeWeapon is a class in StardewValley.Tools</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">addItemByMenuIfNecessary</span><span class="p">(</span><span class="n">weapon</span><span class="p">);</span>

    <span class="c1">// Note: This code WORKS.</span>
</pre></div>
<h3><span class="mw-headline" id="Remove_an_item_from_an_inventory">Remove an item from an inventory</span></h3>
<p>This is dependent on the inventory - rarely will you be calling this directly, as the game has functions for this for the Player, located in Farmer (in the main namespace).
</p><p>To do so, in most situations, just call .removeItemFromInventory(Item)
</p>
<h2><span class="mw-headline" id="Locations">Locations</span></h2>
<p>See <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/Game_Fundamentals#GameLocation" title="Modding:Modder Guide/Game Fundamentals">Game Fundamentals#GameLocation</a>.
</p>
<h3><span class="mw-headline" id="Get_all_locations">Get all locations</span></h3>
<p>The list of root locations is stored in <samp>Game1.locations</samp>, but constructed building interiors aren't included. Instead, use the method <samp>Utility.ForAllLocations</samp>
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Utility</span><span class="p">.</span><span class="n">ForAllLocations</span><span class="p">((</span><span class="n">GameLocation</span> <span class="n">location</span><span class="p">)</span> <span class="p">=&gt;</span>
<span class="p">{</span>
   <span class="c1">// do things with location here.</span>
<span class="p">});</span>
</pre></div>
<p>Note that farmhands in multiplayer can't see all locations; see <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/APIs/Multiplayer#GetActiveLocations" title="Modding:Modder Guide/APIs/Multiplayer"><samp>GetActiveLocations</samp></a> instead.
</p>
<h3><span class="mw-headline" id="Edit_a_location_map">Edit a location map</span></h3>
<p>See <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Maps" title="Modding:Maps">Modding:Maps</a>.
</p>
<h3><span class="mw-headline" id="Position">Position</span></h3>
<p>A Character's position indicates the Character's coordinates in the current location. 
</p>
<h4><span class="mw-headline" id="Position_Relative_to_the_Map">Position Relative to the Map</span></h4>
<p>Each location has an ``xTile`` map where the top-left corner of the map is <i>(0, 0)</i> and the bottom-right corner of the map is <i>(location.Map.DisplayWidth, location.Map.DisplayHeight)</i> in pixels. 
</p><p>There are two ways to get a Character's position in the current location: by absolute position and by tile position.
</p><p><code>Position.X</code> and <code>Position.Y</code> will give the XY coordinates in pixels.
</p><p><code>getTileX()</code> and <code>getTileY()</code> will give the XY coordinates in tiles.
</p><p>Each tile is 64x64 pixels as specified by <code>Game1.tileSize</code>. The conversion between absolute and tile is as follows:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Absolute position =&gt; Tile position</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">X</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">Y</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>

<span class="c1">// Tile position =&gt; Absolute position</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">getTileX</span><span class="p">()</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">getTileY</span><span class="p">()</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span>

<span class="c1">// Tilemap dimensions</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">currentLocation</span><span class="p">.</span><span class="n">Map</span><span class="p">.</span><span class="n">DisplayWidth</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">currentLocation</span><span class="p">.</span><span class="n">Map</span><span class="p">.</span><span class="n">DisplayHeight</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
</pre></div>
<h4><span class="mw-headline" id="Position_Relative_to_the_Viewport">Position Relative to the Viewport</span></h4>
<p>The viewport represents the visible area on the screen. Its dimensions are <code>Game1.viewport.Width</code> by <code>Game1.viewport.Height</code> in pixels; this is the same as the game's screen resolution.
</p><p>The viewport also has an absolute position relative to the map, where the top-left corner of the viewport is at <i>(Game1.viewport.X, Game1.viewport.Y)</i>. 
</p><p><br />
The player's position in pixels relative to the viewport is as follows:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">X</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">Y</span>
</pre></div>
<h2><span class="mw-headline" id="NPC">NPC</span></h2>
<h3><span class="mw-headline" id="Creating_Custom_NPCs">Creating Custom NPCs</span></h3>
<p>Adding new NPCs involves editing a number of files:
</p>
<ul><li>New file: <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue" title="Modding:Dialogue">Characters\Dialogue\&lt;name&gt;.json</a> (See also <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Event_data" title="Modding:Event data">Modding:Event data</a>)</li>
<li>New file: <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Schedule_data" title="Modding:Schedule data">Characters\schedules\&lt;name&gt;.json</a> (Note that the "s" in the "schedules" folder is lowercase!)</li>
<li>New file: <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:NPC_data#Portraits" title="Modding:NPC data">Portraits\&lt;name&gt;.png</a></li>
<li>New file: <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:NPC_data#Overworld_sprites" title="Modding:NPC data">Characters\&lt;name&gt;.png</a></li>
<li>Add entries <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue#Engagement_dialogue" title="Modding:Dialogue">Data\EngagementDialogue</a> for NPCs that are marriable</li>
<li>Add entry to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:NPC_data#Basic_info" title="Modding:NPC data">Data\NPCDispositions</a></li>
<li>Add entry to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Gift_taste_data" title="Modding:Gift taste data">Data\NPCGiftTastes</a></li>
<li>Add entries to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue#Rain_dialogue" title="Modding:Dialogue">Characters\Dialogue\rainy</a></li>
<li>Add entries to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Schedule_data#Schedule_points" title="Modding:Schedule data">Data\animationDescriptions</a> (if you want custom animations in their schedule)</li></ul>
<p>All of the above can be done with an AssetRequested event or Content Patcher. If you did all of this correctly, the game will spawn the NPC in for you. (If you didn't, it swallows the error)
</p>
<h2><span id="User-interface_(UI)"></span><span class="mw-headline" id="User-interface_.28UI.29">User-interface (UI)</span></h2>
<p>The User-interface (UI) is a collection of separate elements which make up the HUD and occasional popups.
</p><p>//TODO: This section needs to be expanded.  Please contribute if you have knowledge in this area.
</p>
<h3><span class="mw-headline" id="Banner_message">Banner message</span></h3>
<p>HUDMessage are those popups in the lower left hand screen. They have several constructors, which we will briefly go over here (a few non-relevant constructors are not included):
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>  <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">);</span>
  <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="kt">int</span> <span class="n">whatType</span><span class="p">);</span>
  <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">number</span><span class="p">,</span> <span class="kt">bool</span> <span class="k">add</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="n">Item</span> <span class="n">messageSubject</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>
  <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="kt">string</span> <span class="n">leaveMeNull</span><span class="p">)</span>
  <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="kt">float</span> <span class="n">timeLeft</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">fadeIn</span><span class="p">)</span>
</pre></div>
<p><br />
So before we go over when you'd use them, I'm going to briefly note how the class HUDMessage uses these. (I encourage people to read the class if they have further questions, but I doubt most of us will need to know more than this)
</p><p><br />
</p>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../external.html?link=https://stardewvalleywiki.com/File:HUDMessage-Types-InGame.png" class="image"><img alt="" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/200px-HUDMessage-Types-InGame.png" decoding="async" width="200" height="181" class="thumbimage" srcset="/mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/300px-HUDMessage-Types-InGame.png 1.5x, /mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/400px-HUDMessage-Types-InGame.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../external.html?link=https://stardewvalleywiki.com/File:HUDMessage-Types-InGame.png" class="internal" title="Enlarge"></a></div>All of the types for HUDMessage as they appear in-game.</div></div></div>
<p>Types available:
</p>
<ol><li>Achievement (HUDMessage.achievement_type)</li>
<li>New Quest (HUDMessage.newQuest_type)</li>
<li>Error (HUDMessage.error_type)</li>
<li>Stamina (HUDMessage.stamina_type)</li>
<li>Health (HUDMessage.health_type)</li></ol>
<p><br />
Color: Fairly obvious. It should be noted that while the first two don't give an option (they default to <i>Color:OrangeRed</i>), the fourth with the param 'leaveMeNull' displays as the same color as the game text.
</p><p><br />
For specifics:
</p>
<ul><li><i> public HUDMessage(string type, int number, bool add, Color color, Item messageSubject = null);</i> - This allows for expanded customization of the message. More often used for money.</li>
<li><i>  public HUDMessage(string message, string leaveMeNull)</i> - Also displays no icon.</li></ul>
<dl><dd><dl><dd>Not only displaying no icon, this type of HUDMessage does not have the square on the left side; it will draw a simple rectangle with text within.</dd></dl></dd></dl>
<ul><li><i>  public HUDMessage(string message, Color color, float timeLeft, bool fadeIn)</i> - Displays a message that fades in for a set amount of time.</li></ul>
<p><br />
Note: For those of you who want a custom HUDMessage: 
- Almost all of these variables are public, excluding messageSubject, so feel free to customize!
To modify them make a HUDMessage variable like so&#160;: HUDMessage &lt;name&gt; = new HUDMessage(&lt;message&gt;) ,now you can even animate them with code!
</p><p>For example: add a new HUDMessage to show <a href="../../external.html?link=https://stardewvalleywiki.com/File:Error-image-ingame.png" class="image"><img alt="Error-image-ingame.png" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/9/91/Error-image-ingame.png" decoding="async" width="16" height="16" /></a> toaster popup. 
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Game1</span><span class="p">.</span><span class="n">addHUDMessage</span><span class="p">(</span><span class="k">new</span> <span class="n">HUDMessage</span><span class="p">(</span><span class="s">&quot;MESSAGE&quot;</span><span class="p">,</span> <span class="m">3</span><span class="p">));</span>
</pre></div>
<p>Another example: add a HUDMessage that shows up like a simple rectangle with no icon, and no square for the icon:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Game1</span><span class="p">.</span><span class="n">addHUDMessage</span><span class="p">(</span><span class="k">new</span> <span class="n">HUDMessage</span><span class="p">(</span><span class="s">&quot;MESSAGE&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">));</span>  <span class="c1">// second parameter is the &#39;leaveMeNull&#39; parameter</span>
</pre></div>
<h3><span class="mw-headline" id="Active_clickable_menu">Active clickable menu</span></h3>
<p>An <i>active clickable menu</i> is a UI drawn over everything else which accepts user input. For example, the game menu (shown in-game when you hit <span style="display:inline-block; padding:0px 3px; border-radius:4px; border-style:outset; background:#FFFFFF; background: -webkit-linear-gradient(#FCFCFC, #E0E0E0); background: linear-gradient(#FCFCFC, #E0E0E0);">ESC</span> or controller <span style="display:inline-block; padding:0px 3px; border-radius:4px; border-style:outset; background:#FFFFFF; background: -webkit-linear-gradient(#FCFCFC, #E0E0E0); background: linear-gradient(#FCFCFC, #E0E0E0);">B</span>) is an active clickable menu. The menu is stored in <code>Game1.activeClickableMenu</code>; if that field has a non-null value, the menu will be drawn and receive input automatically.
</p><p>Each menu is different, so you need to look at the menu code to know how to interact with it. Since mods often need to get the current tab on the game menu, here's an example which handles the map tab:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="k">is</span> <span class="n">GameMenu</span> <span class="n">menu</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// get the tab pages</span>
  <span class="n">IList</span><span class="p">&lt;</span><span class="n">IClickableMenu</span><span class="p">&gt;</span> <span class="n">pages</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">GetField</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">IClickableMenu</span><span class="p">&gt;&gt;(</span><span class="n">menu</span><span class="p">,</span> <span class="s">&quot;pages&quot;</span><span class="p">).</span><span class="n">GetValue</span><span class="p">();</span>

  <span class="c1">// option A: check tab ID</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">currentTab</span> <span class="p">==</span> <span class="n">GameMenu</span><span class="p">.</span><span class="n">mapTab</span><span class="p">)</span>
  <span class="p">{</span>
     <span class="p">...</span>
  <span class="p">}</span>

  <span class="c1">// option B: check page type</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">pages</span><span class="p">[</span><span class="n">menu</span><span class="p">.</span><span class="n">currentTab</span><span class="p">])</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="n">MapPage</span> <span class="n">mapPage</span><span class="p">:</span>
       <span class="p">...</span>
       <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>To create a custom menu, you need to create a subclass of <samp>IClickableMenu</samp> and assign it to <samp>Game1.activeClickableMenu</samp>. At its most basic, a menu is basically just a few methods you override (usually <samp>draw</samp> and <samp>receiveLeftClick</samp> at a minimum). When <samp>draw</samp> is called, you draw whatever you want to the screen; when <samp>receiveLeftClick</samp> is called, you check if it's within one of the clickable areas and handle it. Normally you'd use some convenience classes like <samp>ClickableTextureButton</samp> (which has a texture and position, and simplifies checking if they were clicked), though that's not strictly necessary. Here's <a rel="nofollow" class="external text" href="../../external.html?link=https://github.com/janavarro95/Stardew_Valley_Mods/blob/d7d567a72f5feaf3a5a5afd3d054ac9598727a97/GeneralMods/HappyBirthday/Framework/Menus/BirthdayMenu.cs">a simple menu</a> you can use as an example, which draws the birthday menu for <a rel="nofollow" class="external text" href="../../external.html?link=https://www.nexusmods.com/stardewvalley/mods/520">Birthday Mod</a>.
</p>
<h3><span class="mw-headline" id="DialogueBox">DialogueBox</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../external.html?link=https://stardewvalleywiki.com/File:DialogueBox_NoChoices_Example.jpg" class="image"><img alt="" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/200px-DialogueBox_NoChoices_Example.jpg" decoding="async" width="200" height="65" class="thumbimage" srcset="/mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/300px-DialogueBox_NoChoices_Example.jpg 1.5x, /mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/400px-DialogueBox_NoChoices_Example.jpg 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../external.html?link=https://stardewvalleywiki.com/File:DialogueBox_NoChoices_Example.jpg" class="internal" title="Enlarge"></a></div>Example of DialogueBox without choices.</div></div></div><p>A <b>DialogueBox</b> is a text box with a slightly larger, slightly boldfaced text, with "typewriter-like" effect.
</p><p>There are several variants, including ones with a dialogue/conversation choices.
</p><p>Within the message, use a caret "^" to put a linebreak.
</p><p>Here is an example of a <b>simple, choiceless output:</b>
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewValley.Menus</span><span class="p">;</span>  <span class="c1">// This is where the DialogueBox class lives</span>

<span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">&quot;This looks like a typewriter ... ^But it&#39;s not ...^It&#39;s a computer.^&quot;</span><span class="p">;</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DialogueBox</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</pre></div>
<p>// TODO: More examples with choices
</p><p>To utilise options, you are better off using createQuestionDialogue. 
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">private</span> <span class="k">void</span> <span class="nf">SampleClick</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// List of choices to give the farmer.</span>
    <span class="n">List</span><span class="p">&lt;</span><span class="n">Response</span><span class="p">&gt;</span> <span class="n">choices</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Response</span><span class="p">&gt;()</span>
            <span class="p">{</span>
                <span class="k">new</span> <span class="nf">Response</span><span class="p">(</span><span class="s">&quot;dialogue_id1&quot;</span><span class="p">,</span><span class="s">&quot;Choice 1&quot;</span> <span class="p">),</span>
                <span class="k">new</span> <span class="nf">Response</span><span class="p">(</span><span class="s">&quot;dialogue_id2&quot;</span><span class="p">,</span> <span class="s">&quot;Choice 2&quot;</span><span class="p">),</span>
                <span class="k">new</span> <span class="nf">Response</span><span class="p">(</span><span class="s">&quot;dialogue_id3&quot;</span><span class="p">,</span> <span class="s">&quot;Choice 3&quot;</span><span class="p">),</span>
                <span class="k">new</span> <span class="nf">Response</span><span class="p">(</span><span class="s">&quot;dialogue_id4&quot;</span><span class="p">,</span> <span class="s">&quot;Choice 4&quot;</span><span class="p">)</span>
            <span class="p">};</span>

    <span class="c1">// And here we case it to pop up on the farmer&#39;s screen. When the farmer has picked a choice, it sends that information to the method below (DialogueSet</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">currentLocation</span><span class="p">.</span><span class="n">createQuestionDialogue</span><span class="p">(</span><span class="err">$</span><span class="s">&quot;What is the question?&quot;</span><span class="p">,</span> <span class="n">choices</span><span class="p">.</span><span class="n">ToArray</span><span class="p">(),</span> <span class="k">new</span> <span class="n">GameLocation</span><span class="p">.</span><span class="n">afterQuestionBehavior</span><span class="p">(</span><span class="n">DialogueSet</span><span class="p">));</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">void</span> <span class="nf">DialogueSet</span><span class="p">(</span><span class="n">Farmer</span> <span class="n">who</span><span class="p">,</span> <span class="kt">string</span> <span class="n">dialogue_id</span><span class="p">)</span>
<span class="p">{</span>
	<span class="c1">// Here you get which option was picked as dialogue_id.</span>
	<span class="n">Game1</span><span class="p">.</span><span class="n">addHUDMessage</span><span class="p">(</span><span class="k">new</span> <span class="n">HUDMessage</span><span class="p">(</span><span class="err">$</span><span class="s">&quot;Farmer {who} chose option {dialogue_id}&quot;</span><span class="p">));</span>
    
<span class="p">}</span>
</pre></div>
<h2><span class="mw-headline" id="Mail">Mail</span></h2>
<p>If you are new to SMAPI or to modding Stardew Valley in general, sending a simple letter to the player's mailbox is a great place to start your learning journey.  You will be treated to some simple to understand code and concepts, as well as receive some instant gratification in the form of a tangible, in-game letter that you can see in action.  If the examples in this section fall short, there are many folks available to assist you on the Discord channel (//TODO: Provide link).
</p>
<h3><span class="mw-headline" id="Mail_content">Mail content</span></h3>
<p>Before you can actually send any of your own custom mail to the player, you must decided how your letter will be composed.  By that I mean, is your letter static - always the same text - or is it dynamic - text changes based on a variable piece of information?  Obviously a static letter will be easier to implement, so if you are just starting off, go that route for now.  However, both static and dynamic methods are explained below.
</p><p>To send mail, whether static or dynamic, you first have to let Stardew Valley know about your content, also referred to as an asset.  In the case of mail, you have to inject your additions into the mail data.  You accomplish this via the IAssetEditor interface.  You can implement IAssetEditor from your ModEntry class, or create a separate class that implements IAssetEditor to inject new mail content into "Data\Mail.xnb".  The examples cited below use the latter approach for clarity, easy of reuse, and encapsulation:
</p>
<h3><span class="mw-headline" id="Inject_static_content">Inject static content</span></h3>
<p>Most times a static, predefined letter will suffice, whether you are including an attachment (<i>i.e.,</i> object, money, etc.) or not.  "Static" simply means you do not need to change the text once it is typed before sending the letter.  A "static" letter will always be available in the game (unless you remove it from the mod or the mod is removed by the player) so that means the letter is still available if the player quits with your letter still in the mailbox and then returns to play later.  This can be an issue with "dynamic" letters, as explained in more detail in that section, so use "static" content whenever possible.
</p><p>You can softly reference the player's name, using "@", but other replace codes that may work in dialog texts, like %pet or %farm, do not work in static mail content at this time.  However, you can make use of some special characters that display an icon in the letter, such as "=", which will display a purple star, "&lt;", which will display a pink heart, the "$", which will be replaced with a gold coin, the "&gt;", which will display a right arrow, the "`", which will display an up arrow, and the "+", which will display a head riding a skateboard (maybe?).  There may be additional special cases as well that are not yet documented.
</p><p>The example below adds 4 letters into the mail data collection.  Note, that the code below does not send any letters to the player, but simply makes them available to Stardew Valley game so they can be sent.
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewModdingAPI</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MyMod</span>
<span class="p">{</span>
    <span class="k">internal</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">ModEntry</span><span class="p">:</span> <span class="n">Mod</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">helper</span><span class="p">.</span><span class="n">Events</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">AssetRequested</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnAssetRequested</span><span class="p">;</span>
        <span class="p">}</span>
        
        <span class="k">private</span> <span class="k">void</span> <span class="nf">OnAssetRequested</span><span class="p">(</span><span class="kt">object?</span> <span class="n">sender</span><span class="p">,</span> <span class="n">AssetRequestedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">NameWithoutLocale</span><span class="p">.</span><span class="n">IsEquivalentTo</span><span class="p">(</span><span class="s">&quot;Data/mail&quot;</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">e</span><span class="p">.</span><span class="n">Edit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">EditImpl</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">EditImpl</span><span class="p">(</span><span class="n">IAssetData</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">AsDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;().</span><span class="n">Data</span><span class="p">;</span>

            <span class="c1">// &quot;MyModMail1&quot; is referred to as the mail Id.  It is how you will uniquely identify and reference your mail.</span>
            <span class="c1">// The @ will be replaced with the player&#39;s name.  Other items do not seem to work (&#39;&#39;i.e.,&#39;&#39; %pet or %farm)</span>
            <span class="c1">// %item object 388 50&#160;%%   - this adds 50 pieces of wood when added to the end of a letter.</span>
            <span class="c1">// %item tools Axe Hoe&#160;%%   - this adds tools; may list any of Axe, Hoe, Can, Scythe, and Pickaxe</span>
            <span class="c1">// %item money 250 601  %%  - this sends a random amount of gold from 250 to 601 inclusive.</span>
            <span class="c1">// For more details, see: https://stardewvalleywiki.com/Modding:Mail_data </span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail1&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Hello @... ^A single carat is a new line ^^Two carats will double space.&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail2&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;This is how you send an existing item via email! %item object 388 50&#160;%%&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail3&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Coin $   Star =   Heart &lt;   Dude +  Right Arrow &gt;   Up Arrow `&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyWizardMail&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Include Wizard in the mail Id to use the special background on a letter&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span id="Send_a_letter_(using_static_content)"></span><span class="mw-headline" id="Send_a_letter_.28using_static_content.29">Send a letter (using static content)</span></h3>
<p>Now that you have your letter loaded, it's time to send it to the player.  There are a couple different methods available to accomplish this as well, depending on your need.  Two examples are shown below.  The distinction between the two methods will be explained below:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">mailbox</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMail1&quot;</span><span class="p">);</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">addMailForTomorrow</span><span class="p">(</span><span class="s">&quot;MyModMail2&quot;</span><span class="p">);</span>
</pre></div>
<p>The first method (Game1.player.mailbox.Add) adds the letter directly into the mailbox for the current day.  This can be accomplished in your "DayStarting" event code, for example.  Mail added directly to the mailbox is not "remembered" as being sent even after a save.  This is useful in some scenarios depending on your need.
</p><p>The second method (Game1.addMailForTomorrow) will, as the name implies, add the letter to the player's mailbox on the next day.  This method remembers the mail (Id) sent making it possible not to send the same letter over and over.  This can be handled in "DayStaring", "DayEnding" or other events, as dictated by your need.
</p><p>You may be able to put the letter directly into the mailbox and also have it be remembered using the mailRecieved collection.  You can simply add your mailId manually if you want it to be remembered when using the add directly to mailbox method.
</p><p>If you want Stardew Valley to forget that a specific letter has already been sent, you can remove it from the mailReceived collection.  You can iterate through the collection as well using a foreach should you need to remove mail en mass.
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">mailReceived</span><span class="p">.</span><span class="n">Remove</span><span class="p">(</span><span class="s">&quot;MyModMail1&quot;</span><span class="p">);</span>
</pre></div>
<p>That is all there is to sending a simple letter.   Attaching objects and sending money via letter is straight-forward, but sending recipes is more complicated  and will need some additional explanation at a future time.
</p>
<h3><span class="mw-headline" id="Inject_dynamic_content">Inject dynamic content</span></h3>
<p>If you want to send a letter that contains data that needs to change based on the situation, such as the number of purple mushrooms eaten today, then you have to create that letter content each time you plan on sending it, especially if you want an up-to-date value.  That is what I am referring to by "dynamic" letters. 
</p><p>Consider the following source code, which is basically an enhanced version of the static mail class shown above, that will also support "dynamic" content.  You could certainly always use the enhanced version of this code and just not make use of the dynamic content unless needed.  The code was separated for the purpose of illustrating the differences.
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewModdingAPI</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MyMail</span>
<span class="p">{</span>
    <span class="k">internal</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">ModEntry</span><span class="p">:</span> <span class="n">Mod</span>
    <span class="p">{</span>
        <span class="c1">// This collection holds any letters loaded after the initial load or last cache refresh</span>
        <span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">dynamicMail</span> <span class="p">=</span> <span class="k">new</span><span class="p">();</span>
       
        <span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Entry</span><span class="p">(</span><span class="n">IModHelper</span> <span class="n">helper</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">helper</span><span class="p">.</span><span class="n">Events</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">AssetRequested</span> <span class="p">+=</span> <span class="k">this</span><span class="p">.</span><span class="n">OnAssetRequested</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">OnAssetRequested</span><span class="p">(</span><span class="kt">object?</span> <span class="n">sender</span><span class="p">,</span> <span class="n">AssetRequestedEventArgs</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
             <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">NameWithoutLocale</span><span class="p">.</span><span class="n">IsEquivalentTo</span><span class="p">(</span><span class="s">&quot;Data/mail&quot;</span><span class="p">))</span>
                 <span class="n">e</span><span class="p">.</span><span class="n">Edit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">EditImpl</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">EditImpl</span><span class="p">(</span><span class="n">IAssetData</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">AsDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;().</span><span class="n">Data</span><span class="p">;</span>

            <span class="c1">// This is just an example</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;StaticMail&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;If there were any letters with static content they could be placed here.&quot;</span><span class="p">;</span>

            <span class="c1">// Inject any mail that was added after the initial load.</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">dynamicMail</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">data</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">dynamicMail</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>    <span class="c1">// For the usage of this MOD the letters are cleared</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Add a new mail asset into the collection so it can be injected by the next cache refresh.  The letter will</span>
        <span class="c1">/// not be available to send until the cache is invalidated in the code.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name=&quot;mailId&quot;&gt;The mail key&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name=&quot;mailText&quot;&gt;The mail text&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">string</span> <span class="n">mailId</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mailText</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">mailId</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="n">dynamicMail</span><span class="p">[</span><span class="n">mailId</span><span class="p">]</span> <span class="p">=</span> <span class="n">mailText</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>You will notice that there is really very little difference in the code used for static mail and dynamic mail.  The class that supports dynamic mail has a private dictionary collection for holding on to any mail content waiting to be injected.  It could have been made public to allow mail to be added directly into the collection, but that is not good practice.  Instead a public Add method was provided so that mail could be sent, so to speak, to the collection.  This code is for a specific MOD, not a robust framework, so it isn't overly concerned with error handling. You can improve that based on your needs.
</p><p>Notice the additional code in the Edit method, where any mail in the dynamicMail collection is injected into Stardew Valley's content.  There will be no mail in the dynamicMail collection when the MOD is loaded (in this case) the first time.  If you add mail after the original load, then the content will have to be reloaded by invalidating the cache.  Refer to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Modder_Guide/APIs/Content#Cache_invalidation" title="Modding:Modder Guide/APIs/Content">Cache invalidation</a> for more details.
</p>
<h3><span id="Send_a_letter_(using_dynamic_content)"></span><span class="mw-headline" id="Send_a_letter_.28using_dynamic_content.29">Send a letter (using dynamic content)</span></h3>
<p>You can hook into other events, such as "Day Starting" or "Day Ending" to generate the letter you want to send.  Consider this simple example, that is only for illustration purposes.
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnDayStarting</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">DayStartedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">mailMessage</span> <span class="p">=</span> <span class="err">$</span><span class="s">&quot;@, you have gathered {Game1.stats.rabbitWoolProduced} units of rabbit wool!&quot;</span><span class="p">;</span>

        <span class="n">mailData</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMailWool&quot;</span><span class="p">,</span> <span class="n">mailMessage</span><span class="p">);</span>      <span class="c1">// Add this new letter to the mail collection (for next refresh).</span>

        <span class="n">Game1</span><span class="p">.</span><span class="n">mailbox</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMailWool&quot;</span><span class="p">);</span>              <span class="c1">// Add to mailbox and we don&#39;t need to track it</span>

        <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">GameContent</span><span class="p">.</span><span class="n">InvalidateCache</span><span class="p">(</span><span class="s">&quot;Data\\mail&quot;</span><span class="p">);</span> <span class="c1">// note that as of SMAPI 3.14.0, this only invalidates the English version of the asset. </span>
    <span class="p">}</span>
</pre></div>
<p>This example formats a letter, showing the up-to-date count of rabbit wool, makes it available to the mail collection, places that letter in the mailbox, and then invalidates the cache so that this new letter will be injected during the cache refresh.  In this case there is no need to remember mailId as the letter will be recreated each time it needs to be sent, which in this example is everyday.  Again, this code is only for illustration of the concept.
</p><p>There is an important caveat to understand when injecting mail in this simple fashion.  The various mail frameworks available handle this issue, and this section will be expanded to explain how to overcome the issue, but it is being covered here to ensure you have a complete understanding of how MODs work with Stardew Valley and SMAPI.
</p><p>If you add a dynamic letter and inject it into the content at Day Ending, you have to add the mail for display tomorrow obviously.  That means the game will be saved with a reference to the dynamic letter ("MyMailModWool" in this example) pending in the mail box.  If the player quits the game at that point and returns later to continue playing, then that dynamic letter is not available, resulting in a "phantom letter".  The mailbox will show a letter is available but when clicked on nothing will display.  This can be handled in several ways, including by saving the custom letters and loading them when the player continues, but again this example code does not cover that yet.  That is why the example uses On Day Starting and makes the letter available right away.
</p>
<h2><span class="mw-headline" id="Other">Other</span></h2>
<h3><span class="mw-headline" id="Add_a_small_animation">Add a small animation</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">location</span><span class="p">.</span><span class="n">temporarySprites</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">TemporaryAnimatedSprite</span><span class="p">(...))</span>
</pre></div>
<p>See <i>TemporaryAnimatedSprite</i> for more details
</p>
<h3><span class="mw-headline" id="Play_a_sound">Play a sound</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">location</span><span class="p">.</span><span class="n">playSound</span><span class="p">(</span><span class="s">&quot;SOUND&quot;</span><span class="p">);</span>
</pre></div>
<p>(<i>e.g.,</i> "junimoMeep1")
</p>
<h2><span class="mw-headline" id="Open_source">Open source</span></h2>
<p>When all else fails, when you've looked at the decompiled source too long and it makes no sense, take a look at some open-source mod code! See the 'source' column in the <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Mod_compatibility" title="Modding:Mod compatibility">mod compatibility list</a> for source code.
</p>
<!-- 
NewPP limit report
Cached time: 20240410045953
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.116 seconds
Real time usage: 34.161 seconds
Preprocessor visited node count: 258/1000000
Post‐expand include size: 1089/2097152 bytes
Template argument size: 183/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 34410/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 16643.447      1 -total
  0.02%    2.647      1 Template:Stub
  0.01%    2.225      1 Template:Nexus_mod
  0.01%    1.916      2 Template:Key
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:8061-0!canonical and timestamp 20240410045918 and revision id 149461
 -->
</div></div><div class="printfooter">Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;oldid=149461">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;oldid=149461</a>"</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="../../external.html?link=https://stardewvalleywiki.com/Category:Article_stubs" title="Category:Article stubs">Article stubs</a></li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Category:Modding" title="Category:Modding">Modding</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>Personal tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:CreateAccount&amp;returnto=Modding%3ACommon+tasks&amp;returntoquery=oldid%3D149461" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3ACommon+tasks&amp;returntoquery=oldid%3D149461" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>Namespaces</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-modding" class="selected"><a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Common_tasks">Modding</a></li><li id="ca-talk"><a href="../../external.html?link=https://stardewvalleywiki.com/Modding_talk:Common_tasks" rel="discussion" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>Variants</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>Views</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Common_tasks">Read</a></li><li id="ca-viewsource" class="collapsible"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e">View source</a></li><li id="ca-history" class="collapsible"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>More</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">Search</label>
	</h3>
	<form action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="Search Stardew Valley Wiki" title="Search Stardew Valley Wiki [f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:Search">
			<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="Visit the main page" class="mw-wiki-logo" href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>Navigation</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-Admin-noticeboard"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Admin_noticeboard">Admin noticeboard</a></li><li id="n-Help-Editing"><a href="../../external.html?link=https://stardewvalleywiki.com/Help:Editing">Help Editing</a></li><li id="n-randompage"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-Official Links" class="vector-menu vector-menu-portal portal" aria-labelledby="p-Official Links-label" role="navigation" 
	 >
	<h3 id="p-Official Links-label">
		<span>Official Links</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-Official-Site"><a href="../../external.html?link=https://stardewvalley.net/" rel="nofollow">Official Site</a></li><li id="n-Official-Forums"><a href="../../external.html?link=https://forums.stardewvalley.net/" rel="nofollow">Official Forums</a></li><li id="n-Official-Merchandise"><a href="../../external.html?link=https://www.stardewvalley.net/shop/" rel="nofollow">Official Merchandise</a></li><li id="n-Discord"><a href="../../external.html?link=https://discord.com/invite/stardewvalley" rel="nofollow">Discord</a></li><li id="n-Reddit"><a href="../../external.html?link=https://www.reddit.com/r/StardewValley" rel="nofollow">Reddit</a></li></ul>
		
	</div>
</nav>

<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>Tools</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:WhatLinksHere/Modding:Common_tasks" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:RecentChangesLinked/Modding:Common_tasks" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="../../external.html?link=http://stardewvalleywiki.com/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="../../external.html?link=https://stardewvalleywiki.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;oldid=149461" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;action=info" title="More information about this page">Page information</a></li><li id="t-cargopagevalueslink"><a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;action=pagevalues" rel="cargo-pagevalues">Page values</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-lang" class="vector-menu vector-menu-portal portal" aria-labelledby="p-lang-label" role="navigation" 
	 >
	<h3 id="p-lang-label">
		<span>In other languages</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li class="interlanguage-link interwiki-ru"><a href="../../external.html?link=https://ru.stardewvalleywiki.com/Модификации:Основные_возможности" title="Модификации:Основные возможности – русский" lang="ru" hreflang="ru" class="interlanguage-link-target">Русский</a></li><li class="interlanguage-link interwiki-zh"><a href="../../external.html?link=https://zh.stardewvalleywiki.com/模组:常用方法" title="模组:常用方法 – 中文" lang="zh" hreflang="zh" class="interlanguage-link-target">中文</a></li></ul>
		
	</div>
</nav>


</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> This page was last edited on 29 July 2023, at 19:22.</li>
		<li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li>
		<li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li>
		<li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li>
		<li id="footer-places-mobileview"><a href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&amp;oldid=149461&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons Attribution-NonCommercial-ShareAlike" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="../../external.html?link=https://www.mediawiki.org/"><img src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mediawiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mediawiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.116","walltime":"34.161","ppvisitednodes":{"value":258,"limit":1000000},"postexpandincludesize":{"value":1089,"limit":2097152},"templateargumentsize":{"value":183,"limit":2097152},"expansiondepth":{"value":5,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":34410,"limit":5000000},"timingprofile":["100.00% 16643.447      1 -total","  0.02%    2.647      1 Template:Stub","  0.01%    2.225      1 Template:Nexus_mod","  0.01%    1.916      2 Template:Key"]},"cachereport":{"timestamp":"20240410045953","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":80});});</script></body>
<!-- Mirrored from stardewvalleywiki.com/mediawiki/index.php?title=Modding:Common_tasks&oldid=149461 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2024 03:33:27 GMT -->
</html>
