<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Modder Guide/APIs/Integrations - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Modder_Guide/APIs/Integrations","wgTitle":"Modder Guide/APIs/Integrations","wgCurRevisionId":143708,"wgRevisionId":143708,"wgArticleId":8091,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Modder_Guide/APIs/Integrations","wgRelevantArticleId":8091,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable"
,"wgMFAmc":!1,"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},
"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadaf7f.css?lang=en&amp;modules=ext.pygments%7Cmediawiki.hlist%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,follow"/>
<meta name="description" content="Creating SMAPI mods"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="api-resultc989.json?action=webapp-manifest"/>
<link rel="shortcut icon" href="extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api-result251f.xml?action=rsd"/>
<link rel="license" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html"/>
<meta property="og:title" content="Modding:Modder Guide/APIs/Integrations - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Modder_Guide/APIs/Integrations"/>
<meta property="og:description" content="Creating SMAPI mods"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Modder Guide/APIs/Integrations - Stardew Valley Wiki"/>
<meta property="twitter:description" content="Creating SMAPI mods"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Modder Guide\/APIs\/Integrations - Stardew Valley Wiki","headline":"Modding:Modder Guide\/APIs\/Integrations - Stardew Valley Wiki","mainEntityOfPage":"Modding:Modder Guide\/APIs\/Integrations","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Modder_Guide\/APIs\/Integrations","url":"https:\/\/stardewvalleywiki.com\/Modding:Modder_Guide\/APIs\/Integrations","description":"Creating SMAPI mods","dateModified":"2022-11-26T19:53:47Z","datePublished":"2022-11-26T19:53:47Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Modder_Guide_APIs_Integrations rootpage-Modding_Modder_Guide stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../Stardew_Valley_Wiki.html" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../Small_Crystal.html#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="index3a86.html?title=Special:UserLogin&amp;returnto=Modding%3AModder+Guide%2FAPIs%2FIntegrations&amp;returntoquery=mobileaction%3Dtoggle_view_mobile" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="index210f.html?title=Special:MobileOptions&amp;returnto=Modding%3AModder+Guide%2FAPIs%2FIntegrations" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../Stardew_Valley_Wiki_About.html" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../Stardew_Valley_Wiki_General_disclaimer.html" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../Stardew_Valley_Wiki.html">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Modder Guide/APIs/Integrations</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="#" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector disabled"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="index0477-2.html?title=Special:UserLogin&amp;returnto=Modding%3AModder+Guide%2FAPIs%2FIntegrations" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="indexc663.html?title=Modding:Modder_Guide/APIs/Integrations&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"><span class="subpages">&lt; <a href="../Modding_Modder_Guide.html" class="mw-redirect" title="Modding:Modder Guide">Modding:Modder Guide</a>&lrm; | <a href="../Modding_Modder_Guide/APIs.html" title="Modding:Modder Guide/APIs">APIs</a></span></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><div style="float: right; border: 2px solid rgb(0, 116, 72); background: #A1DEE2; padding: 0.75em; padding-top: 0.5em; margin: 0 0 2em 2em;">
<p><span style="font-size: larger;"><b>Creating SMAPI mods</b> <a href="../File_SMAPI_mascot.html" class="image"><img alt="SMAPI mascot.png" src="images/thumb/9/96/SMAPI_mascot.png/25px-SMAPI_mascot.png" decoding="async" width="25" height="25"></a></span>
</p>
<hr>
<ul><li><a href="../Modding_Modder_Guide/Get_Started.html" title="Modding:Modder Guide/Get Started">Get started</a></li>
<li><a href="../Modding_Modder_Guide/Game_Fundamentals.html" title="Modding:Modder Guide/Game Fundamentals">Game fundamentals</a></li>
<li><a href="../Modding_Modder_Guide/Test_and_Troubleshoot.html" title="Modding:Modder Guide/Test and Troubleshoot">Test &amp; troubleshoot</a></li>
<li><a href="../Modding_Modder_Guide/Release.html" title="Modding:Modder Guide/Release">Release</a></li>
<li><a href="../Modding_Modder_Guide/APIs.html" title="Modding:Modder Guide/APIs">API reference</a>
<dl><dd>Basic SMAPI APIs:
<ul><li><a href="../Modding_Modder_Guide/APIs/Mod_structure.html" title="Modding:Modder Guide/APIs/Mod structure">Mod structure</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Manifest.html" title="Modding:Modder Guide/APIs/Manifest">Manifest</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Events.html" title="Modding:Modder Guide/APIs/Events">Events</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Config.html" title="Modding:Modder Guide/APIs/Config">Configuration</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Content.html" title="Modding:Modder Guide/APIs/Content">Load &amp; edit content</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Data.html" title="Modding:Modder Guide/APIs/Data">Data</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Input.html" title="Modding:Modder Guide/APIs/Input">Input</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Logging.html" title="Modding:Modder Guide/APIs/Logging">Logging</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Reflection.html" title="Modding:Modder Guide/APIs/Reflection">Reflection</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Multiplayer.html" title="Modding:Modder Guide/APIs/Multiplayer">Multiplayer</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Translation.html" title="Modding:Modder Guide/APIs/Translation">Translation</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Update_checks.html" title="Modding:Modder Guide/APIs/Update checks">Update checks</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Utilities.html" title="Modding:Modder Guide/APIs/Utilities">Utilities</a></li></ul></dd>
<dd>Advanced SMAPI APIs:
<ul><li><a href="../Modding_Modder_Guide/APIs/Content_Packs.html" title="Modding:Modder Guide/APIs/Content Packs">Content packs</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Console.html" title="Modding:Modder Guide/APIs/Console">Mod console commands</a></li>
<li><a class="mw-selflink selflink">Mod integrations</a></li>
<li><a href="../Modding_Modder_Guide/APIs/Harmony.html" title="Modding:Modder Guide/APIs/Harmony">Harmony patching</a></li></ul></dd></dl></li>
<li><a href="../Modding_Index.html#Advanced_topics" title="Modding:Index">Specific guides</a></li></ul>
</div><p>← <span style="font-size: smaller;"><a href="../Modding_Index.html" title="Modding:Index">Modding:Index</a></span>
</p><p>A <i>mod integration</i> refers to two mods communicating or cooperating in some way. SMAPI provides a few features to support this.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Dependencies"><span class="tocnumber">1</span> <span class="toctext">Dependencies</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Mod_registry"><span class="tocnumber">2</span> <span class="toctext">Mod registry</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Mod-provided_APIs"><span class="tocnumber">3</span> <span class="toctext">Mod-provided APIs</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Providing_an_API"><span class="tocnumber">3.1</span> <span class="toctext">Providing an API</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Using_an_API"><span class="tocnumber">3.2</span> <span class="toctext">Using an API</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Known_limitations"><span class="tocnumber">3.3</span> <span class="toctext">Known limitations</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Message_sending"><span class="tocnumber">4</span> <span class="toctext">Message sending</span></a></li>
</ul>
</div>

</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Dependencies">Dependencies</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<p>You can define dependencies in your <samp>manifest.json</samp> file, which are other mods that must be loaded before yours. If the dependency is required and missing, SMAPI will show a friendly error to the player. See <a href="../Modding_Modder_Guide/APIs/Manifest.html" title="Modding:Modder Guide/APIs/Manifest">the manifest page</a> for more info.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Mod_registry">Mod registry</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<p>Your mod can get information about loaded mods, or check if a particular mod is loaded. (All mods are loaded by the time your mod's <samp>Entry(…)</samp> method is called.)
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// check if a mod is loaded</span>
<span class="kt">bool</span> <span class="n">isLoaded</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">ModRegistry</span><span class="p">.</span><span class="n">IsLoaded</span><span class="p">(</span><span class="s">"UniqueModID"</span><span class="p">);</span>

<span class="c1">// get info for a mod</span>
<span class="n">IModInfo</span> <span class="n">mod</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">ModRegistry</span><span class="p">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"UniqueModID"</span><span class="p">);</span>
<span class="kt">bool</span> <span class="n">isContentPack</span> <span class="p">=</span> <span class="n">mod</span><span class="p">.</span><span class="n">IsContentPack</span><span class="p">;</span>
<span class="n">IManifest</span> <span class="n">manifest</span> <span class="p">=</span> <span class="n">mod</span><span class="p">.</span><span class="n">Manifest</span><span class="p">;</span> <span class="c1">// name, description, version, etc</span>

<span class="c1">// get info for all loaded mods</span>
<span class="k">foreach</span><span class="p">(</span><span class="n">IModInfo</span> <span class="n">mod</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">ModRegistry</span><span class="p">.</span><span class="n">GetAll</span><span class="p">())</span> <span class="p">{</span> <span class="err">…</span> <span class="p">}</span>
</pre></div>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(3)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Mod-provided_APIs">Mod-provided APIs</span></h2><section class="mf-section-3 collapsible-block" id="mf-section-3">
<p>Mods can provide their own APIs to other mods, even without a dependency or assembly reference. This can be used to integrate mods, provide custom information, or provide new framework APIs beyond those offered by SMAPI itself.
</p>
<h3 class="in-block"><span class="mw-headline" id="Providing_an_API">Providing an API</span></h3>
<p>To provide an API for other mods to use:
</p>
<ol>
<li>Add a normal class to your mod project with the methods and properties you want to expose.
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="nc">YourModApi</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="n">ExampleProperty</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="p">=</span> <span class="s">"Example value"</span><span class="p">;</span>

    <span class="k">public</span> <span class="kt">bool</span> <span class="nf">GetThing</span><span class="p">(</span><span class="kt">string</span> <span class="n">example</span><span class="p">)</span>
    <span class="p">{</span>
       <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
(You can use a <a rel="nofollow" class="external text" href="../../external.html?link=https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/constructors">constructor</a> to initialise the API if desired.)</li>
<li>Override <samp>GetApi</samp> in your mod's entry class and return an instance of your API. You can choose between two versions of this method:
<ul>
<li>Override <samp>GetApi()</samp> to provide one instance of the API to all mods. This will only be called once, and SMAPI will cache the mod instance.
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>   <span class="k">public</span> <span class="k">override</span> <span class="kt">object</span> <span class="nf">GetApi</span><span class="p">()</span>
   <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">YourModApi</span><span class="p">();</span>
   <span class="p">}</span>
</pre></div>
</li>
<li><i>Or</i> Override <samp>GetApi(IModInfo mod)</samp> to provide one instance per mod. This will be called once for each mod that requests an API.

Note that this info is provided for informational purposes only (e.g. to log errors). Denying API access to specific mods is strongly discouraged and may be considered abusive.
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>   <span class="k">public</span> <span class="k">override</span> <span class="kt">object</span> <span class="nf">GetApi</span><span class="p">(</span><span class="n">IModInfo</span> <span class="n">mod</span><span class="p">)</span>
   <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">YourModApi</span><span class="p">(</span><span class="n">mod</span><span class="p">.</span><span class="n">Manifest</span><span class="p">);</span>
   <span class="p">}</span>
</pre></div>
</li>
</ul>
</li>
</ol>
<p>That's it! SMAPI will get one instance of your API and cache it.
</p><p>Notes:
</p>
<ul><li><samp>GetApi</samp> is always called after <samp>Entry</samp>, so it's safe to pass in your mod's initialised fields.</li>
<li>Be careful when changing your API! If you make a breaking change, other mods may need an update before they can access your API again.</li>
<li>You can optionally add a public <a rel="nofollow" class="external text" href="../../external.html?link=https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/interface">interface</a> to your API. If a mod directly references your mod DLL, they'll be able to use your interface instead of creating their own.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Using_an_API">Using an API</span></h3>
<p>You can use a mod-provided API by mapping it to an <a rel="nofollow" class="external text" href="../../external.html?link=https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/interface">interface</a>:
</p>
<ol>
<li>Create an interface with only the properties and methods you want to access. This interface must be public and cannot be an inner interface. (If you directly reference the mod DLL and it provides a public API interface, you can use that instead.)
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">public</span> <span class="k">interface</span> <span class="n">ISomeModApi</span>
<span class="p">{</span>
   <span class="kt">bool</span> <span class="nf">GetThing</span><span class="p">(</span><span class="kt">string</span> <span class="n">example</span><span class="p">);</span>
<span class="p">}</span>
</pre></div></li>
<li>In your mod code (after <samp>Entry</samp>), you can get the API by specifying the interface you created in step 1, and the <a href="../Modding_Modder_Guide/APIs/Manifest.html#Basic_fields" title="Modding:Modder Guide/APIs/Manifest">mod's unique ID</a>:
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">ISomeModApi</span> <span class="n">api</span> <span class="p">=</span> <span class="n">helper</span><span class="p">.</span><span class="n">ModRegistry</span><span class="p">.</span><span class="n">GetApi</span><span class="p">&lt;</span><span class="n">ISomeModApi</span><span class="p">&gt;(</span><span class="s">"other-mod-ID"</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">api</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
   <span class="kt">bool</span> <span class="n">result</span> <span class="p">=</span> <span class="n">api</span><span class="p">.</span><span class="n">GetThing</span><span class="p">(</span><span class="s">"boop"</span><span class="p">);</span>
</pre></div></li>
</ol>
<p>For a quick integration, you can also use reflection instead of creating an interface:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="kt">object</span> <span class="n">api</span> <span class="p">=</span> <span class="n">helper</span><span class="p">.</span><span class="n">ModRegistry</span><span class="p">.</span><span class="n">GetApi</span><span class="p">(</span><span class="s">"other-mod-id"</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">api</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
   <span class="kt">bool</span> <span class="n">result</span> <span class="p">=</span> <span class="n">helper</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">GetMethod</span><span class="p">(</span><span class="n">api</span><span class="p">,</span> <span class="s">"GetThing"</span><span class="p">).</span><span class="n">Invoke</span><span class="p">&lt;</span><span class="kt">bool</span><span class="p">&gt;(</span><span class="s">"boop"</span><span class="p">);</span>
</pre></div>
<p>Notes:
</p>
<ul><li>You can't call <samp>GetApi</samp> until all mods are initialised and their <samp>Entry</samp> methods called. You can use the <samp>GameLoop.GameLaunched</samp> <a href="#Events">event</a> if you need to access mod APIs early; this is guaranteed to happen after all mods are initialised.</li>
<li>You should always null-check APIs you consume. <samp>GetApi</samp> will return <samp>null</samp> if the API isn't available (<i>e.g.,</i> because the mod isn't already installed or doesn't have one). If <samp>GetAPi&lt;/smap&gt; cannot map an API, it will throw an exception.</samp></li>
<li>Keep in mind that mods may change their API interfaces over time; it may be useful to check the version of the other mod before trying to map the interface.</li></ul>
<h3 class="in-block"><span class="mw-headline" id="Known_limitations">Known limitations</span></h3>
<ul><li>When providing an API, the interface and implementation must be public.</li></ul>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(4)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Message_sending">Message sending</span></h2><section class="mf-section-4 collapsible-block" id="mf-section-4">
<p>You can send messages using <a href="../Modding_Modder_Guide/APIs/Multiplayer.html" title="Modding:Modder Guide/APIs/Multiplayer">the multiplayer API</a>, with a destination ranging from very narrow (<i>e.g.,</i> one mod on one connected computer) to very broad (all mods on all computers). Messages can also be sent to the current computer, <i>e.g.,</i> to communicate between two mods. This can be used for a variety of integrations.
</p><p>For example:
</p>
<ul><li>Request something from a host mod. (Tractor Mod uses this to summon a tractor to the current player in multiplayer, even if the tractor isn't in a location synced to that player.)</li>
<li>Notify another mod about something. (Chests Anywhere uses this to notify Automate when a chest's automation options are edited.)</li></ul>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="indexa944-2.html?title=Modding:Modder_Guide/APIs/Integrations&amp;oldid=143708">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Modder_Guide/APIs/Integrations&amp;oldid=143708</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="../Special_History/Modding_Modder_Guide/APIs/Integrations.html"
				data-user-name="Atravita"
				data-user-gender="unknown"
				data-timestamp="1669492427">
				<span>Last edited on 26 November 2022, at 19:53</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 26 November 2022, at 19:53.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../../creativecommons.org/licenses/by-nc-sa/3.0/index.html">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../Stardew_Valley_Wiki_Privacy_policy.html" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../Stardew_Valley_Wiki_About.html" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../Stardew_Valley_Wiki_General_disclaimer.html" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="index1c3b.html?title=Modding:Modder_Guide/APIs/Integrations&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.029","walltime":"0.358","ppvisitednodes":{"value":65,"limit":1000000},"postexpandincludesize":{"value":1656,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":6690,"limit":5000000},"timingprofile":["100.00%    1.409      1 Modding:Modder_Guide/header","100.00%    1.409      1 -total"]},"cachereport":{"timestamp":"20240709163902","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>

