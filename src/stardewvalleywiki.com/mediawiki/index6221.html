<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:Dialogue - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Dialogue","wgTitle":"Dialogue","wgCurRevisionId":174032,"wgRevisionId":0,"wgArticleId":6738,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Dialogue","wgRelevantArticleId":6738,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={
"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadb780.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:Dialogue - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Dialogue"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:Dialogue - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:Dialogue - Stardew Valley Wiki","headline":"View source for Modding:Dialogue - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:Dialogue","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Dialogue","url":"https:\/\/stardewvalleywiki.com\/Modding:Dialogue","description":"\u2190 Index","dateModified":"2024-07-01T18:50:05Z","datePublished":"2024-07-01T18:50:05Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Dialogue rootpage-Modding_Dialogue stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3ADialogue&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3ADialogue" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:Dialogue</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue" title="Modding:Dialogue">Modding:Dialogue</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">← [[Modding:Index|Index]]

This page explains how the game stores dialogue text, its format, and how the game parses it. This is an advanced guide for mod developers.

==Dialogue data==
Character dialogue is stored in many different files: The &lt;samp>Characters\Dialogue&lt;/samp> directory is where the majority of NPC-specific dialogue is stored. &lt;samp>Data\ExtraDialogue.xnb&lt;/samp>, &lt;samp>Strings\Characters.xnb&lt;/samp>, &lt;samp>Strings\Events.xnb&lt;/samp>, &lt;samp>Strings\SpeechBubbles.xnb&lt;/samp>, and &lt;samp>Strings\StringsFromCSFiles.xnb&lt;/samp> contain various other pieces of dialogue, some generic, and some NPC-specific.

===Characters\Dialogue directory===
====Characters\Dialogue\{{t|NPC}}.xnb====
An NPC's named file in &lt;samp>Character\Dialogue&lt;/samp> contains most of their dialogue. The game will choose dialogue from one of the sections below, in the order shown here.

=====Special dialogue=====
There are a few predefined keys for specific cases:
{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>danceRejection&lt;/samp>
| Dialogue used to reject an offer to dance at the [[Flower Dance]]. (A different dialogue is used if they've already agreed to dance with another player.)
|-
| &lt;samp>MovieInvitation&lt;/samp>
| An NPC's response to being invited to the [[Movie Theater]]. If not defined, the NPC will use a generic line from &lt;samp>Strings\Characters.xnb&lt;/samp>. The specific string used depends on the NPC's [[Modding:NPC data|manners]].
|
|-
| &lt;samp>breakUp&lt;/samp>
| An NPC's response to being broken up with by giving them a [[Wilted Bouquet]].
|
|-
| &lt;samp>divorced&lt;/samp>
| Dialogue shown when you speak to your divorced spouse.
|
|-
| &lt;samp>accept_{{t|item_id}}&lt;/samp>
| If defined, this dialogue will be used when gifting an item with the given ID to the NPC. Does not affect and is not affected by an NPC's taste towards an item. Used when giving quest items to their proper recipients. Appears to have no affect when given the ID of a non-quest item.&lt;br />&lt;small>Example: &lt;samp>accept_864: "...!$4#$b#...Where did you find this?$4#$b#...$5#$b#This man... We fought together in the war, @. He was like a brother to me. #$b#But... only one of us made it back.$5#$b#He never lost his courage, though. Even in the face of death. A true hero... I'll never forget him.#$b#Thanks for bringing me this... It means a lot to me.#$b#Here, take this. It's been sitting in the back of our cupboard for years, and we've never used it."&lt;/samp>
|-
| &lt;samp>reject_{{t|item_id}}&lt;/samp>
| If defined, when attempting to gift the item with the given ID, the NPC will not accept the item and instead say this dialogue. Used for quest items to ensure they're not accidentally gifted, or to give hints towards their proper recipient.&lt;br />&lt;small>Example: &lt;samp>reject_864: "What's this? It looks like one of Kent's buddies from the war. Maybe you should show it to him?"&lt;/samp>
|-
| &lt;samp>{{t|location}}_Entry&lt;/samp>
| Possible dialogue lines shown above the NPC's name when they enter the named {{t|location}}, with a 50% chance. This dialogue entry can contain multiple options separated by &lt;code>/&lt;/code>; the game will randomly choose one to display.&lt;br />&lt;small>Example: &lt;samp>SeedShop_Entry: "Hi, Pierre!/Now, what do I need.../Ah, that looks good!/Makin' my special sauce tonight!/Pierre! What's fresh?/Pierre! Waddya got for me?"&lt;/samp>&lt;/br>Note: This key is not to be confused with [[Modding:Dialogue#Speech_bubbles]].
|-
| &lt;samp>Resort&lt;/samp>&lt;br />&lt;samp>Resort_Bar&lt;/samp>&lt;br />&lt;samp>Resort_Chair&lt;/samp>&lt;br />&lt;samp>Resort_Dance&lt;/samp>&lt;br />&lt;samp>Resort_Entering&lt;/samp>&lt;br />&lt;samp>Resort_Leaving&lt;/samp>&lt;br />&lt;samp>Resort_Shore&lt;/samp>&lt;br />&lt;samp>Resort_Towel&lt;/samp>&lt;br />&lt;samp>Resort_Umbrella&lt;/samp>&lt;br />&lt;samp>Resort_Wander&lt;/samp>
| Various dialogue keys used when an NPC is visiting the Ginger Island Resort.
|-
| &lt;samp>ComeBackLater&lt;/samp>&lt;br />&lt;samp>Snoring&lt;/samp>
| [[Gil]]'s dialogue when you haven't completed any new Adventure Quest goals. &lt;samp>ComeBackLater&lt;/samp> will be shown once, and all subsequent dialogues will show &lt;samp>Snoring&lt;/samp>.
|}

=====Location dialogue=====
Otherwise the game will choose dialogue in this order.

Variants:
* Each key can optionally be prefixed with a [[#Seasons|season name]], like &lt;samp>springMountain_47_23&lt;/samp>.

The game will check variants in this order: &lt;samp>{{t|season}}{{t|key}}&lt;/samp>, and &lt;samp>{{t|key}}&lt;/samp>. The variants aren't listed below for simplicity.
Unlike daily dialogue, location dialogue is endlessly repeatable as long as the trigger conditions are fulfilled, ''e.g.,'' Being in the location. They will not remove daily dialogue from an npc's dialogue rotation, but will merely overwrite it when the NPC is in the specified location.

{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>{{t|location}}_{{t|x}}_{{t|y}}&lt;/samp>
| Dialogue shown in the named location when the NPC is standing at tile position {{t|x}}, {{t|y}}.&lt;br />&lt;small>Example: &lt;samp>Mountain_47_23: "I come here for the peace and quiet."&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|location}}_{{t|dayName}}&lt;/samp>
| Dialogue shown in the named location on the given [[#Days of week|day of week]].&lt;br />&lt;small>Example: &lt;samp>Saloon_Fri: "Business has been really good tonight. I'm pleased."&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|location}}{{t|hearts}}&lt;/samp>
| Dialogue shown in the named location if you have at least {{t|hearts}} hearts with them. The {{t|hearts}} will be checked in the order 10, 8, 6, 4, 2 (no other value will be recognised).&lt;br />&lt;small>Example: &lt;samp>Saloon8: "Hi there @. I'm glad to see you! You're always welcome here."&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|location}}&lt;/samp>
| Dialogue shown in the named location.&lt;br />&lt;small>Example: &lt;samp>Saloon: "Now that I'm here I can finally relax and socialize a bit."&lt;/samp>&lt;/small>
*Note: Location dialogue will be accessible even if the NPC is only walking through the specified map unlike schedule strings that will only be accessible once the schedule end location is reached.
|}

=====Generic dialogue=====
Otherwise the game will choose a dialogue using one of these key formats (in precedence order):
# &lt;samp>{{t|season}}_{{t|key}}_inlaw_{{t|spouse}}&lt;/samp>
# &lt;samp>{{t|season}}_{{t|key}}&lt;/samp>
# &lt;samp>{{t|key}}_inlaw_{{t|spouse}}&lt;/samp>
# &lt;samp>{{t|key}}&lt;/samp>

For each variation above: &lt;samp>{{t|season}}&lt;/samp> is a [[#Seasons|season name]] (like &lt;samp>spring_14&lt;/samp>); &lt;samp>_inlaw_{{t|spouse}}&lt;/samp> matches if the player is married to the named NPC, regardless of whether the speaking NPC is related to the named one (like &lt;samp>Sat_inlaw_Abigail&lt;/samp>); and &lt;samp>{{t|key}}&lt;/samp> is one of the formats listed below.

{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>{{t|dayOfMonth}}&lt;/samp>
| Dialogue shown on the given day of month in the '''first year only.'''&lt;br />'''WARNING: this first-year-only behavior is different from other keys and often catches unsuspecting modders!'''&lt;br />&lt;small>Example: &lt;samp>10: "Did you watch the game last night?#$b#Or wait, do you even have a TV set...?"&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|dayOfMonth}}_{{t|firstOrLaterYear}}&lt;/samp>
| Dialogue shown on the given day of month in the [[#First/later year|first/later year]].&lt;br />&lt;small>Example: &lt;samp>2_1: "My husband Kent is a soldier, working overseas. That's why he's not here right now.#$b#I know he'll come back safe once his tour is over!!#$e#Need something?"&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|dayOfWeek}}{{t|hearts}}_{{t|firstOrLaterYear}}&lt;/samp>
| Dialogue shown on the given [[#Days of week|day of week]] if you have at least {{t|hearts}} hearts with them, in the [[#First/later year|first/later year]]. The {{t|hearts}} will be checked in the order 10, 8, 6, 4, 2 (no other value will be recognised).&lt;br />&lt;small>Example: &lt;samp>Thu2_2: "Well, my Dad is back. Have you met him?#$b#I'm just glad he's okay."&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|dayOfWeek}}{{t|hearts}}&lt;/samp>
| Dialogue shown on the given [[#Days of week|day of week]] if you have at least {{t|hearts}} hearts with them. The {{t|hearts}} will be checked in the order 10, 8, 6, 4, 2 (no other value will be recognised).&lt;br />&lt;small>Example: &lt;samp>Sun4: "Hey, @.#$e#How's your day going?"&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|dayOfWeek}}_{{t|firstOrLaterYear}}&lt;/samp>
| Dialogue shown on the given [[#Days of week|day of week]] in the [[#First/later year|first/later year]].&lt;br />&lt;small>Example: &lt;samp>Sat_1: "Dad's coming back soon!#$b#I hope he brings me some toys.$u"&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|dayOfWeek}}&lt;/samp>
| Dialogue shown on the given [[#Days of week|day of week]].&lt;br />&lt;small>Example: &lt;samp>Mon: "Oh, hey. Taking a break from work?"&lt;/samp>&lt;/small>
|}

====Rain dialogue====
&lt;samp>Characters\Dialogue\rainy.xnb&lt;/samp> contains one dialogue entry per NPC. There's a roughly 50% chance they'll use this dialogue if a special or location dialogue doesn’t match, it's raining, and you're not married to or divorced from them.

====Marriage dialogue====
&lt;samp>Characters\Dialogue\MarriageDialogue.xnb&lt;/samp> contains dialogue text for all spouses, and each NPC may optionally have their own dialogue file like &lt;samp>Characters\Dialogue\MarriageDialogueAbigail.xnb&lt;/samp>. When looking up a dialogue key, it will use the one in the NPC's file if it exists, else the one in the generic file, else a default text (usually blank).

Each dialogue entry has a key with one of these formats:
{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>{{t|season}}_{{t|day}}&lt;/samp>
| Dialogue shown when the day starts, if {{t|season}} and {{t|day}} match the current date.&lt;br />&lt;small>Example: &lt;samp>fall_1&lt;/samp>: "''The scent is unmistakable... mushroom, rotting leaves, pumpkin. It's fall, alright. Isn't it lovely?''"&lt;/small>
|-
| &lt;samp>patio_{{t|spouse}}&lt;/samp>
| Dialogue shown when the NPC is standing on the patio.
|-
| &lt;samp>{{t|weather}}_Day_{{t|random}}&lt;/samp>
| Daily dialogue added when the day starts, based on the {{t|weather}} (&lt;samp>Rainy&lt;/samp> if it's raining, else &lt;samp>Indoor&lt;/samp> even if they're not indoors) and {{t|random}} (a random number between 0 and 4). If the game chooses a {{t|random}} value that doesn't have a dialogue, it'll use the default text instead.
|-
| &lt;samp>Rainy_Night_{{t|random}}&lt;/samp>
| Daily dialogue in the farmhouse after 6pm when it's raining. {{t|random}} is a number between 0–5 inclusively ''or'' the NPC name, each of which has an equal chance of being randomly chosen. If the game chooses a {{t|random}} value that doesn't have a dialogue, it'll use the default text instead.&lt;br />&lt;small>Example: &lt;samp>Rainy_Night_3&lt;/samp>: "''On nights like this, I like to turn the light down low and just listen...$8''"&lt;/small>
|-
| &lt;samp>Indoor_Night_{{t|random}}
| Daily dialogue in the farmhouse after 6pm when it's ''not'' raining. {{t|random}} is a number between 0–4 inclusively ''or'' the NPC name, each of which has an equal chance of being randomly chosen. If the game chooses a {{t|random}} value that doesn't have a dialogue, it'll use the default text instead.
|-
| &lt;samp>funLeave_{{t|spouse}}&lt;/samp>
| Dialogue used when leaving the farmhouse, typically during a Monday, or a Friday if they have no job. (See below.)
|-
| &lt;samp>jobLeave_{{t|spouse}}&lt;/samp>
| Dialogue used when leaving to go to their job. Only used for Maru, Penny, and Harvey.
|-
| &lt;samp>funReturn_{{t|spouse}}&lt;/samp>
| Dialogue shown after 1pm when they enter the farmhouse but before reaching their target position, but only on Monday (any NPC) or Friday (if not Maru/Penny/Harvey).&lt;br />&lt;small>Example: &lt;samp>funReturn_Abigail&lt;/samp>: "''Hey! Did you have a good day? Mine went well. It was refreshing to take a walk.$h''"&lt;/small>
|-
| &lt;samp>jobReturn_{{t|spouse}}&lt;/samp>
| Dialogue shown after 1pm when they enter the farmhouse but before reaching their target position, but only if &lt;samp>funReturn&lt;/samp> isn't shown instead.&lt;br />&lt;small>Example: &lt;samp>jobReturn_Penny&lt;/samp>: "''#$c .5#Good evening. My day was fine, thanks! How was yours?$h#$e#Jas and Vincent weren't behaving very well today. I'm still all wound up...''"&lt;/small>
|-
| &lt;samp>{{t|season}}_{{t|spouse}}&lt;/samp>
| Dialogue shown at 9+ heart levels with a 5% chance each day.&lt;br />&lt;small>Example: &lt;samp>fall_Abigail&lt;/samp>: "''Do I smell pumpkin on you? Maybe I'm just dreaming...$h''"&lt;/small>
|-
| &lt;samp>Outdoor_{{t|spouse}}&lt;/samp>
| Dialogue shown on the farm with a 20% chance.&lt;br />&lt;small>Example: &lt;samp>Outdoor_Abigail&lt;/samp>: "''I'm just going to hang out here, okay?#$e#There's a lot of interesting bugs and things out here. *chuckle*$h''"&lt;/small>
|-
| &lt;samp>Outdoor_{{t|random}}&lt;/samp>
| Dialogue shown on the farm with an 80% chance. {{t|random}} is a number 0–4, used to randomly select an entry.&lt;br />&lt;small>Example: &lt;samp>Outdoor_3&lt;/samp>: "''It's pretty cool that we have a cave on our property. It's something I always dreamed about.$h''"&lt;/small>
|-
| &lt;samp>spouseRoom_{{t|spouse}}&lt;/samp>
| Dialogue shown when the NPC is in their room.&lt;br />&lt;small>Example: &lt;samp>spouseRoom_Abigail&lt;/samp>: "''$c .5#I got up a little before you and fed David Jr. He's very active this morning.#$e#I hope you don't mind the guinea pig smell."''&lt;/small>
|-
| &lt;samp>OneKid_{{t|random}}&lt;/samp>
| Dialogue shown when standing in the kitchen, if they have one child. {{t|random}} is a number 0–4, used to randomly select an entry.&lt;br />&lt;small>&lt;samp>OneKid_1&lt;/samp>: "''I wonder if %kid1 will grow up to be a farmer like you?''"&lt;/small>
|-
| &lt;samp>TwoKids_{{t|random}}&lt;/samp>
| Dialogue shown when standing in the kitchen, if they have two children. {{t|random}} is a number 0–4, used to randomly select an entry.&lt;br />&lt;small>&lt;samp>TwoKids_2&lt;/samp>: "''I had a dream that %kid2 will grow up to be a famous monster hunter. I've already been thinking about a little armor set.''"&lt;/small>
|-
| &lt;samp>{{t|affection}}_{{t|random}}&lt;/samp>
| Dialogue shown inside the farmhouse between 11am and 6pm, ''or'' when the day starts if a different dialogue isn't selected. {{t|affection}} is randomly &lt;samp>Bad&lt;/samp> or &lt;samp>Neutral&lt;/samp> if they have less than 9 hearts; 50% chance of &lt;samp>Good&lt;/samp> if you have 10+ hearts, and 87.5% chance of &lt;samp>Good&lt;/samp> if you have 11+ hearts; else &lt;samp>Neutral&lt;/samp> {{t|random}} is a number 0–9, used to randomly select an entry.&lt;br />&lt;small>Example: &lt;samp>Good_5&lt;/samp>: "''I was just admiring the mermaid's pendant you gave me... I'll proudly wear this to my grave.$l''"&lt;/small>
|}

===Data directory===
====Engagement dialogue====
Similar to the rain dialogue, &lt;samp>Data\EngagementDialogue.xnb&lt;/samp> contains entries in the form of &lt;samp>{{t|NPC}}0&lt;/samp> and &lt;samp>{{t|NPC}}1&lt;/samp>, which are used when you are engaged but not yet married to an NPC, or, in the case of a roommate, when they have been invited but have not yet moved in.

====Event files====
&lt;samp>Data\Events\*.xnb&lt;/samp> contains event scripts, including any dialogue in the event (see [[Modding:Event data]]).

====Extra dialogue====
&lt;samp>Data\ExtraDialogue.xnb&lt;/samp> contains miscellaneous strings, some of which are NPC specific:

{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>PurchasedItem_*&lt;/samp>
| Randomly shown by a non-child town NPC after you sell an edible item to a shop. These keys are hardcoded, and you can't add new keys with a similar pattern.

For keys with a number infix (like &lt;samp>PurchasedItem_5_Cooking&lt;/samp>), the number is selected as such:
* If the NPC is marked as rude in their data, they use 3.
* Otherwise they randomly choose 1-5.
|-
| &lt;samp>Town_DumpsterDiveComment_Child&lt;/samp>&lt;br />&lt;samp>Town_DumpsterDiveComment_Teen&lt;/samp>&lt;br />&lt;samp>Town_DumpsterDiveComment_Adult&lt;/samp>&lt;br />&lt;samp>Town_DumpsterDiveComment_Linus&lt;/samp>
| Shown when an NPC catches you rummaging through trash cans, depending on the NPC's age. Linus has his own dialogue, but other NPCs don't.
|-
| &lt;samp>SummitEvent_Dialogue3_{{t|spouse}}&lt;/samp>
| Shown for your NPC spouse near the start of the [[perfection]] cutscene.
|}

====Movie theater dialogue====
An NPC's reaction to a movie is stored in &lt;samp>Data\MoviesReactions.xnb&lt;/samp>, which is structured far differently from every other dialogue file. See [[Modding:Movie theater data]] for more details.

===Strings directory===
====Animation descriptions====
&lt;samp>Strings\animationDescriptions.xnb&lt;/samp> contains short bits of dialogue to go with certain schedule points. '''Not to be confused to &lt;samp>Data\animationDescriptions.xnb&lt;/samp>, which contains the data of animations, rather than the strings for their description.'''

====Characters====
&lt;samp>Strings\Characters.xnb&lt;/samp> contains miscellaneous dialogue, some of which is NPC-specific:

{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>MovieInvite_Spouse_{{t|NPC name}}&lt;/samp>
| Shown when the NPC accepts a [[Movie Ticket|movie ticket]] when they're married to you. If missing, defaults to a &lt;samp>MovieInvite_Invited_*&lt;/samp> key.
|-
| &lt;samp>MovieInvite_Invited_{{t|NPC name}}&lt;/samp>&lt;br />&lt;samp>MovieInvite_Invited_{{t|manner}}&lt;/samp>&lt;br />&lt;samp>MovieInvite_Invited_{{t|socialAnxiety}}&lt;/samp>&lt;br />&lt;samp>MovieInvite_Invited_{{t|optimism}}&lt;/samp>&lt;br />&lt;samp>MovieInvite_Invited_{{t|age}}&lt;/samp>&lt;br />&lt;samp>MovieInvite_Invited&lt;/samp>
| Shown when the NPC accepts a [[Movie Ticket|movie ticket]]. The NPC will use the first key that exists in the order listed here.

The {{t|manner}}, {{t|socialAnxiety}}, and {{t|optimism}} values are those specified in the [[Modding:NPC data|NPC's equivalent data fields]]. The {{t|age}} value is one of &lt;samp>Child&lt;/samp>, &lt;samp>Teen&lt;/samp>, or &lt;samp>Adult&lt;/samp>.
|-
| &lt;samp>Phone_*&lt;/samp>
| Shown when calling a shop owner NPC on the [[telephone]]. These keys are hardcoded, so new keys with the same pattern will be ignored.
|}

====Events====
&lt;samp>Strings\Events.xnb&lt;/samp> contains miscellaneous dialogue related to events and festivals, some of which is NPC-specific.

====Speech bubbles====
&lt;samp>Strings\SpeechBubbles.xnb&lt;/samp> contains dialogue spoken by NPCs through speech bubbles when '''the player''' enters a given location. This is distinct from the &lt;samp>{{t|location}}_Entry&lt;/samp> field in an NPC's &lt;samp>Characters\Dialogue\*.xnb&lt;/samp> file, which is triggered when '''the NPC''' enters a given location.

These keys are hardcoded, so new keys with the same pattern will be ignored.

====Strings from CS files====
&lt;samp>Strings\StringsFromCSFiles.xnb&lt;/samp> contains miscellaneous strings, such as dialogue that's shared between multiple characters, dialogue for some hardcoded events like marriage, etc.

The file has entries in the form &lt;samp>"&lt;key>": "dialogue string"&lt;/samp>, where the key is an arbitrary unique identifier. These must exactly match the key expected by the game, but the keys are just unique identifiers &amp;mdash; even though most keys look like &lt;samp>{{t|file name}}.{{t|line number}}&lt;/samp>, that's just the convention originally used to assign IDs and it has no meaning or effect (nor does it even necessarily match the current file name or line number).

In most situations, if the game is unable to find a string for an NPC to say, it will default to &lt;samp>NPC.cs.4061&lt;/samp> (English version: "Hi.").

Some other useful NPC-specific strings stored here are as follows:

{| class="wikitable"
|-
! key format
! description
|-
| &lt;samp>{{t|NPC name}}_AfterWedding&lt;/samp>
| Shown after marrying an NPC, when you talk to them on the farm on the same day.
|-
| &lt;samp>{{t|NPC name}}_Engaged&lt;/samp>&lt;/br>&lt;samp>{{t|NPC name}}_EngagedRoommate&lt;/samp>
| Shown after the NPC accepts an engagement item (e.g. [[Mermaid's Pendant|mermaid's pendant]] or [[Void Ghost Pendant|void ghost pendant]] for vanilla NPCs).
|}

===NPC-specific generic dialogue===
With some ingenuity, you can make each NPC respond differently instead of using the normal static dialogue. You can use a special mod like {{nexus mod|6358|Custom Fixed Dialogue}}, but the same effect can be achieved with just {{nexus mod|1915|Content Patcher}} with some effort. To change &lt;samp>NPC.cs.3962&lt;/samp> and &lt;samp>NPC.cs.3963&lt;/samp> (to give a bouquet), and &lt;samp>NPC.cs.3980&lt;/samp> (for the mermaid pendant acceptance):

&lt;syntaxhighlight lang="json">
{
   "Action": "EditData",
   "Target": "Strings/StringsFromCSFiles",
   "Entries": {
      "NPC.cs.3962": "$q 10001 give_flowersA#?!...#$r 10001 0 give_flowersA# [Give Bouquet]",
      "NPC.cs.3963": "$q 10001 give_flowersB#?!...#$r 10001 0 give_flowersB# [Give Bouquet]",
      "NPC.cs.3980": "$q 10001 give_pendant#?!...#$r 10001 0 give_pendant# Will you marry me?"
   }
}
&lt;/syntaxhighlight>

In this example, each NPC will get their response from the &lt;samp>give_flowersA&lt;/samp>, &lt;samp>give_flowersB&lt;/samp>, and &lt;samp>give_pendant&lt;/samp> dialogue key in their [[Modding:Dialogue#Character-specific dialogue|character dialogue]] files. (See [[#Format|format]] below for more info on the syntax.)

Note that these should be added for all datable characters to avoid errors. For example, you could add this for Haley:

&lt;syntaxhighlight lang="json">
{
   "Action": "EditData",
   "Target": "Characters/Dialogue/Haley",
   "Entries": {
      "give_flowersA": "Oh.. these are beautiful.$1#$b#...What? You want to be my Boyfriend?$8^...What?  You want to be my Girlfriend?$8#$b#....I thought we already were together.$1",
      "give_flowersB": "Ohhh, @!  I would love to be your true love.$1",
      "give_pendant": ".....$8#$b#@, I don't know what to say..$8#$b#...$7#$b#Yes... I accept...$4#$b#I can't wait to tell the Mayor... Everything should take 3 days to set up.$1"
   }
}
&lt;/syntaxhighlight>

This can be used for other generic responses, and you even can avoid the "Give Bouquet" by asking for an answered question's ID.


==Algorithm==
The game finds dialogue as follows:

# Event dialogue is read from the appropriate event commands (see [[Modding:Event data]]).
# Location-specific dialogue is read from &lt;samp>StringsFromCSFiles {{t|location}}.cs&lt;/samp>.
# Else character dialogue is read from the character-specific files.
# If no dialogues were found, the game resorts to hardcoded dialogue from the &lt;samp>StringsFromCSFiles&lt;/samp> files (specifically keys prefixed with &lt;samp>NPC.cs&lt;/samp> NPC.cs).

==Format==
Dialogue text can contain tokens and commands which control the dialogue box, change the text (''e.g.,'' switch between gender-specific strings), inject values, etc. These are parsed by the &lt;samp>Dialogue&lt;/samp> class.

===Special tokens===

{| class="wikitable"
|-
! character
! description
|-
| &lt;samp>#&lt;/samp>
| Separates two commands in a dialogue string.
|-
| &lt;samp>{&lt;/samp>
| TODO. Stands for "breakSpecialCharacter".
|-
| &lt;samp>^&lt;/samp>
| Gender switch character. The text before it is shown for male farmers, the text after it for female farmers.&lt;br />''Example: &lt;code>Oh, good morning Mr. @!^Oh, good morning Ms. @!&lt;/code>''
|-
| &lt;samp>%&lt;/samp>
| Turns the dialogue box into a generic text box.&lt;br />''Example: &lt;code>"%Abigail is lost in her music."&lt;/code>''
|-
| &lt;samp>*&lt;/samp>
| TODO. Stands for "quickResponseDelineator".
|}

===Portrait commands===
These set the portrait shown in the dialogue box for the current line of dialogue. If there's no portrait command, the neutral portrait is used.

Portraits are numbered left-to-right and top-to-bottom, starting at &lt;samp>$0&lt;/samp>. The first six portraits are standard, and can be identified by the number (like &lt;samp>$2&lt;/samp>) or a unique alias (like &lt;samp>$s&lt;/samp>). All potential spouses and many other characters have these six portraits, but it's not fully consistent; for example, Caroline only has four.

{| class="wikitable"
|-
! numbered
! alias
! description
|-
| &lt;samp>$0&lt;/samp>
| 
| Use their neutral portrait.
|-
| &lt;samp>$1&lt;/samp>
| &lt;samp>$h&lt;/samp>
| Use their happy portrait.
|-
| &lt;samp>$2&lt;/samp>
| &lt;samp>$s&lt;/samp>
| Use their sad portrait.
|-
| &lt;samp>$3&lt;/samp>
| &lt;samp>$u&lt;/samp>
| Use their unique portrait. This is different for each NPC: grumpy ([[Abigail]]), holding football ([[Alex]]), angry ([[Caroline]]), sick ([[Governor]]), etc.
|-
| &lt;samp>$4&lt;/samp>
| &lt;samp>$l&lt;/samp>
| Use their love portrait.
|-
| &lt;samp>$5&lt;/samp>
| &lt;samp>$a&lt;/samp>
| Use their angry portrait.
|-
| &lt;samp>${{t|id}}&lt;/samp>
| 
| A custom portrait beyond the standard six. 
|}

Portrait commands should be at the end of a dialogue line:
:&lt;code>"fall_Fri6": "When I was a little girl, my father abandoned us.$s#$b#I'm sorry to make things uncomfortable for you...$u#$e#Anyway... How's the farming life going?",&lt;/code>

===Dialogue commands===

{| class="wikitable"
|-
! command
! description
|-
| &lt;samp>$q {{t|response IDs}} {{t|fallback}}#{{t|text}}&lt;/samp>
| Show a dialogue box containing the given question text.  If {{t|response IDs}} (a list delimited by &lt;code>/&lt;/code>) contains an answer already given, the question is skipped (along with the rest of this dialogue line), and instead the dialogue entry identified by {{t|fallback}} will be appended to whatever precedes this $q command.  The {{t|fallback}} dialogue typically uses a $p command to adjust the text based on the player's answer to this question. NOTE: dialogue questions must use unique IDs, similar to events.  See [[Modding:Event_data|the event data page]] for more information.
|-
| &lt;samp>$r {{t|response ID}} {{t|friendship}} {{t|reaction}}#{{t|answer text}}&lt;/samp>
| Define a response option to a $q question dialogue. {{t|answer text}} is the text shown. {{t|response ID}} is used to group responses for future reference (multiple answers can share an answer ID). {{t|friendship}} defines the change in friendship value, positive or negative, if this response is selected. {{t|reaction}} names the dialogue entry from the NPC's &lt;samp>Content\Characters\Dialogue\*.xnb&lt;/samp> file that will be the NPC's reaction if this response is selected by the player.
|-
| &lt;samp>$p {{t|response ID}}#{{t|match text}}&amp;#124;{{t|no-match text}}&lt;/samp>
| Stands for "dialoguePrerequisite".  Shows different text depending on whether the player gave a particular answer to a previously-asked question.  If {{t|response ID}} matches an answer the player gave, {{t|match text}} is shown; otherwise, {{t|no-match text}} is shown. These texts are separated by &lt;code>&amp;#124;&lt;/code> and only {{t|no-match text}} can contain additional commands. This does not need to be the first command in the dialogue string.

You can check multiple response IDs. For example, this will show the first dialogue if the player chose dialogue answer 17, 18, or 19:
&lt;pre>$p 17|18|19#I guess you think nothing would happen, right?$u|Maybe a wicked ghost would appear!&lt;/pre>
|-
| &lt;samp>$b&lt;/samp>
| Indicates pauses in dialogue, where the player will need to click for the next part to load in a new dialogue box.
|-
| &lt;samp>$e&lt;/samp>
| Ends the current dialogue, closing the dialogue box and resuming player control. The dialogue following &lt;samp>$e&lt;/samp> will require a new interaction with the NPC.
|-
| &lt;samp>$k&lt;/samp>
| Short for ''dialogueKill''. Removes all dialogue messages after the current one.
|-
| &lt;samp>$c {{t|probability}}#{{t|text1}}#{{t|text2}}&lt;/samp>
| Show {{t|text1}} with a {{t|probability}} between 0 and 1; otherwise, show {{t|text2}}.  E.g. &lt;code>$c 0.9&lt;/code> for a 90% chance of {{t|text1}} and a 10% chance of {{t|text2}}.  NOTE: Replacer commands (see below) do not work in {{t|text1}}. This does not need to be the first command in a dialogue string. It is unaffected by daily luck.
|-
| &lt;samp>$d {{t|state id}}#{{t|text1}}&amp;#124;{{t|text2}}&lt;/samp>
| Show one of two dialogue strings based on a predefined condition: &lt;samp>bus&lt;/samp> (whether the bus is repaired), &lt;samp>joja&lt;/samp> (whether the Joja Mart is still in business), &lt;samp>cc&lt;/samp> or &lt;samp>communitycenter&lt;/samp> (whether the Community Center is accessible), or &lt;samp>kent&lt;/samp> (whether [[Kent]] has returned to the valley). The dialogue string must start with &lt;samp>$d&lt;/samp>, everything up to the first &lt;code>&amp;#124;&lt;/code> symbol is shown if the condition matches, and everything after that is shown if the condition doesn't match.

For example:
&lt;syntaxhighlight lang="js">"Mon2": "$d kent#Yesterday I visited Yoba's Altar to give thanks for my husband's safe return.|Yesterday I visited Yoba's Altar to ask for my husband's safe return.#$e#I'm trying to stay positive, but it's hard sometimes.$s"&lt;/syntaxhighlight>
|-
| &lt;samp>$y&lt;/samp>
| TODO. Stands for "dialogueQuickResponse"; A simpler form of question. Works like $q, but within one and the same text line. It doesn't have neither "dialoguePrerequisite" ($p) nor friendship point changes. It can be triggered indenitelly.&lt;br />&lt;small>Example: &lt;samp>Penny: "$y 'Breakfast?_Yes please._Here you go._No, I'm good_More for me then!'"&lt;/samp>&lt;/small>
|-
| &lt;samp>$1 {{t|letter ID}}#{{t|1st-time text}} #$e# {{t|nth-time text}}&lt;/samp>
| Creates a line of dialogue which the character will only see once (at most).  {{t|1st-time text}} is shown only if {{t|letter ID}} has not been marked as sent yet (and this marks it as sent); otherwise, {{t|nth-time text}} is shown.  {{t|letter ID}} should not correspond to an actual piece of mail (because it will not be sent), but it can be referenced by events or other dialogue lines.
|-
| &lt;samp>%fork&lt;/samp>
| Sets the the &lt;samp>specialEventVariable1&lt;/samp> variable, which can be checked by a later &lt;samp>fork&lt;/samp> event command. Mainly useful in reaction dialogue for &lt;samp>$q&lt;/samp> questions during events.
|-
| &lt;samp>[# # #]&lt;/samp>
| Gives the player a random item, from the pool of [[Modding:Items/Object sprites|item IDs]] within the brackets. For example, &lt;syntaxhighlight lang="js">"I spent the afternoon daydreaming about the ocean. So I decided to cook some seafood. [198 202 727 728]$h"&lt;/syntaxhighlight> ...gives one of 198 (Baked Fish), 202 (Fried Calamari), 727 (Chowder), or 728 (Fish Stew) as a gift.
|-
| &lt;samp>%revealtaste{{t|NPC}}{{t|object ID}}&lt;/samp>
| Reveals the named character's gift taste for an [[Modding:Items|object]] in their social menu profile. For example, &lt;samp>%revealtasteLewis258&lt;/samp> will update Lewis's profile to show that he likes blueberries. This only works if it's in the first message in a dialogue box (''i.e.,'' before any &lt;code>#$b#&lt;/code> break, though &lt;code>#$e#&lt;/code> breaks are fine).
|- id="gender-switch"
| &lt;samp>${male^female}$&lt;/samp>&lt;br />&lt;samp>${male^female^non-binary}$&lt;/samp>
| Change text depending on the player's gender. This largely supersedes the &lt;samp>^&lt;/samp> dialogue token (which still works), and is supported in many more places than that token. This is applied before most other commands or parsing, so it can safely be used in cases where &lt;samp>^&lt;/samp> might have a different meaning (e.g. mail text). For example: &lt;code>Ahoy there ${lad^lass}$!&lt;/code> or &lt;code>Ahoy there ${lad^lass^matey}$!&lt;/code>.

You can optionally use &lt;samp>¦&lt;/samp> instead of &lt;samp>^&lt;/samp>, in which case any &lt;samp>^&lt;/samp> characters are left as-is.

Note that the non-binary value is only used if a mod overrides the player's gender, since the in-game UI only allows male or female.
|-
| &lt;samp>$action {{t|action}}&lt;/samp>
| Run a [[Modding:Trigger actions|trigger action string]], like &lt;samp>$action AddMoney 500&lt;/samp> to add {{price|500}} to the current player.
|-
| &lt;samp>$query {{t|query}}#{{t|if true}}&amp;#124;{{t|if false}}&lt;/samp>
| Show different dialogue text depending on the [[Modding:Game state queries|game state query]] in {{t|query}}. For example:
&lt;syntaxhighlight lang="js">
"Mon": "$query !PLAYER_VISITED_LOCATION Current Mine#Did you know there's an old abandoned mine up in the mountain? Apparently it's crawling with monsters!|I heard you went into the old mines up in the mountain!#Did you find anything tasty?$h"
&lt;/syntaxhighlight>
|-
| &lt;samp>$t {{t|topic ID}} {{o|day length}}&lt;/samp>
| Add a [[Modding:Dialogue#Conversation topics|conversation topic]] for the next {{o|day length}} days (default 4 days).
|-
| &lt;samp>$v {{t|event id}} {{o|check preconditions}} {{o|skip if seen}}&lt;/samp>
| Immediately start an [[Modding:Event data|event]] and end the current dialogue, subject to the conditions:
* {{o|check preconditions}}: whether to ignore the command if the [[Modding:Event data#Event preconditions|event's preconditions]] don't match (one of &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>). Default true.
* {{o|skip if seen}}: whether to ignore the command if the player has already seen the given event. Default true.

If the event is not played, the dialogue continues to the next line instead.

For example, &lt;code>$v 60367 false false&lt;/code> will replay the bus arrival event from the start of the game. &lt;code>$v SomeMod.Test true false#$b#Wow! Good timing!$1&lt;/code> will play the event "SomeMod.Test" if the player meets the precondition requirements. If they do not, the dialogue "Wow! Good timing!$1" will play instead.  

Note: The command will only work if it is at the very start of the dialogue. Adding any dialogue or other commands before it will cause it not to trigger the event and display the event commands as dialogue instead. 
|}

====Question example====
To understand how $q, $r, and $p work, an example may be helpful. Note how you can format the script to be easier to read:

&lt;syntaxhighlight lang="yaml">
summer_Fri:
    "I think I'll go to the beach tomorrow!
    #$q 305/306 beachquestion_followup#Would you like to go with me?
        #$r 305 15 beachquestion_yes#Sure, I would love to!
        #$r 306 0 beachquestion_sorry#Oh, sorry, I've already made plans with someone else...
        #$r 306 -10 beachquestion_no#No thank you.
    ",
    "beachquestion_yes": "Good! It's a date.$h",
    "beachquestion_sorry": "Oh. Darn. Okay.$6",
    "beachquestion_no": "Oh. Um. Sorry.$s",
    "beachquestion_followup":
        "$p 305
            #Tomorrow should be a lot of fun!$h
            |Hmm, I wonder if I can get someone to go with me...$s
        ",

summer_Sat:
    "The beach is lovely this time of year...
    #$p 305
        #Thanks for coming with me today.$h
        |Oh, hi @, how's it going?
    ",
&lt;/syntaxhighlight>

The dialogue above triggers on any Friday in the summer. The NPC begins with a response that is always shown: "I think I'll go to the beach tomorrow!"

Next they ask you a question.
&lt;syntaxhighlight lang="yaml">#$q 305/306 beachquestion_followup#Would you like to go with me?&lt;/syntaxhighlight>

'''$q''' starts the question. '''305/306''' checks to see if this question has been asked before, and if it has it sends you to the dialogue key '''beachquestion_followup'''. (Note that you can name your dialogue keys whatever you like which makes it easier to read.)

Next are the responses the player can give. You can add any number of '''$r''' lines; here we have three:

&lt;syntaxhighlight lang="yaml">
    #$r 305 15 beachquestion_yes#Sure, I would love to!
    #$r 306 0 beachquestion_sorry#Oh, sorry, I've already made plans with someone else...
    #$r 306 -10 beachquestion_no#No thank you.
&lt;/syntaxhighlight>
If you say yes (first option), the game will store '''ID 305''' as the answer given to this question. Next, your friendship with that person increases by '''15'''. '''beachquestion_yes''' tells the script which dialogue key continuation to use as a response to your answer.

If you say no (second and third option) the game will store '''ID 306''' as the answer given, then depending on which answer you gave will either not change your friendship with the person, '''0''', or reduce it, '''-10'''. Then it will use either '''beachquestion_sorry''' or '''beachquestion_no''' to continue the dialogue.

Now we need to make dialogue keys for each response:

&lt;syntaxhighlight lang="yaml">
    beachquestion_yes: "Good! It's a date.$h",
    beachquestion_sorry: "Oh. Darn. Okay.$6",
    beachquestion_no: "Oh. Um. Sorry.$s",
    beachquestion_followup:
        "$p 305
            #Tomorrow should be a lot of fun!$h
            |Hmm, I wonder if I can get someone to go with me...$s
        ",
&lt;/syntaxhighlight>

Of note here is '''beachquestion_followup'''. If the player talks to the NPC again, '''$q 305/306''' will check that the question has already been answered and instead go directly to this key.

'''$p 305''' begins a variable response which means "'''if''' the player chose yes, say this line, '''else''' say this line instead". If the player answered yes, the NPC responds happily. Otherwise, they will comment that they need to find someone to go with them.

There is another variable response the next day:

&lt;syntaxhighlight lang="yaml">
summer_Sat:
    "The beach is lovely this time of year...
    #$p 305
        #Thanks for coming with me today.$h
        |Oh, hi @, how's it going?
    ",
&lt;/syntaxhighlight>

Once again the first line (The beach is lovely...) always shows up when the player talks to the NPC, but the next line depends on whether or not they've answered yes the previous day.

----

Here is another example from Haley's existing dialogue file. Note how the script formatting is harder to read, but the game is able to process both.

&lt;syntaxhighlight lang="yaml">
    summer_Sat: "Farming sounds so boring...#$q 42/43 summer_Sat_old#What do you even do all day?#$r 42 10 summer_Sat_12#Care for plants#$r 42 10 summer_Sat_12#Explore the caves#$r 43 -10 summer_Sat_13#Snoop around in your room#$r 42 10 summer_Sat_12#Dig for treasure" #!String
    summer_Sat_old: "#$p 43#Hey, you better not be snooping around in my room anymore!$a|But I guess it could get you in pretty good shape." #!String
    summer_Sat_12: "Hmm... sounds like a lot of work." #!String
    summer_Sat_13: "What? You'd better not be doing that!$a" #!String
&lt;/syntaxhighlight>

The first time the &lt;code>summer_Sat&lt;/code> dialogue is chosen, neither response 42 nor 43 will have been given (because this question is the only one which has them as responses), so Haley will say, "Farming sounds so boring... What do you even do all day?"  The player can select among these responses:

* Care for plants
* Explore the caves
* Snoop around in your room
* Dig for treasure

The third response, &lt;code>$r 43 -10 summer_Sat_13#Snoop around in your room&lt;/code>, sets response ID 43, reduces Haley's friendship by 10 points, and brings up the dialogue &lt;code>summer_Sat_13&lt;/code> (Haley says, "What? You'd better not be doing that!").  All of the other responses set response ID 42, increase Haley's friendship by 10 points, and bring up the dialogue &lt;code>summer_Sat_12&lt;/code> ("Hmm... sounds like a lot of work.").

The next time &lt;code>summer_Sat&lt;/code> is chosen, one of the response IDs listed in the &lt;code>$q&lt;/code> command will have been given (either 42 or 43).  Therefore, the &lt;code>$q&lt;/code> and everything after is scrapped, and dialogue &lt;code>summer_Sat_old&lt;/code> is put in its place.  This new dialogue uses the &lt;code>$p&lt;/code> command to change Haley's dialogue based on whether or not you gave response ID 43 to any previous question.  If you answered "Snoop around your room," everything before the &lt;code>|&lt;/code> will be used, so Haley will now say, "Farming sounds so boring... Hey, you better not be snooping around in my room anymore!"  If response ID 43 has not been given (in this case, you must have given response ID 42, ''i.e.,'' one of the other three responses to the previous question), everything after the &lt;code>|&lt;/code> will be used, so Haley will instead say, "Farming sounds so boring... But I guess it could get you in pretty good shape."

===Replacer commands===
Replacer commands will be replaced with the relevant string. Note that in mail entries, only the &lt;samp>@&lt;/samp> replacer works.

{| class="wikitable"
|-
! command
! description
|-
| &lt;samp>@&lt;/samp>
| Farmer's name.&lt;br />''Example: &lt;code>Hi there @!&lt;/code>''
|-
| &lt;samp>%adj&lt;/samp>
| Random adjective. (Defined in StringsFromCSFiles.xnb)
|-
| &lt;samp>%noun&lt;/samp>
| Random noun. (Defined in StringsFromCSFiles.xnb)
|-
| &lt;samp>%place&lt;/samp>
| Random place name. (Defined in StringsFromCSFiles.xnb)
|-
| &lt;samp>%spouse&lt;/samp>
| The name of Farmer's spouse.
|-
| &lt;samp>%name&lt;/samp>
| A randomly-generated name. 
|-
| &lt;samp>%firstnameletter&lt;/samp>
| The first half of the farmer's name (rounded down), like ''Nat'' if the farmer's name is Natalie.
|-
| &lt;samp>%time&lt;/samp>
| Current time.
|-
| &lt;samp>%band&lt;/samp>
| The name of Sam and Sebastian's band.
|-
| &lt;samp>%book&lt;/samp>
| The title of Elliott's book.
|-
| &lt;samp>%pet&lt;/samp>
| The name of Farmer's pet.
|-
| &lt;samp>%farm&lt;/samp>
| Farm name.
|-
| &lt;samp>%favorite&lt;/samp>
| The Farmer's favorite thing.
|-
| &lt;samp>%kid1&lt;/samp>
| The name of Farmer's first child.
|-
| &lt;samp>%kid2&lt;/samp>
| The name of Farmer's second child.
|}

==Values==
The game uses these predefined values in some dialogue keys. This section is linked from above where needed.

===Days of week===
* &lt;samp>Mon&lt;/samp>
* &lt;samp>Tue&lt;/samp>
* &lt;samp>Wed&lt;/samp>
* &lt;samp>Thu&lt;/samp>
* &lt;samp>Fri&lt;/samp>
* &lt;samp>Sat&lt;/samp>
* &lt;samp>Sun&lt;/samp>

===Seasons===
* &lt;samp>spring&lt;/samp>
* &lt;samp>summer&lt;/samp>
* &lt;samp>fall&lt;/samp>
* &lt;samp>winter&lt;/samp>

===First/later year===
In some cases the game uses a "first/later year" value for dialogue conditions. This only has two possible values:

{| class="wikitable"
|-
! value
! meaning
|-
| &lt;samp>1&lt;/samp>
| Occurs in the first year.
|-
| &lt;samp>2&lt;/samp>
| Occurs in any year after the first (not only year 2).
|}

===Response IDs===
A response ID identifies an answer chosen by the player in response to a [[#Question example|question dialogue]]. In some cases a question may have several answers with the same ID (''e.g.,'' several variations of "yes"), or use the same ID for ''every'' question (in which case the ID just shows whether the player has answered the question).

Mods can add their own response IDs, but here are the vanilla IDs as of {{version|1.3.36}}¹:

; Dialogue
: {| class="wikitable"
|-
! NPC
! question
! answers
|-
| Abigail
| &lt;samp>fall_Sun&lt;/samp>&lt;br />''I was thinking about dyeing my hair again... what do you think?''
| &lt;samp>27&lt;/samp>: ''Dye it black.''&lt;br />&lt;samp>27&lt;/samp>: ''Why not blonde?''&lt;br />&lt;samp>27&lt;/samp>: ''How about bubblegum pink?''&lt;br />&lt;samp>28&lt;/samp>: ''I like your hair just the way it is!''
|-
| Abigail
| &lt;samp>summer_Sun&lt;/samp>&lt;br />''Okay... pretend you just won a free vacation. Where would you go?''
| &lt;samp>25&lt;/samp>: ''The beach''&lt;br />&lt;samp>26&lt;/samp>: ''In a dark cave''&lt;br />&lt;samp>26&lt;/samp>: ''The old, gnarled forest''&lt;br />&lt;samp>25&lt;/samp>: ''Joja Mega-Mall''
|-
| Abigail
| &lt;samp>Sun2&lt;/samp>&lt;br />''@, What do you think happens to us after we die?''
| &lt;samp>17&lt;/samp>: ''I have no idea.''&lt;br />&lt;samp>18&lt;/samp>: ''We come back as spooky ghosts.''&lt;br />&lt;samp>17&lt;/samp>: ''We go to Heaven.''&lt;br />&lt;samp>18&lt;/samp>: ''Our energy bodies enter the astral plane.''&lt;br />&lt;samp>17&lt;/samp>: ''Nothing. We just cease to exist.''
|-
| Abigail
| &lt;samp>winter_Sun&lt;/samp>&lt;br />''I made these two drawings. What do you think?''
| &lt;samp>29&lt;/samp>: ''I like the jungle island and the tiger.''&lt;br />&lt;samp>30&lt;/samp>: ''I like the orc with the battleaxe.''&lt;br />&lt;samp>29&lt;/samp>: ''I don't like either of them.''
|-
| Alex
| &lt;samp>fall_Wed&lt;/samp>&lt;br />''Do you think the ladies like my haircut?^What do you think about my haircut?''
| &lt;samp>54&lt;/samp>: ''It looks very fashionable.''&lt;br />&lt;samp>55&lt;/samp>: ''It looks like some kind of fungal growth.''
|-
| Alex
| &lt;samp>summer_Wed&lt;/samp>&lt;br />''Do you think I'll ever turn pro?''
| &lt;samp>52&lt;/samp>: ''You're destined to be a sports legend''&lt;br />&lt;samp>52&lt;/samp>: ''Maybe, if you practice a lot''&lt;br />&lt;samp>53&lt;/samp>: ''No, you'll most likely fail and become a salesman''
|-
| Alex
| &lt;samp>Wed&lt;/samp>&lt;br />''I'd ask you to throw the ball around, but you don't really seem like the sports type.^If you weren't a girl I'd ask you to play catch.''
| &lt;samp>6&lt;/samp>: ''I'm fine just watching you from a distance.''&lt;br />&lt;samp>5&lt;/samp>: ''I want to play catch with you!''&lt;br />&lt;samp>5&lt;/samp>: ''(angry) What's that supposed to mean?''
|-
| Clint
| &lt;samp>Mon&lt;/samp>&lt;br />''I bet you can't guess what my great-grandfather was...''
| &lt;samp>9&lt;/samp>: ''A blacksmith.''&lt;br />&lt;samp>9&lt;/samp>: ''A silly clown.''&lt;br />&lt;samp>9&lt;/samp>: ''A sarcastic jerk.''
|-
| Haley
| &lt;samp>fall_Sat&lt;/samp>&lt;br />''*sigh*...what do you think I should do today?''
| &lt;samp>44&lt;/samp>: ''Watercolor painting''&lt;br />&lt;samp>44&lt;/samp>: ''Relax and read a magazine''&lt;br />&lt;samp>44&lt;/samp>: ''Stop being a selfish crybaby''
|-
| Haley
| &lt;samp>summer_Sat&lt;/samp>&lt;br />''What do you even do all day?''
| &lt;samp>42&lt;/samp>: ''Care for plants''&lt;br />&lt;samp>42&lt;/samp>: ''Explore the caves''&lt;br />&lt;samp>43&lt;/samp>: ''Snoop around in your room''&lt;br />&lt;samp>42&lt;/samp>: ''Dig for treasure''
|-
| Leah
| &lt;samp>Mon&lt;/samp>&lt;br />''So why did you become a farmer?''
| &lt;samp>21&lt;/samp>: ''I want to make tons of money.''&lt;br />&lt;samp>22&lt;/samp>: ''It's more "real" than living in the city.''&lt;br />&lt;samp>211132&lt;/samp>: ''To follow in grandpa's footsteps.''&lt;br />&lt;samp>22&lt;/samp>: ''I wanted to escape my old life.''
|-
| Maru
| &lt;samp>summer_Thu&lt;/samp>&lt;br />''I've decided I'm going to build a robot someday.''
| &lt;samp>35&lt;/samp>: ''That should be very easy for you''&lt;br />&lt;samp>36&lt;/samp>: ''You should be more realistic''&lt;br />&lt;samp>35&lt;/samp>: ''It sounds challenging''
|-
| Maru
| &lt;samp>Sun&lt;/samp>&lt;br />''Do you have fun working on the farm?''
| &lt;samp>3&lt;/samp>: ''Yes.''&lt;br />&lt;samp>4&lt;/samp>: ''No.''
|-
| Penny
| &lt;samp>Mon4&lt;/samp>&lt;br />''But it's best not to dwell on bad things, right?''
| &lt;samp>7&lt;/samp>: ''Right. It's best to be positive!''&lt;br />&lt;samp>8&lt;/samp>: ''I think it's good to be realistic.''
|-
| Sam
| &lt;samp>Wed&lt;/samp>&lt;br />''Hey.. What do you think my new song should be about?''
| &lt;samp>20&lt;/samp>: ''Farming, mining, and chopping wood.''&lt;br />&lt;samp>8820&lt;/samp>: ''A city in the sea.''&lt;br />&lt;samp>8821&lt;/samp>: ''Trains.''&lt;br />&lt;samp>19&lt;/samp>: ''Choose anything. It'll still be a horrible song.''
|-
| Sebastian
| &lt;samp>fall_Fri&lt;/samp>&lt;br />''Do you read, @?''
| &lt;samp>62&lt;/samp>: ''Yep. The classics.''&lt;br />&lt;samp>63&lt;/samp>: ''Only Sci-fi and Fantasy''&lt;br />&lt;samp>62&lt;/samp>: ''I like a good Romance''&lt;br />&lt;samp>63&lt;/samp>: ''No, I don't read books''
|-
| Sebastian
| &lt;samp>Fri2&lt;/samp>&lt;br />''So what do you do when you aren't working?''
| &lt;samp>15&lt;/samp>: ''More Farming''&lt;br />&lt;samp>16&lt;/samp>: ''Comic books''&lt;br />&lt;samp>15&lt;/samp>: ''Shopping''&lt;br />&lt;samp>15&lt;/samp>: ''Sports''
|}

; Events
: {| class="wikitable"
|-
! event
! question
! answers
|-
| [[Abigail#Four Hearts|Abigail's 4-heart event]]&lt;!--2/f Abigail 1000/w rainy/t 1200 1900/z winter-->
| ''@! Why are you out here in the rain?$7''
| &lt;samp>32&lt;/samp>: ''Just doing some work''&lt;br />&lt;samp>32&lt;/samp>: ''Enjoying the weather''&lt;br />&lt;samp>32&lt;/samp>: ''I could ask you the same question''
|-
| [[Abigail#Six Hearts|Abigail's 6-heart event]]&lt;!--4/f Abigail 1500/t 2100 2400/w sunny-->
| ''You've used a sword before, haven't you?''
| &lt;samp>847951&lt;/samp>: ''Yes, and it's exciting!''&lt;br />&lt;samp>847951&lt;/samp>: ''Yes, but only in self-defense''&lt;br />&lt;samp>847951&lt;/samp>: ''Yes, but it's dangerous. You should stay safe.''&lt;br />&lt;samp>847951&lt;/samp>: ''No''
|-
| [[Abigail#Ten Hearts|Abigail's 10-heart event]]&lt;!--901756/f Abigail 2500/t 1700 2400/o Abigail-->
| ''*sniff*$s''
| &lt;samp>776589&lt;/samp>: ''What happened?''&lt;br />&lt;samp>776589&lt;/samp>: ''Are you okay?''
|-
| [[Abigail#Ten Hearts|Abigail's 10-heart event]]&lt;!--901756/f Abigail 2500/t 1700 2400/o Abigail-->
| ''I guess I'm not as tough as I thought...$8''
| &lt;samp>34&lt;/samp>: ''You're safe with me.''&lt;br />&lt;samp>34&lt;/samp>: ''I get scared too.''&lt;br />&lt;samp>34&lt;/samp>: ''You're crying like a little baby. Stop.''
|-
| [[Alex#Five Hearts|Alex's 5-heart event]]&lt;!--21/f Alex 1250/p Alex-->
| ''I'm worthless...$s''
| &lt;samp>57&lt;/samp>: ''That's crazy. You're a genius!''&lt;br />&lt;samp>57&lt;/samp>: ''We all have our strengths and weaknesses''&lt;br />&lt;samp>57&lt;/samp>: ''Worthless? Yeah, that about sums it up.''
|-
| [[Clint#Three Hearts I|Clint's 3-heart event]]&lt;!--97/f Clint 750/t 1900 2300/d Tue Wed Thu Fri Sat Sun-->
| ''Got any tips?^What advice can you give me?''
| &lt;samp>211&lt;/samp>: ''Impress women with your strength and charm''&lt;br />&lt;samp>211&lt;/samp>: ''Act crazy, to keep people guessing''&lt;br />&lt;samp>211&lt;/samp>: ''Just act natural... be yourself''&lt;br />&lt;samp>211&lt;/samp>: ''Treat women the same as men''
|-
| [[Demetrius#Six Hearts|Demetrius's 6-heart event]]&lt;!--25/f Demetrius 1500/p Demetrius/p Robin-->
| ''How would you classify a tomato?''
| &lt;samp>59&lt;/samp>: ''Vegetable''&lt;br />&lt;samp>59&lt;/samp>: ''Fruit''
|-
| [[Elliott#Two Hearts|Elliott's 2-heart event]]&lt;!--39/f Elliott 500/p Elliott-->
| ''A question... What kind of books do you like, @?''
| &lt;samp>958699&lt;/samp>: ''Mystery''&lt;br />&lt;samp>958700&lt;/samp>: ''Romance''&lt;br />&lt;samp>958701&lt;/samp>: ''Sci-Fi''
|-
| [[Elliott#Four Hearts|Elliott's 4-heart event]]&lt;!--40/f Elliott 1000/p Gus/t 1500 2200-->
| ''Wait. I propose a toast! To...''
| &lt;samp>28376&lt;/samp>: ''To Pelican Town!''&lt;br />&lt;samp>28376&lt;/samp>: ''To our friendship!''&lt;br />&lt;samp>28376&lt;/samp>: ''To my good health!''&lt;br />&lt;samp>28376&lt;/samp>: ''To your doom!''
|-
| [[Emily#Six Hearts|Emily's 6-heart event]]&lt;!--917409/e 463391/f Emily 1500/p Emily-->
| ''So... *gasp*... what did you think?$h''
| &lt;samp>213&lt;/samp>: ''That was amazing!''&lt;br />&lt;samp>213&lt;/samp>: ''That was embarrassing...''&lt;br />&lt;samp>213&lt;/samp>: ''(Say nothing and do a slow clap)''
|-
| [[Evelyn#Four Hearts|Evelyn's 4-heart event]]&lt;!--19/f Evelyn 1000/p Evelyn-->
| ''Well, what do you think?''
| &lt;samp>51&lt;/samp>: ''It's delicious!''&lt;br />&lt;samp>51&lt;/samp>: ''It was like chewing on a hockey puck''
|-
| [[Gus#Four Hearts|Gus's 4-heart event]]&lt;!--96/f Gus 1000/f Pam 500/p Gus-->
| ''@, what's going on here?''
| &lt;samp>207&lt;/samp>: ''You need to pay your tab right now!''&lt;br />&lt;samp>208&lt;/samp>: ''The saloon isn't doing well, financially''
|-
| [[Haley#Two Hearts|Haley's 2-heart event]]&lt;!--11/f Haley 500/p Haley/p Emily-->
| ''It's only because I cleaned them last week!$a''
| &lt;samp>46&lt;/samp>: ''Stop whining and just clean it!''&lt;br />&lt;samp>45&lt;/samp>: ''Haley, why not have this be your one weekly job?''&lt;br />&lt;samp>46&lt;/samp>: ''Emily, take the high road and do it this time.''
|-
| [[Haley#Four Hearts|Haley's 4-heart event]]&lt;!--12/f Haley 1000/p Haley-->
| ''Say... you're pretty strong, aren't you?''
| &lt;samp>47&lt;/samp>: ''Yes''&lt;br />&lt;samp>47&lt;/samp>: ''No''
|-
| [[Haley#Six Hearts|Haley's 6-heart event]]&lt;!--13/f Haley 1500/z winter/t 1000 1600-->
| ''I'll never find another one like it...$s''
| &lt;samp>48&lt;/samp>: ''Relax, I'll just buy you a new one!''&lt;br />&lt;samp>48&lt;/samp>: ''I'm really sorry...''
|-
| [[Harvey#Two Hearts|Harvey's 2-heart event]]&lt;!--56/f Harvey 500/p George-->
| ''@, what do you think George should do?''
| &lt;samp>84&lt;/samp>: ''George should follow Dr. Harvey's advice.''&lt;br />&lt;samp>85&lt;/samp>: ''George knows what's best for his own body.''
|-
| [[Harvey#Four Hearts|Harvey's 4-heart event]]&lt;!--57/f Harvey 1000/p Harvey-->
| ''Hmm... Your pulse is high.$u''
| &lt;samp>86&lt;/samp>: ''I'm a little nervous...''&lt;br />&lt;samp>86&lt;/samp>: ''I'm out of breath from working on the farm.''&lt;br />&lt;samp>86&lt;/samp>: ''Are you really a doctor? My pulse is fine!''
|-
| [[Kent#Three Hearts I|Kent's 3-heart event]]&lt;!--100/f Kent 750/p Kent/p Jodi-->
| ''(Say something to Kent)$s''
| &lt;samp>215&lt;/samp>: ''Jodi's to blame... she should've known better!''&lt;br />&lt;samp>215&lt;/samp>: ''I know you're hurting... but don't blame your wife.''&lt;br />&lt;samp>215&lt;/samp>: ''(Lie) Blame me... I asked for popcorn''
|-
| [[Leah#Four Hearts|Leah's 4-heart event]]&lt;!--51/f Leah 1000/p Leah-->
| ''Was that selfish of me, @?$s''
| &lt;samp>83&lt;/samp>: ''No, it had to be done.''&lt;br />&lt;samp>83&lt;/samp>: ''No, and your ex sounds like an idiot.''&lt;br />&lt;samp>83&lt;/samp>: ''No, but you would've been better off staying in the city.''&lt;br />&lt;samp>83&lt;/samp>: ''Yeah, a little.''&lt;br />&lt;samp>83&lt;/samp>: ''Yeah, but it's natural to care about yourself first.''
|-
| [[Lewis#Six Hearts|Lewis's 6-heart event]]&lt;!--639373/f Lewis 1500/f Marnie 1500/t 1900 2300/w sunny-->
| ''@...You overheard everything, didn't you?$s''
| &lt;samp>200&lt;/samp>: ''Yes... but I'll keep it a secret.''&lt;br />&lt;samp>201&lt;/samp>: ''Yes... and I'm going to tell everyone.''
|-
| [[Maru#Two Hearts|Maru's 2-heart event]]&lt;!--6/f Maru 500/p Maru-->
| ''Right, @?''
| &lt;samp>15933&lt;/samp>: ''(Say nothing)''&lt;br />&lt;samp>15933&lt;/samp>: ''Actually, your Dad was being weird.''
|-
| [[Maru#Four Hearts|Maru's 4-heart event]]&lt;!--7/f Maru 1000/p Maru-->
| ''@, what should I do?''
| &lt;samp>38&lt;/samp>: ''Just scoop it off the floor. He won't know the difference.''&lt;br />&lt;samp>39&lt;/samp>: ''Tell Harvey it was my fault.''&lt;br />&lt;samp>38&lt;/samp>: ''Tell Harvey it was an accident.''
|-
| [[Maru#Six Hearts|Maru's 6-heart event]]&lt;!--8/f Maru 1500/w sunny/t 2100 2340-->
| ''What do you see?''
| &lt;samp>40&lt;/samp>: ''A beautiful planet.''&lt;br />&lt;samp>40&lt;/samp>: ''A cold, dark abyss.''
|-
| [[Maru#Eight Hearts|Maru's 8-heart event]]&lt;!--9/f Maru 2000/p Maru-->
| ''I'm so sorry.$8''
| &lt;samp>41&lt;/samp>: ''It's okay, it doesn't even hurt.''&lt;br />&lt;samp>41&lt;/samp>: ''You'd better be. This hurts like crazy!''
|-
| [[Maru#Ten Hearts|Maru's 10-heart event]]&lt;!--10/f Maru 2500/t 900 1600-->
| ''Well, what do you think, @?''
| &lt;samp>18981&lt;/samp>: ''I'm so impressed with your inventions.''&lt;br />&lt;samp>18981&lt;/samp>: ''I'm disappointed... You should've made that robot your slave.''&lt;br />&lt;samp>18981&lt;/samp>: ''So is your Dad okay with 'us' now?''&lt;br />&lt;samp>18981&lt;/samp>: ''(Just stare at Maru and say nothing)''
|-
| [[Maru#Ten Hearts|Maru's 10-heart event]]&lt;!--BadAnswer-->
| ''You must have a good reason for saying that...$a''
| &lt;samp>18982&lt;/samp>: ''MarILDA's just a piece of machinery designed to act human.''&lt;br />&lt;samp>18982&lt;/samp>: ''I was just kidding. MarILDA deserves her freedom.''&lt;br />&lt;samp>18982&lt;/samp>: ''I would've put her to work on the farm.''
|-
| [[Penny#Two Hearts|Penny's 2-heart event]]&lt;!--34/f Penny 500/t 900 1400/w sunny-->
| ''@? You were watching us?''
| &lt;samp>71&lt;/samp>: ''I was. You did a kind thing there, Penny.''&lt;br />&lt;samp>71&lt;/samp>: ''You should've left him alone. Now he's grumpy.''&lt;br />&lt;samp>71&lt;/samp>: ''I'm just taking a walk, minding my own business.''
|-
| [[Penny#Six Hearts|Penny's 6-heart event]]&lt;!--36/f Penny 1500/p Penny-->
| ''...well?''
| &lt;samp>72&lt;/samp>: ''(Lie) Mmm! That was delicious!''&lt;br />&lt;samp>73&lt;/samp>: ''Uh... can I get the rest to go?''&lt;br />&lt;samp>73&lt;/samp>: ''Well it's definitely unique... how did you get it so rubbery?''
|-
| [[Pierre#Six Hearts|Pierre's 6-heart event]]&lt;!--16/f Pierre 1500/p Pierre-->
| ''Promise me you won't tell anyone about this.''
| &lt;samp>50&lt;/samp>: ''Your secret is safe with me.''&lt;br />&lt;samp>50&lt;/samp>: ''Your wife deserves to know about this.''
|-
| [[Robin#Six Hearts|Robin's 6-heart event]]&lt;!--33/f Robin 1500/p Robin-->
| ''Have you ever made anything out of wood, @?''
| &lt;samp>66&lt;/samp>: ''Yes''&lt;br />&lt;samp>66&lt;/samp>: ''No''
|-
| [[Sam#Two Hearts|Sam's 2-heart event]]&lt;!--44/f Sam 500/p Sam-->
| ''Say, @... what kind of music do you like?''
| &lt;samp>76&lt;/samp>: ''Cheerful pop music.''&lt;br />&lt;samp>77&lt;/samp>: ''Experimental noise rock.''&lt;br />&lt;samp>78&lt;/samp>: ''Hi-Energy dance music.''&lt;br />&lt;samp>79&lt;/samp>: ''Honky-tonky country music.''
|-
| [[Sam#Four Hearts|Sam's 4-heart event]]&lt;!--46/f Sam 1000/p Sam-->
| ''...Tell her, @.$s''
| &lt;samp>80&lt;/samp>: ''Sam dropped the snack as he was handing it to me.''&lt;br />&lt;samp>80&lt;/samp>: ''Sam handed me the snack and then I dropped it.''&lt;br />&lt;samp>81&lt;/samp>: ''Sam dropped it on purpose. He thought it would be funny.''
|}

&lt;small>¹ Extracted using [https://gist.github.com/Pathoschild/6a133fd567d724cc2e3057a8acf448b8 this LINQPad script].&lt;/small>

==Conversation topics==
A ''conversation topic'' is a temporary flag which can be checked in [[Modding:Event data|event preconditions]] and can trigger one-time NPC dialogue (if they have a matching dialogue key). They're stored in &lt;samp>Game1.player.activeDialogueEvents&lt;/samp> while active.

A conversation topic can be started with a modder-defined length using the &lt;samp>addConversationTopic&lt;/samp> [[Modding:Event data|event command]], &lt;samp>%item conversationTopic&lt;/samp> [[Modding:Mail data|mail command]], or in code by adding it to &lt;samp>Game1.player.activeDialogueEvents&lt;/samp>. A conversation topic, by default, lasts four days when added via event commands.

The game defines these events:
{| class="wikitable"
|-
! id
! duration
! trigger
|-
!colspan="3"| Bundles
|-
| &lt;samp>cc_Begin&lt;/samp>
| 4 days
| Set in the [[Wizard]]'s cutscene after reading the first Junimo note in the community center.
|-
| &lt;samp>cc_Complete&lt;/samp>
| 4 days
| [[Community Center]] completed. (Does not apply to JojaMart path.)
|-
| &lt;samp>cc_Boulder&lt;/samp>
| 7 days
| [[The Mountain|Mountain]] boulder is removed through community center bundle or Joja improvement form.
|-
| &lt;samp>cc_Bridge&lt;/samp>
| 7 days
| [[Quarry]] bridge is repaired through community center bundle or Joja improvement form.
|-
| &lt;samp>cc_Bus&lt;/samp>
| 7 days
| [[Bus Stop|Bus]] is repaired through community center bundle or Joja improvement form.
|-
| &lt;samp>cc_Greenhouse&lt;/samp>
| 3 days
| [[Greenhouse]] is constructed through community center bundle. (Does not apply to JojaMart path.)
|-
| &lt;samp>cc_Minecart&lt;/samp>
| 7 days
| [[Minecart]]s are unlocked through community center bundle or Joja improvement form.
|-
| &lt;samp>joja_Begin&lt;/samp>
| 7 days
| First time that player opens the [[Joja Community Development Form]].
|-
| &lt;samp>movieTheater&lt;/samp>
| 3 days
| [[Movie Theater|movie theatre]] is constructed.
|-
!colspan="3"| Spouse events
|-
| &lt;samp>elliottGone&lt;/samp>
| 6 days
| Set when [[Elliott]]'s fourteen-heart event starts.
|-
| &lt;samp>ElliottGone1&lt;/samp>&lt;br />&lt;samp>ElliottGone2&lt;/samp>&lt;br />&lt;samp>ElliottGone3&lt;/samp>&lt;br />&lt;samp>ElliottGone4&lt;/samp>&lt;br />&lt;samp>ElliottGone5&lt;/samp>&lt;br />&lt;samp>ElliottGone6&lt;/samp>&lt;br />&lt;samp>ElliottGone7&lt;/samp>
| same day
| Part of [[Elliott]]'s fourteen-heart event. The first flag is set when it starts; the subsequent flags are set by subsequent letters from Elliott.
|-
| &lt;samp>emilyFiber&lt;/samp>
| 2 days
| Part of [[Emily]]'s fourteen-heart event. Set after completing the quest.
|-
| &lt;samp>haleyCakewalk1&lt;/samp>&lt;br />&lt;samp>haleyCakewalk2&lt;/samp>
| same day
| Part of [[Haley]]'s fourteen-heart event.
|-
| &lt;samp>leahPaint&lt;/samp>
| same day
| Set when [[Leah]]'s fourteen-heart event starts.
|-
| &lt;samp>pennyRedecorating&lt;/samp>
| 2 days
| Part of [[Penny]]'s fourteen-heart event.
|-
| &lt;samp>samJob1&lt;/samp>&lt;br />&lt;samp>samJob2&lt;/samp>
| 2 days
| Part of [[Sam]]'s fourteen-heart event.
|-
| &lt;samp>samJob3&lt;/samp>
| 3 days
| Part of [[Sam]]'s fourteen-heart event.
|-
| &lt;samp>sebastianFrog&lt;/samp>
| same day
| Set when [[Sebastian]]'s fourteen-heart event starts.
|-
| &lt;samp>sebastianFrog2&lt;/samp>
| 6 days
| Part of [[Sebastian]]'s fourteen-heart event.
|-
| &lt;samp>shaneSaloon1&lt;/samp>&lt;br />&lt;samp>shaneSaloon2&lt;/samp>
| same day
| Part of [[Shane]]'s fourteen-heart event.
|-
!colspan="3"| Other events
|-
| &lt;samp>dumped_Guys&lt;/samp>&lt;br />&lt;samp>dumped_Girls&lt;/samp>
| 7 days
| Set after the corresponding ten-heart group event (''e.g.,'' see [[Abigail#Group Ten-Heart Event]]).
|-
| &lt;samp>secondChance_Girls&lt;/samp>&lt;br />&lt;samp>secondChance_Guys&lt;/samp>
| 14 days
| Set after the corresponding ten-heart group event (''e.g.,'' see [[Abigail#Group Ten-Heart Event]]).
|-
| &lt;samp>pamHouseUpgrade&lt;/samp>
| 4 days
| Set after seeing the [[Pam]] house upgrade event, if the player chose to be revealed as the donor.
|-
| &lt;samp>pamHouseUpgradeAnonymous&lt;/samp>
| 4 days
| Set after seeing the [[Pam]] house upgrade event, if the player chose to be anonymous.
|-
| &lt;samp>willyCrabs&lt;/samp>
| 4 days
| Set after [[Willy]]'s six-heart event.
|-
!colspan="3"| Other
|-
| &lt;samp>Introduction&lt;/samp>
| 6 days
| Farmer is created (''e.g.,'' starting a new save, or joining a multiplayer game for the first time).
|-
| &lt;samp>FullCrabPond&lt;/samp>
| 14 days
| First time any [[Fish Pond|fish pond]] contains 10 [[crab]]s.
|}


[[Category:Modding]]

[[pt:Modificações:Diálogo]]
[[ru:Модификации:Диалоги]]
[[zh:使用模组:对话]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Nexus_mod" title="Template:Nexus mod">Template:Nexus mod</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Nexus_mod&amp;action=edit" title="Template:Nexus mod">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:O" title="Template:O">Template:O</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:O&amp;action=edit" title="Template:O">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Price" title="Template:Price">Template:Price</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Price&amp;action=edit" title="Template:Price">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:T" title="Template:T">Template:T</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:T&amp;action=edit" title="Template:T">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Version" title="Template:Version">Template:Version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Version&amp;action=edit" title="Template:Version">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue" title="Modding:Dialogue">Modding:Dialogue</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:Dialogue">https://stardewvalleywiki.com/Modding:Dialogue</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Dialogue&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>
		

