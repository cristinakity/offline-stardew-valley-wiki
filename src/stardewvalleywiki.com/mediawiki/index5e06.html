<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:Shops - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"f283bc6b98a453ed3d115b0a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Shops","wgTitle":"Shops","wgCurRevisionId":165291,"wgRevisionId":0,"wgArticleId":14571,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Shops","wgRelevantArticleId":14571,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":
!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready"
,"user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadb780.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:Shops - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Shops"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="article:modified_time" content="2024-04-09T09:20:44Z"/>
<meta property="article:published_time" content="2024-04-09T09:20:44Z"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:Shops - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:Shops - Stardew Valley Wiki","headline":"View source for Modding:Shops - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:Shops","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Shops","url":"https:\/\/stardewvalleywiki.com\/Modding:Shops","description":"\u2190 Index","dateModified":"2024-04-09T09:20:44Z","datePublished":"2024-04-09T09:20:44Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Shops rootpage-Modding_Shops stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AShops&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3AShops" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:Shops</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Shops" title="Modding:Shops">Modding:Shops</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">← [[Modding:Index|Index]]

This page explains how to edit shop data.

==Data==
===Format===
You can create and change shops by editing the &lt;samp>Data/Shops&lt;/samp> asset. This consists of a string → model lookup, where the key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the shop, and the value is a model with these fields.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Items&lt;/samp>
| The items to add to the shop inventory. This consists of a list of values with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields supported by shop items.

Notes:
* If set to an [[Modding:Item queries|item query]] which returns multiple items, all of them will be added to the shop.
* The &lt;samp>MinStack&lt;/samp> and &lt;samp>MaxStack&lt;/samp> fields apply to the item after it's purchased, and have no effect on the price or &lt;samp>Stock&lt;/samp> limit.
* If the player found [[Pierre's Missing Stocklist]], season conditions in the &lt;samp>Condition&lt;/samp> field are ignored in [[Pierre's General Store]].
|-
| &lt;samp>Price&lt;/samp>
| ''(Optional)'' The gold price to purchase the item from the shop. Defaults to the item's normal price, or zero if &lt;samp>TradeItemId&lt;/samp> is specified.
|-
| &lt;samp>TradeItemId&lt;/samp>&lt;br />&lt;samp>TradeItemAmount&lt;/samp>
| ''(Optional)'' The [[Modding:Migrate to Stardew Valley 1.6#Custom items|qualified or unqualified item ID]] and amount which must be traded to purchase this item. Defaults to no item and 1 respectively.

If both &lt;samp>Price&lt;/samp> and &lt;samp>TradeItemId&lt;/samp> are specified, the player will have to provide both to get the item.
|-
| &lt;samp>ApplyProfitMargins&lt;/samp>
| ''(Optional)'' Whether to multiply the price by the difficulty modifier, which reduces the price for higher [[options|profit margins]]. This can be &lt;samp>true&lt;/samp> (always apply it), &lt;samp>false&lt;/samp> (never apply it), or &lt;samp>null&lt;/samp> (apply for certain items like saplings). This is applied before any quantity modifiers. Default &lt;samp>null&lt;/samp>.
|-
| &lt;samp>IgnoreShopPriceModifiers&lt;/samp>
| ''(Optional)'' Whether to ignore the shop's &lt;samp>PriceModifiers&lt;/samp> field for this item. This has no effect on the item's equivalent field. Default false.
|-
| &lt;samp>AvailableStockModifiers&lt;/samp>&lt;br />&lt;samp>PriceModifiers&lt;/samp>
| ''(Optional)'' [[Modding:Migrate to Stardew Valley 1.6#Quantity modifiers|Quantity modifiers]] applied to the &lt;samp>AvailableStock&lt;/samp> or &lt;samp>Price&lt;/samp> values.

Notes:
* The price modifiers stack with the &lt;samp>PriceModifiers&lt;/samp> field on the shop (unless &lt;samp>IgnoreStorePriceModifiers&lt;/samp> is true).
|-
| &lt;samp>AvailableStockModifierMode&lt;/samp>&lt;br />&lt;samp>PriceModifierMode&lt;/samp>
| ''(Optional)'' [[Modding:Migrate to Stardew Valley 1.6#Quantity modifiers|quantity modifier modes]] which indicate what to do if multiple modifiers in the &lt;samp>AvailableStockModifiers&lt;/samp> or &lt;samp>PriceModifiers&lt;/samp> field apply at the same time. Default &lt;samp>Stack&lt;/samp>.
|-
| &lt;samp>AvoidRepeat&lt;/samp>
| ''(Optional)'' Whether to avoid adding this item to the shop if it would duplicate one that was already added. If the item ID is randomized, this will choose a value that hasn't already been added to the shop if possible. Default false.
|-
| &lt;samp>UseObjectDataPrice&lt;/samp>
| ''(Optional)'' If this data produces an object and &lt;samp>Price&lt;/samp> is omitted, whether to use the raw price in &lt;samp>Data/Objects&lt;/samp> instead of the calculated sell-to-player price.
|-
| &lt;samp>AvailableStock&lt;/samp>
| ''(Optional)'' The maximum number of the item which can be purchased in one day. Default unlimited.
|-
| &lt;samp>AvailableStockLimit&lt;/samp>
| ''(Optional)'' If &lt;samp>Stock&lt;/samp> is set, how the limit is applied in multiplayer. This has no effect on recipes.

The possible values are:
{| class="wikitable"
|-
! value
! effect
|-
| &lt;samp>Global&lt;/samp>
| The limit is shared by every player in the world. For example, if the &lt;samp>Stock&lt;/samp> was &lt;samp>1&lt;/samp> and a player bought it, no other players could buy one.
|-
| &lt;samp>Player&lt;/samp>
| The limit applies to each player separately. For example, if the &lt;samp>Stock&lt;/samp> was &lt;samp>1&lt;/samp>, each player could buy one.
|-
| &lt;samp>None&lt;/samp>
| The limit applies to the current instance of the shop menu. If you exit and reopen the menu, the item will reappear with the same stock. This is mainly used for items that are added conditionally.
|}

Default &lt;samp>Global&lt;/samp>.
|-
| &lt;samp>PerItemCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether an item produced from the other fields should be added (e.g. to filter results from item queries like &lt;samp>ALL_ITEMS&lt;/samp>). Defaults to always added.
|-
| &lt;samp>ActionsOnPurchase&lt;/samp>
| ''(Optional)'' A list of [[Modding:Trigger actions|actions]] to run when the player purchases this item. These are run once per purchase click. Default none.

For example, this can be used to start a [[Modding:Dialogue#Conversation topics|conversation topic]] when it's purchased:
&lt;syntaxhighlight lang="js">
"ActionsOnPurchase": [
    "AddConversationTopic {{ModId}}_PurchasedItem 5"
]
&lt;/syntaxhighlight>
|}
|-
| &lt;samp>SalableItemTags&lt;/samp>
| ''(Optional)'' A list of [[Modding:Items#Context tags|context tags]] for items which the player can sell to to this shop. Default none.
|-
| &lt;samp>Owners&lt;/samp>
| ''(Optional)'' The portrait and dialogue to show in the shop menu UI, ''or'' the message to show indicating that the shop is closed if &lt;samp>ClosedMessage&lt;/samp> is set.

When the [[Modding:Migrate to Stardew Valley 1.6#Map/tile property changes|&lt;samp>Action OpenShop&lt;/samp> tile property]] specifies {{o|owner tile area}}, the first NPC within the tile area which matches an owner entry is used; if no NPCs match, the shop isn't opened. If &lt;samp>Owners&lt;/samp> is omitted, the shop is opened regardless of whether an NPC is present, and no portrait or dialogue is shown.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Name&lt;/samp>
| One of...
* the internal name for the NPC who must be in range to use this entry;
* &lt;samp>AnyOrNone&lt;/samp> to use this entry regardless of whether any NPC is within the shop area;
* &lt;samp>Any&lt;/samp> to use this entry if ''any'' NPC is within the shop area;
* &lt;samp>None&lt;/samp> to use this entry if ''no'' NPC is within the shop area.
|-
| &lt;samp>Id&lt;/samp>
| ''(Optional)'' An ID for this entry within the shop. This only needs to be unique within the current shop's owner list. Defaults to the &lt;samp>Name&lt;/samp> value.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this owner entry is available. If omitted, it's always available.
|-
| &lt;samp>Portrait&lt;/samp>
| ''(Optional)'' One of...
* the internal name of the NPC whose portrait to show;
* the asset name of the texture to display;
* or an empty string (or other value which doesn't match an NPC or texture asset name) to disable the portrait.

Defaults to the portrait for the NPC matching the &lt;samp>Name&lt;/samp> field (if any).

If drawn, it'll use the 64x64 pixel area in the top-left corner of the texture.
Note : it is possible that name of "none" prevents any portrait to be used.
|-
| &lt;samp>Dialogues&lt;/samp>
| ''(Optional)'' A list of possible dialogues if this entry is selected. Each day one dialogue will be randomly chosen to show in the shop UI. Each dialogue consists of a model with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this dialogue within the current list.
|-
| &lt;samp>Dialogue&lt;/samp>
| The dialogue text to show, as a [[Modding:Tokenizable strings|tokenizable string]]. The resulting text is parsed using the [[Modding:Dialogue|dialogue format]].

You can use an empty string (like &lt;code>"Dialogue": ""&lt;/code>) to remove the little dialogue box.
|-
| &lt;samp>RandomDialogue&lt;/samp>
| ''(Optional)'' A list of dialogue texts to randomly choose from, using the same format as &lt;samp>Dialogue&lt;/samp>. If set, &lt;samp>Dialogue&lt;/samp> is optional and ignored. Each entry in the list has an equal probability of being chosen, and the choice is persisted for the current day. For example:
&lt;syntaxhighlight lang="js">
"RandomDialogue": [
    "[LocalizedText Strings\StringsFromCSFiles:ShopMenu.cs.11469]",
    "[LocalizedText Strings\StringsFromCSFiles:ShopMenu.cs.11470]",
    "[LocalizedText Strings\StringsFromCSFiles:ShopMenu.cs.11471]"
]
&lt;/syntaxhighlight>
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the dialogue should be available. If omitted, the dialogue is always available.
|}

This can be set to an empty list (&lt;code>"Dialogues": []&lt;/code>) to disable the dialogue text entirely. If omitted, defaults to a generic "''Have a look at my wares''" text.
|-
| &lt;samp>ClosedMessage&lt;/samp>
| ''(Optional)'' If set, a [[Modding:Tokenizable strings|tokenizable string]] for a 'shop is closed'-style message to show instead of opening the shop.

'''This should not be set except in a separate entry'''. Adding it to an owner entry will prevent it from being used.
|-
| &lt;samp>RandomizeDialogueOnOpen&lt;/samp>
| ''(Optional)'' If &lt;samp>Dialogues&lt;/samp> has multiple matching entries, whether to re-randomize which one is selected each time the shop is opened (&lt;samp>true&lt;/samp>) or once per day (&lt;samp>false&lt;/samp>).
|}
|-
| &lt;samp>Currency&lt;/samp>
| ''(Optional)'' The currency in which all items in the shop should be priced. The valid values are 0 (money), 1 (star tokens), 2 (Qi coins), and 4 (Qi gems). Default 0. For item trading, see &lt;samp>TradeItemId&lt;/samp> for each item.
|-
| &lt;samp>ApplyProfitMargins&lt;/samp>
| ''(Optional)'' The default value for &lt;samp>ApplyProfitMargins&lt;/samp> under &lt;samp>Items&lt;/samp>, if set. This can be &lt;samp>true&lt;/samp> (always apply it), &lt;samp>false&lt;/samp> (never apply it), or &lt;samp>null&lt;/samp> (apply for certain items like saplings). This is applied before any quantity modifiers. Default &lt;samp>null&lt;/samp>.
|-
| &lt;samp>StackSizeVisibility&lt;/samp>
| ''(Optional)'' How to draw stack size numbers in the shop list by default. If omitted, the default shop logic is applied (usually equivalent to &lt;samp>Show&lt;/samp>).

The possible values are:
{| class="wikitable"
|-
! value
! effect
|-
| &lt;samp>Hide&lt;/samp>
| Always hide the stack size.
|-
| &lt;samp>Show&lt;/samp>
| Always draw the stack size.
|-
| &lt;samp>ShowIfMultiple&lt;/samp>
| Draw the stack size if it's more than one.
|}

This is ignored in some special cases (e.g. recipes can't have a stack size).
|-
| &lt;samp>OpenSound&lt;/samp>
| ''(Optional)'' The [[Modding:Migrate to Stardew Valley 1.6#Custom audio|audio cue ID]] to play when the shop menu is opened. Defaults to &lt;samp>dwop&lt;/samp>.
|-
| &lt;samp>PurchaseSound&lt;/samp>
| ''(Optional)'' The [[Modding:Migrate to Stardew Valley 1.6#Custom audio|audio cue ID]] to play when an item is purchased normally. Defaults to &lt;samp>purchaseClick&lt;/samp>.
|-
| &lt;samp>purchaseRepeatSound&lt;/samp>
| ''(Optional)'' The [[Modding:Migrate to Stardew Valley 1.6#Custom audio|audio cue ID]] to play when accumulating a stack to purchase (e.g. by holding right-click on PC). Defaults to &lt;samp>purchaseRepeat&lt;/samp>.
|-
| &lt;samp>PriceModifiers&lt;/samp>
| ''(Optional)'' [[Modding:Migrate to Stardew Valley 1.6#Quantity modifiers|Quantity modifiers]] applied to the sell price for items in this shop. See also &lt;samp>PriceModifiers&lt;/samp> under &lt;samp>Items&lt;/samp>.
|-
| &lt;samp>PriceModifierMode&lt;/samp>
| ''(Optional)'' A [[Modding:Migrate to Stardew Valley 1.6#Quantity modifiers|quantity modifier mode]] which indicates what to do if multiple modifiers in the &lt;samp>PriceModifiers&lt;/samp> field apply at the same time. This only affects that specific field, it won't affect price modifiers under &lt;samp>Items&lt;/samp>. Default &lt;samp>Stack&lt;/samp>.
|-
| &lt;samp>VisualTheme&lt;/samp>
| ''(Optional)'' The visual theme to apply to the shop UI, or omit to use the default theme. The first matching theme is applied. All fields are optional and will fallback to the default theme.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this theme should be applied. Defaults to always true.
|-
| &lt;samp>WindowBorderTexture&lt;/samp>&lt;br />&lt;samp>WindowBorderSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the shop window border. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (384, 373) with size 18×18.
|-
| &lt;samp>PortraitBackgroundTexture&lt;/samp>&lt;br />&lt;samp>PortraitBackgroundSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the NPC portrait background. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (603, 414) with size 74×74.
|-
| &lt;samp>DialogueBackgroundTexture&lt;/samp>&lt;br />&lt;samp>DialogueBackgroundSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the NPC dialogue background. Defaults to &lt;samp>Maps\MenuTiles&lt;/samp> at (0, 256) with size 60×60.
|-
| &lt;samp>DialogueColor&lt;/samp>&lt;br />&lt;samp>DialogueShadowColor&lt;/samp>
| ''(Optional)'' The sprite text color for the dialogue text. See [[Modding:Migrate to Stardew Valley 1.6#Color fields|color format]]. Defaults to the game's standard text color.
|-
| &lt;samp>ItemRowBackgroundTexture&lt;/samp>&lt;br />&lt;samp>ItemRowBackgroundSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the item row background in the shop inventory. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (384, 396) with size 15×15.
|-
| &lt;samp>ItemRowBackgroundHoverColor&lt;/samp>
| ''(Optional)'' The color tint to apply to the item row background in the shop inventory when the cursor is hovering over it, or &lt;samp>White&lt;/samp> for no tint. See [[Modding:Migrate to Stardew Valley 1.6#Color fields|color format]]. Defaults to &lt;samp>Wheat&lt;/samp>.
|-
| &lt;samp>ItemRowTextColor&lt;/samp>
| ''(Optional)'' The sprite text color for the item text. See [[Modding:Migrate to Stardew Valley 1.6#Color fields|color format]]. Defaults to the game's standard text color.
|-
| &lt;samp>ItemIconBackgroundTexture&lt;/samp>&lt;br />&lt;samp>ItemIconBackgroundSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the background behind the item icons. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (296, 363) with size 18×18.
|-
| &lt;samp>ScrollUpTexture&lt;/samp>&lt;br />&lt;samp>ScrollUpSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the up arrow icon above the scrollbar. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (421, 459) with size 11×12.
|-
| &lt;samp>ScrollDownTexture&lt;/samp>&lt;br />&lt;samp>ScrollDownSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the down arrow icon beneath the scrollbar. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (421, 472) with size 11×12.
|-
| &lt;samp>ScrollBarFrontTexture&lt;/samp>&lt;br />&lt;samp>ScrollBarFrontSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the sliding scrollbar foreground. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (435, 463) with size 6×10.
|-
| &lt;samp>ScrollBarBackTexture&lt;/samp>&lt;br />&lt;samp>ScrollBarBackSourceRect&lt;/samp>
| ''(Optional)'' The texture asset name, and the pixel area within it, for the scrollbar background. Defaults to &lt;samp>LooseSprites\Cursors&lt;/samp> at (403, 383) with size 6×6.
|}
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[Modding:Migrate to Stardew Valley 1.6#Custom data fields|custom fields]] for this entry.
|}

===Examples===
You can add or replace entire shops. For example, this content pack adds a shop that sells ice cream in summer, and pufferfish all year:

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Shops",
            "Entries": {
                "Example.ModId_CustomShop": {
                    "Owners": [
                        {
                            "Name": "Any",
                            "Dialogues": [
                                // dialogue on sunny summer days
                                {
                                    "Id": "Example.ModId_SunnySummer",
                                    "Condition": "SEASON Summer, WEATHER Here Sun",
                                    "Dialogue": "Ice-cream is perfect for a day like this."
                                },

                                // dialogue any other time
                                {
                                    "Id": "Example.ModId_Default",
                                    "Dialogue": "Welcome to the only place in town for pufferfish!"
                                }
                            ]
                        }
                    ],

                    "Items": [
                        // ice-cream in summer, default price
                        {
                            "Id": "Example.ModId_IceCream",
                            "Condition": "SEASON Summer",
                            "ItemId": "(O)233"
                        },

                        // pufferfish for 1000g, limited to one per day per player
                        {
                            "Id": "Example.ModId_PufferFish",
                            "ItemId": "(O)128",
                            "Price": 1000,
                            "AvailableStock": 1,
                            "AvailableStockLimit": "Player"
                        }
                    ]
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

You can also add, replace, edit, or reorder items in a specific shop by targeting the shop's &lt;samp>Items&lt;/samp> field. For example, this removes Trout Soup (item #219) and adds Pufferfish above bait (item #685):
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Shops",
            "TargetField": [ "FishShop", "Items" ],
            "Entries": {
                "(O)219": null,
                "Example.ModId_Pufferfish": {
                    "Id": "Example.ModId_Pufferfish",
                    "ItemId": "(O)128",
                    "Price": 2000
                }
            },
            "MoveEntries": [
                { "Id": "Example.ModId_Pufferfish", "BeforeId": "(O)685" }
            ]
        }
    ]
}&lt;/nowiki>|lang=javascript}}

===Vanilla shop IDs===
Vanilla shops are now defined in &lt;samp>Data/Shops&lt;/samp> too (except a few special cases like [[:Category:Dressers|dressers]] and home renovations).

See &lt;samp>Data/Shops&lt;/samp> for a full list, but here are the main shop IDs for convenience:

{| class="wikitable sortable"
|-
! shop
! ID
|-
| [[Abandoned House|Abandoned house shop]]
| &lt;samp>HatMouse&lt;/samp>
|-
| [[Adventurer's Guild]]
| &lt;samp>AdventureShop&lt;/samp> (regular shop)&lt;br />&lt;samp>AdventureGuildRecovery&lt;/samp> (item recovery service)
|-
| [[Casino]]
| &lt;samp>Casino&lt;/samp>
|-
| [[Blacksmith|Clint's blacksmith shop]]
| &lt;samp>Blacksmith&lt;/samp> (regular shop)&lt;br />&lt;samp>ClintUpgrade&lt;/samp> (tool upgrades)
|-
| [[Desert Trader|Desert trader]]
| &lt;samp>DesertTrade&lt;/samp>
|-
| [[Dwarf#Shop|Dwarf's shop]]
| &lt;samp>Dwarf&lt;/samp>
|-
| [[Harvey's Clinic|Harvey's clinic]]
| &lt;samp>Hospital&lt;/samp>
|-
| [[Ice Cream Stand|Ice-cream stand]]
| &lt;samp>IceCreamStand&lt;/samp>
|-
| [[Ginger Island#Beach Resort|Island resort]]
| &lt;samp>ResortBar&lt;/samp>
|-
| [[Island Trader|Island trader]]
| &lt;samp>IslandTrade&lt;/samp>
|-
| [[Joja Mart]]
| &lt;samp>Joja&lt;/samp>
|-
| [[Krobus|Krobus' shop]]
| &lt;samp>ShadowShop&lt;/samp>
|-
| [[Marnie's Ranch|Marnie's ranch]]
| &lt;samp>AnimalShop&lt;/samp>
|-
| [[Pierre's General Store|Pierre's general store]]
| &lt;samp>SeedShop&lt;/samp>
|-
| [[Carpenter's Shop|Robin's carpenter shop]]
| &lt;samp>Carpenter&lt;/samp>
|-
| [[Saloon|Stardrop Saloon]]
| &lt;samp>Saloon&lt;/samp>
|-
| [[Oasis|Sandy's Oasis shop]]
| &lt;samp>Sandy&lt;/samp>
|-
| [[Traveling Cart|Traveling cart]]
| &lt;samp>Traveler&lt;/samp>
|-
| [[Fish Shop|Willy's fish shop]]
| &lt;samp>FishShop&lt;/samp>
|}

Festival shops are also defined in &lt;samp>Data/Shops&lt;/samp> now, though they can still be defined in the pre-1.6 way for backwards compatibility.
{| class="wikitable sortable"
|-
! festival shop
! ID
|-
| [[Dance of the Moonlight Jellies]]
| &lt;samp>Festival_DanceOfTheMoonlightJellies_Pierre&lt;/samp>
|-
| [[Egg Festival]]
| &lt;samp>Festival_EggFestival_Pierre&lt;/samp>
|-
| [[Festival of Ice]]
| &lt;samp>Festival_FestivalOfIce_TravelingMerchant&lt;/samp>
|-
| [[Feast of the Winter Star]]
| &lt;samp>Festival_FeastOfTheWinterStar_Pierre&lt;/samp>
|-
| [[Flower Dance]]
| &lt;samp>Festival_FlowerDance_Pierre&lt;/samp>
|-
| [[Luau]]
| &lt;samp>Festival_Luau_Pierre&lt;/samp>
|-
| [[Night Market]] (decoration boat)
| &lt;samp>Festival_NightMarket_DecorationBoat&lt;/samp>
|-
| [[Night Market]] (magic boat)
| &lt;samp>Festival_NightMarket_MagicBoat_Day1&lt;/samp>&lt;br />&lt;samp>Festival_NightMarket_MagicBoat_Day2&lt;/samp>&lt;br />&lt;samp>Festival_NightMarket_MagicBoat_Day3&lt;/samp>
|-
| [[Spirit's Eve]]
| &lt;samp>Festival_SpiritsEve_Pierre&lt;/samp>
|-
| [[Stardew Valley Fair]]
| &lt;samp>Festival_StardewValleyFair_StarTokens&lt;/samp>
|}

And two special 'shops':
{| class="wikitable sortable"
|-
! item
! ID
|-
| [[Catalogue]]
| &lt;samp>Catalogue&lt;/samp>
|-
| [[Furniture Catalogue]]
| &lt;samp>Furniture Catalogue&lt;/samp>
|}

==Open a custom shop==
You can place an [[Modding:Migrate to Stardew Valley 1.6#Tile property changes|&lt;samp>Action OpenShop&lt;/samp> tile property]] on the map, which will open the given shop ID when the player clicks it.

In C# code, you can get the inventory for a custom shop using &lt;code>Utility.GetShopStock("shop id here")&lt;/code>, open a shop menu using &lt;code>Utility.TryOpenShopMenu("shop id", …)&lt;/code>, and add temporary items to an open menu using &lt;code>shopMenu.AddForSale(…)&lt;/code>. The ID of the opened shop is stored in the shop menu's &lt;samp>ShopId&lt;/samp> field.

[[Category:Modding]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Content_Patcher_version" title="Template:Content Patcher version">Template:Content Patcher version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Content_Patcher_version&amp;action=edit" title="Template:Content Patcher version">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:O" title="Template:O">Template:O</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:O&amp;action=edit" title="Template:O">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Shops" title="Modding:Shops">Modding:Shops</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:Shops">https://stardewvalleywiki.com/Modding:Shops</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Shops&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":57});});</script>		</body>
		

</html>
		



