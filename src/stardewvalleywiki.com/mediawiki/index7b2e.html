<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>Modding:Item queries - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"04cd3814fd1426f4ed1cf098","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Item_queries","wgTitle":"Item queries","wgCurRevisionId":164778,"wgRevisionId":164778,"wgArticleId":14620,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Item_queries","wgRelevantArticleId":14620,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={
"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="load55a2.css?lang=en&amp;modules=ext.pygments%7Cmediawiki.hlist%7Cmediawiki.ui.button%2Cicon%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="← Index"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="Modding:Item queries - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Item_queries"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="article:modified_time" content="2024-04-06T18:09:44Z"/>
<meta property="article:published_time" content="2024-04-06T18:09:44Z"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="Modding:Item queries - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"Modding:Item queries - Stardew Valley Wiki","headline":"Modding:Item queries - Stardew Valley Wiki","mainEntityOfPage":"Modding:Item queries","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Item_queries","url":"https:\/\/stardewvalleywiki.com\/Modding:Item_queries","description":"\u2190 Index","dateModified":"2024-04-06T18:09:44Z","datePublished":"2024-04-06T18:09:44Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Item_queries rootpage-Modding_Item_queries stable skin-minerva action-view skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AItem+queries&amp;returntoquery=oldid%3D164778" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3AItem+queries" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">Modding:Item queries</h1>
					<div class="tagline"></div>
				</div>
				<nav class="page-actions-menu">
	<ul id="page-actions" class="page-actions-menu__list">
		<li id="language-selector" class="page-actions-menu__list-item">
				<a id="" href="#" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-language-base20 mw-ui-icon-with-label-desktop language-selector disabled"
					data-mw="interface"
					data-event-name="menu.languages" role="button" title="Language">Language</a>
		</li>
		<li id="page-actions-watch" class="page-actions-menu__list-item">
				<a id="ca-watch" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AItem+queries" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-star-base20 mw-ui-icon-with-label-desktop watch-this-article mw-watchlink menu__item--page-actions-watch"
					data-mw="interface"
					data-event-name="menu.watch" role="button" title="Watch">Watch</a>
		</li>
		<li id="page-actions-edit" class="page-actions-menu__list-item">
				<a id="ca-edit" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;action=edit&amp;section=0" class="edit-page menu__item--page-actions-edit mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-editLock-base20 mw-ui-icon-with-label-desktop"
					data-mw="interface"
					data-event-name="menu.edit" role="button" title="Edit the lead section of this page">Edit</a>
		</li>
	</ul>
</nav>
<!-- version 1.0.2 (change every time you update a partial) -->

				
				
				<div class="minerva__subtitle"><div class="mw-revision warningbox"><div id="mw-revision-info">Revision as of 18:09, 6 April 2024 by <a href="../../external.html?link=https://stardewvalleywiki.com/User:Pathoschild" class="mw-userlink" title="User:Pathoschild"><bdi>Pathoschild</bdi></a> <span class="mw-usertoollinks">(<a href="../../external.html?link=https://stardewvalleywiki.com/User_talk:Pathoschild" class="mw-usertoollinks-talk" title="User talk:Pathoschild">talk</a> | <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Contributions/Pathoschild" class="mw-usertoollinks-contribs" title="Special:Contributions/Pathoschild">contribs</a>)</span> <span class="comment">(remove {{upcoming|1.6}})</span></div><div id="mw-revision-nav">(<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;diff=prev&amp;oldid=164778" title="Modding:Item queries">diff</a>) <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;direction=prev&amp;oldid=164778" title="Modding:Item queries">← Older revision</a> | Latest revision (diff) | Newer revision → (diff)</div></div></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><div class="mw-parser-output"><section class="mf-section-0" id="mf-section-0"><p>← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Index" title="Modding:Index">Index</a>
</p><p>This page documents <b>item queries</b>, a built-in way to create one or more items dynamically, instead of specifying a single item ID.
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Valid_fields"><span class="tocnumber">1.1</span> <span class="toctext">Valid fields</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Query_format"><span class="tocnumber">1.2</span> <span class="toctext">Query format</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Argument_format"><span class="tocnumber">1.3</span> <span class="toctext">Argument format</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Available_queries"><span class="tocnumber">2</span> <span class="toctext">Available queries</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#General_use"><span class="tocnumber">2.1</span> <span class="toctext">General use</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Specific_items"><span class="tocnumber">2.2</span> <span class="toctext">Specific items</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Specialized"><span class="tocnumber">2.3</span> <span class="toctext">Specialized</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Item_spawn_fields"><span class="tocnumber">3</span> <span class="toctext">Item spawn fields</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#For_C.23_mod_authors"><span class="tocnumber">4</span> <span class="toctext">For C# mod authors</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Use_queries_in_custom_data_assets"><span class="tocnumber">4.1</span> <span class="toctext">Use queries in custom data assets</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Add_custom_item_queries"><span class="tocnumber">4.2</span> <span class="toctext">Add custom item queries</span></a></li>
</ul>
</li>
</ul>
</div>

</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(1)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Overview">Overview</span></h2><section class="mf-section-1 collapsible-block" id="mf-section-1">
<h3 class="in-block"><span class="mw-headline" id="Valid_fields">Valid fields</span></h3>
<p>These are used in various places like <a href="#Custom_machines">machine data</a> and <a href="#Custom_shops">shop data</a>. These can only be used if the field's docs specifically mention that it allows item queries.
</p>
<h3 class="in-block"><span class="mw-headline" id="Query_format">Query format</span></h3>
<p>An item query consists of a string containing a query name with zero or more <a href="#Argument_format">arguments</a>. See the <a href="#Available_queries">list of queries below</a>.
</p><p><b>⚠</b> Item queries are partly case-sensitive. While some values are case-insensitive, this isn't consistent. Using the exact capitalization is recommended to avoid issues.
</p>
<h3 class="in-block"><span class="mw-headline" id="Argument_format">Argument format</span></h3>
<p>Item queries can take space-delimited arguments. For example, <code>RANDOM_ITEMS (F) 1376 1390</code> has three arguments: <code>(F)</code>, <code>1376</code>, and <code>1390</code>.
</p><p>If you have spaces within an argument, you can surround it with quotes to keep it together. For example, <code>LOST_BOOK_OR_ITEM "RANDOM_ITEMS (O)"</code> passes <code>RANDOM_ITEMS (O)</code> as one argument. You can escape inner quotes with backslashes if needed.
</p><p>Remember that quotes and backslashes inside JSON strings need to be escaped too. For example, <code>"ItemId": "LOST_BOOK_OR_ITEM \"RANDOM_ITEMS (O)\""</code> will send <code>LOST_BOOK_OR_ITEM "RANDOM_ITEMS (O)"</code> to the game code. Alternatively, you can use single-quotes for the JSON string instead, like <code>"ItemId": 'LOST_BOOK_OR_ITEM "RANDOM_ITEMS (O)"'</code>.
</p>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(2)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Available_queries">Available queries</span></h2><section class="mf-section-2 collapsible-block" id="mf-section-2">
<h3 class="in-block"><span class="mw-headline" id="General_use">General use</span></h3>
<table class="wikitable">

<tbody><tr>
<th>query
</th>
<th>effect
</th></tr>
<tr>
<td><samp>ALL_ITEMS <code title="optional field 'type ID'">[type ID]</code> <code title="optional field 'flags'">[flags]</code></samp>
</td>
<td>Every item provided by the <a href="#Custom_items">item data definitions</a>. If <code title="optional field 'type ID'">[type ID]</code> is set to an item type identifier (like <samp>(O)</samp> for object), only returns items from the matching item data definition.
<p>The <code title="optional field 'flags'">[flags]</code> specify options to apply. If specified, they must be at the end of the argument list (with or without <code title="optional field 'type ID'">[type ID]</code>). The flags can be any combination of:
</p>
<table class="wikitable">

<tbody><tr>
<th>flag
</th>
<th>effect
</th></tr>
<tr>
<td><samp>@isRandomSale</samp>
</td>
<td>Don't return items marked 'exclude from random sale' in <samp>Data/Furniture</samp> or <samp>Data/Objects</samp>.
</td></tr>
<tr>
<td><samp>@requirePrice</samp>
</td>
<td>Don't return items with a sell-to-player price below <span style="display: none;">data-sort-value="1"&gt;</span><span class="no-wrap"><noscript><img alt="Gold.png" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" decoding="async" width="18" height="18"></noscript><span class="lazy-image-placeholder" style="width: 18px;height: 18px;" data-src="/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" data-alt="Gold.png" data-width="18" data-height="18"> </span>1g</span>.
</td></tr></tbody></table>
<p>For example:
</p>
<ul><li><code>ALL_ITEMS</code> will return every item in the game.</li>
<li><code>ALL_ITEMS @isRandomSale</code> will return every item in the game that's not excluded from random sale.</li>
<li><code>ALL_ITEMS (F) @isRandomSale</code> will return every furniture item in the game that's not excluded from random sale.</li></ul>
</td></tr>
<tr>
<td><samp>FLAVORED_ITEM <code title="required field 'type'">&lt;type&gt;</code> <code title="required field 'ingredient ID'">&lt;ingredient ID&gt;</code> <code title="optional field 'ingredient flavor ID'">[ingredient flavor ID]</code></samp>
</td>
<td>A flavored item like Apple Wine. The <code title="required field 'type'">&lt;type&gt;</code> can be one of <a href="../../external.html?link=https://stardewvalleywiki.com/Aged_Roe" title="Aged Roe"><samp>AgedRoe</samp></a>, <a href="../../external.html?link=https://stardewvalleywiki.com/Honey" title="Honey"><samp>Honey</samp></a>, <a href="../../external.html?link=https://stardewvalleywiki.com/Jellies_and_Pickles" title="Jellies and Pickles"><samp>Jelly</samp></a>, <a href="../../external.html?link=https://stardewvalleywiki.com/Juice" title="Juice"><samp>Juice</samp></a>, <a href="../../external.html?link=https://stardewvalleywiki.com/Jellies_and_Pickles" title="Jellies and Pickles"><samp>Pickle</samp></a>, <a href="../../external.html?link=https://stardewvalleywiki.com/Roe" title="Roe"><samp>Roe</samp></a>, or <a href="../../external.html?link=https://stardewvalleywiki.com/Wine" title="Wine"><samp>Wine</samp></a>. The <code title="required field 'ingredient ID'">&lt;ingredient ID&gt;</code> is the qualified or unqualified item ID which provides the flavor (like Apple in Apple Wine). For <samp>Honey</samp>, you can set the <code title="required field 'flavor ID'">&lt;flavor ID&gt;</code> to <samp>-1</samp> for Wild Honey.
<p>For aged roe only, the <code title="optional field 'ingredient flavor ID'">[ingredient flavor ID]</code> is the flavor of the <code title="required field 'ingredient ID'">&lt;ingredient ID&gt;</code>. For example, <samp>FLAVORED_ITEM AgedRoe (O)812 128</samp> creates Aged Pufferfish Roe (812 is <a href="../../external.html?link=https://stardewvalleywiki.com/Roe" title="Roe">roe</a> and 128 is <a href="../../external.html?link=https://stardewvalleywiki.com/Pufferfish" title="Pufferfish">pufferfish</a>).
</p>
</td></tr>
<tr>
<td><samp>RANDOM_ITEMS <code title="required field 'type definition ID'">&lt;type definition ID&gt;</code> <code title="optional field 'min ID'">[min ID]</code> <code title="optional field 'max ID'">[max ID]</code> <code title="optional field 'flags'">[flags]</code></samp>
</td>
<td>All items from the given <a href="#Item_types">type definition ID</a> in randomized order, optionally filtered to those with a numeric ID in the given <code title="optional field 'min ID'">[min ID]</code> and <code title="optional field 'max ID'">[max ID]</code> range (inclusive).
<p>The <code title="optional field 'flags'">[flags]</code> specify options to apply. If specified, they must be at the end of the argument list (with or without <code title="optional field 'min ID'">[min ID]</code> and/or <code title="optional field 'max ID'">[max ID]</code>). The flags can be any combination of:
</p><p>The flags can be any combination of:
</p>
<table class="wikitable">

<tbody><tr>
<th>flag
</th>
<th>effect
</th></tr>
<tr>
<td><samp>@isRandomSale</samp>
</td>
<td>Don't return items marked 'exclude from random sale' in <samp>Data/Furniture</samp> or <samp>Data/Objects</samp>.
</td></tr>
<tr>
<td><samp>@requirePrice</samp>
</td>
<td>Don't return items with a sell-to-player price below <span style="display: none;">data-sort-value="1"&gt;</span><span class="no-wrap"><noscript><img alt="Gold.png" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" decoding="async" width="18" height="18"></noscript><span class="lazy-image-placeholder" style="width: 18px;height: 18px;" data-src="/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" data-alt="Gold.png" data-width="18" data-height="18"> </span>1g</span>.
</td></tr></tbody></table>
<p>For example, you can sell a random <a href="../../external.html?link=https://stardewvalleywiki.com/Wallpaper" title="Wallpaper">wallpaper</a> for <span style="display: none;">data-sort-value="200"&gt;</span><span class="no-wrap"><noscript><img alt="Gold.png" src="../../external.html?link=https://stardewvalleywiki.com/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" decoding="async" width="18" height="18"></noscript><span class="lazy-image-placeholder" style="width: 18px;height: 18px;" data-src="/mediawiki/images/thumb/1/10/Gold.png/18px-Gold.png" data-alt="Gold.png" data-width="18" data-height="18"> </span>200g</span> in <samp>Data/Shops</samp>:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="s2">"ItemId"</span><span class="o">:</span> <span class="s2">"RANDOM_ITEMS (WP)"</span><span class="p">,</span>
    <span class="s2">"MaxItems"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"Price"</span><span class="o">:</span> <span class="mi">200</span>
<span class="p">}</span>
</pre></div>
<p>Or a random <a href="../../external.html?link=https://stardewvalleywiki.com/House_Plant" title="House Plant">house plant</a>:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="s2">"ItemId"</span><span class="o">:</span> <span class="s2">"RANDOM_ITEMS (F) 1376 1390"</span><span class="p">,</span>
    <span class="s2">"MaxItems"</span><span class="o">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
<p>Or a random <a href="#Custom_items">custom item</a> added by a mod by its item ID prefix:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="s2">"ItemId"</span><span class="o">:</span> <span class="s2">"RANDOM_ITEMS (O)"</span><span class="p">,</span>
    <span class="s2">"MaxItems"</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"PerItemCondition"</span><span class="o">:</span> <span class="s2">"ITEM_ID_PREFIX Target AuthorName_ModName_"</span>
<span class="p">}</span>
</pre></div>
<p>Or 10 random objects with any category except <samp>-13</samp> or <samp>-14</samp>:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="s2">"ItemId"</span><span class="o">:</span> <span class="s2">"RANDOM_ITEMS (O)"</span><span class="p">,</span>
    <span class="s2">"MaxItems"</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
    <span class="s2">"PerItemCondition"</span><span class="o">:</span> <span class="s2">"ITEM_CATEGORY, !ITEM_CATEGORY Target -13 -14"</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Specific_items">Specific items</span></h3>
<table class="wikitable">

<tbody><tr>
<th>query
</th>
<th>effect
</th></tr>
<tr>
<td><samp>DISH_OF_THE_DAY</samp>
</td>
<td>The <a href="../../external.html?link=https://stardewvalleywiki.com/The_Stardrop_Saloon#Rotating_Stock" title="The Stardrop Saloon">Saloon's dish of the day</a>.
</td></tr>
<tr>
<td><samp>LOST_BOOK_OR_ITEM <code title="optional field 'alternate query'">[alternate query]</code></samp>
</td>
<td>A <a href="../../external.html?link=https://stardewvalleywiki.com/Lost_Books" title="Lost Books">lost book</a> if the player hasn't found them all yet, else the result of the <code title="optional field 'alternate query'">[alternate query]</code> if specified, else nothing.
<p>For example, <code>LOST_BOOK_OR_ITEM (O)770</code> returns <a href="../../external.html?link=https://stardewvalleywiki.com/Mixed_Seeds" title="Mixed Seeds">mixed seeds</a> if the player found every book already.
</p>
</td></tr>
<tr>
<td><samp>RANDOM_BASE_SEASON_ITEM</samp>
</td>
<td>A random seasonal vanilla item which can be found by searching garbage cans, breaking containers in the mines, etc.
</td></tr>
<tr>
<td><samp>SECRET_NOTE_OR_ITEM <code title="optional field 'alternate query'">[alternate query]</code></samp>
</td>
<td>A <a href="../../external.html?link=https://stardewvalleywiki.com/Secret_Notes" title="Secret Notes">secret note</a> (or <a href="../../external.html?link=https://stardewvalleywiki.com/Journal_Scraps" title="Journal Scraps">journal scrap</a> on the island) if the player hasn't found them all yet, else the result of the <code title="optional field 'alternate query'">[alternate query]</code> if specified, else nothing.
<p>For example, <code>SECRET_NOTE_OR_ITEM (O)390</code> returns <a href="../../external.html?link=https://stardewvalleywiki.com/Clay" title="Clay">clay</a> if the player found every secret note already.
</p>
</td></tr>
<tr>
<td><samp>SHOP_TOWN_KEY</samp>
</td>
<td>The special <a href="../../external.html?link=https://stardewvalleywiki.com/Key_To_The_Town" title="Key To The Town">town key</a> item. This is only valid in shops.
</td></tr></tbody></table>
<h3 class="in-block"><span class="mw-headline" id="Specialized">Specialized</span></h3>
<table class="wikitable">

<tbody><tr>
<th>query
</th>
<th>effect
</th></tr>
<tr>
<td><samp>ITEMS_SOLD_BY_PLAYER <code title="required field 'shop location'">&lt;shop location&gt;</code></samp>
</td>
<td>Random items the player has recently sold to the <code title="required field 'shop location'">&lt;shop location&gt;</code>, which can be one of <samp>SeedShop</samp> (Pierre's store) or <samp>FishShop</samp> (Willy's fish shop).
</td></tr>
<tr>
<td><samp>LOCATION_FISH <code title="required field 'location'">&lt;location&gt;</code> <code title="required field 'bobber tile'">&lt;bobber tile&gt;</code> <code title="required field 'depth'">&lt;depth&gt;</code></samp>
</td>
<td>A random item that can be found by fishing in the given location. The <code title="required field 'location'">&lt;location&gt;</code> should be the internal name of the location, <code title="required field 'bobber tile'">&lt;bobber tile&gt;</code> is the position of the fishing rod's bobber in the water (in the form <samp><code title="required field 'x'">&lt;x&gt;</code> <code title="required field 'y'">&lt;y&gt;</code></samp>), and <code title="required field 'depth'">&lt;depth&gt;</code> is the bobber's distance from the nearest shore measured in tiles (where 0 is directly adjacent to the shore).
<p><b>Careful:</b> since the target location might use <samp>LOCATION_FISH</samp> queries in its list, it's easy to cause a circular reference by mistake (e.g. location A gets fish from B, which gets fish from A). If this happens, the game will log an error and return no item.
</p>
</td></tr>
<tr>
<td><samp>MOVIE_CONCESSIONS_FOR_GUEST <code title="optional field 'NPC name'">[NPC name]</code></samp>
</td>
<td>Get the <a href="../../external.html?link=https://stardewvalleywiki.com/Movie_Theater#Concessions" title="Movie Theater">movie concessions</a> shown when watching a movie with the given <code title="optional field 'NPC name'">[NPC name]</code>. If omitted, the NPC defaults to the one currently invited to watch a movie (or Abigail if none).
</td></tr>
<tr>
<td><samp>RANDOM_ARTIFACT_FOR_DIG_SPOT</samp>
</td>
<td>A random item which is defined in <samp>Data/Objects</samp> with the <samp>Arch</samp> (artifact) type, and whose spawn rules in the <samp>Miscellaneous</samp> field match the current location and whose random probability passes. This is mainly used by <a href="../../external.html?link=https://stardewvalleywiki.com/Artifact_Spot" title="Artifact Spot">artifact spots</a>.
</td></tr>
<tr>
<td><samp>TOOL_UPGRADES <code title="optional field 'tool ID'">[tool ID]</code></samp>
</td>
<td>The tool upgrades listed in <samp>Data/Shops</samp> whose conditions match the player's inventory (i.e. the same rules as <a href="../../external.html?link=https://stardewvalleywiki.com/Blacksmith" title="Blacksmith">Clint's tool upgrade shop</a>). If <code title="optional field 'tool ID'">[tool ID]</code> is specified, only upgrades which consume that tool ID are shown.
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(3)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span class="mw-headline" id="Item_spawn_fields">Item spawn fields</span></h2><section class="mf-section-3 collapsible-block" id="mf-section-3">
<p><i>Item spawn fields</i> are a common set of fields to use item queries in data assets like <a href="#Custom_machines">machines</a> and <a href="#Custom_shops">shops</a>. These are only available for data assets which specifically mention they support item spawn fields in their docs.
</p>
<table class="wikitable">

<tbody><tr>
<th>field
</th>
<th>effect
</th></tr>
<tr>
<td><samp>ID</samp>
</td>
<td>The <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Common_data_field_types#Unique_string_ID" title="Modding:Common data field types">unique string ID</a> for this entry (not the item itself) within the current list.
<p>This is semi-optional — if omitted, it'll be auto-generated from the <samp>ItemId</samp>, <samp>RandomItemId</samp>, and <samp>IsRecipe</samp> fields. However multiple entries with the same ID may cause unintended behavior (e.g. shop items reducing each others' stock limits), so it's often a good idea to set a globally unique ID instead.
</p>
</td></tr>
<tr>
<td><samp>ItemId</samp>
</td>
<td>One of:
<ul><li>the <a href="#Custom_items">qualified or unqualified item ID</a> (like <samp>(O)128</samp> for a <a href="../../external.html?link=https://stardewvalleywiki.com/Pufferfish" title="Pufferfish">pufferfish</a>);</li>
<li>or an <a href="#Item_queries">item query</a> to dynamically choose one or more items.</li></ul>
</td></tr>
<tr>
<td><samp>RandomItemId</samp>
</td>
<td><i>(Optional)</i> A list of item IDs to randomly choose from, using the same format as <samp>ItemId</samp> (including item queries). If set, <samp>ItemId</samp> is optional and ignored. Each entry in the list has an equal probability of being chosen. For example:
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// wood, stone, or pizza</span>
<span class="s2">"RandomItemId"</span><span class="o">:</span> <span class="p">[</span> <span class="s2">"(O)388"</span><span class="p">,</span> <span class="s2">"(O)390"</span><span class="p">,</span> <span class="s2">"(O)206"</span> <span class="p">]</span>
</pre></div>
</td></tr>
<tr>
<td><samp>Condition</samp>
</td>
<td><i>(Optional)</i> A <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Game_state_queries" title="Modding:Game state queries">game state query</a> which indicates whether this entry should be applied. Defaults to always true.
<p><b>Note:</b> not supported for weapon projectiles.
</p>
</td></tr>
<tr>
<td><samp>PerItemCondition</samp>
</td>
<td><i>(Optional)</i> A <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Game_state_queries" title="Modding:Game state queries">game state query</a> which indicates whether an item produced from the other fields should be returned. Defaults to always true.
<p>For example, this can be used to filter queries like <samp>RANDOM_ITEMS</samp>:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// random mineral</span>
<span class="s2">"ItemId"</span><span class="o">:</span> <span class="s2">"RANDOM_ITEMS (O)"</span><span class="p">,</span>
<span class="s2">"PerItemCondition"</span><span class="o">:</span> <span class="s2">"ITEM_CATEGORY Target -12"</span>
</pre></div>
</td></tr>
<tr>
<td><samp>MaxItems</samp>
</td>
<td><i>(Optional)</i> If this entry produces multiple separate item stacks, the maximum number to return. (This does <i>not</i> affect the size of each stack; see <samp>MinStack</samp> and <samp>MaxStack</samp> for that.) Default unlimited.
</td></tr>
<tr>
<td><samp>IsRecipe</samp>
</td>
<td><i>(Optional)</i> Whether to get the crafting/cooking recipe for the item, instead of the item itself. Default false.
</td></tr>
<tr>
<td><samp>Quality</samp>
</td>
<td><i>(Optional)</i> The quality of the item to find. One of <samp>0</samp> (normal), <samp>1</samp> (silver), <samp>2</samp> (gold), or <samp>4</samp> (iridium). Invalid values will snap to the closest valid one (e.g. <samp>7</samp> will become iridium). Default -1, which keeps the value set by the item query (usually 0).
</td></tr>
<tr>
<td><samp>MinStack</samp>
</td>
<td><i>(Optional)</i> The item's minimum and default stack size. Default -1, which keeps the value set by the item query (usually 1).
</td></tr>
<tr>
<td><samp>MaxStack</samp>
</td>
<td><i>(Optional)</i> If set to a value higher than <samp>MinStack</samp>, the stack is set to a random value between them (inclusively). Default -1.
</td></tr>
<tr>
<td><samp>ObjectDisplayName</samp>
</td>
<td><i>(Optional)</i> For objects only, a <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Tokenizable_strings" title="Modding:Tokenizable strings">tokenizable string</a> for the item's display name. Defaults to the item's display name in <samp>Data/Objects</samp>. This can optionally contain <code>%DISPLAY_NAME</code> (the item's default display name) and <code>%PRESERVED_DISPLAY_NAME</code> (the preserved item's display name if applicable, <i>e.g.</i> if set via <samp>PreserveId</samp> in <a href="#Custom_machines">machine data</a>).
<p><b>Careful:</b> text in this field will be saved permanently in the object's info and won't be updated when the player changes language or the content pack changes. That includes Content Patcher translations (like <code>%DISPLAY_NAME {{i18n: wine}}</code>), which will save the translated text for the current language. Instead, add the text to a strings asset like <samp>Strings/Objects</samp> and then use the <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Tokenizable_strings" title="Modding:Tokenizable strings"><samp>[LocalizedText]</samp> token</a>.
</p>
<table class="mw-collapsible mw-collapsed" style="">
<tbody><tr>
<th style="text-align: left;"><b>For example, here's how you'd create flavored oils with Content Patcher:</b> 
</th></tr>
<tr>
<td><ol>
<li>Add the display name to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Translations" title="Modding:Translations">your <samp>i18n/default.json</samp> file</a> (with <samp>{0}</samp> where you want the flavor name):
<div class="mw-highlight mw-highlight-lang-json mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="nt">"flavored-oil"</span><span class="p">:</span> <span class="s2">"{0} Oil"</span>
<span class="p">}</span>
</pre></div></li>
<li>Add the text to a strings asset visible to the game:
<div class="mw-highlight mw-highlight-lang-javascript mw-content-ltr" dir="ltr"><pre><span></span><span class="p">{</span>
    <span class="s2">"Format"</span><span class="o">:</span> <span class="s2">"2.0.0"</span><span class="p">,</span>
    <span class="s2">"Changes"</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">"Action"</span><span class="o">:</span> <span class="s2">"EditData"</span><span class="p">,</span>
            <span class="s2">"Target"</span><span class="o">:</span> <span class="s2">"Strings/Objects"</span><span class="p">,</span>
            <span class="s2">"Entries"</span><span class="o">:</span> <span class="p">{</span>
                <span class="s2">"Example.ModId_Oil"</span><span class="o">:</span> <span class="s2">"{{i18n: flavored-oil}}"</span>
            <span class="p">}</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div></li>
<li>Use the <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Tokenizable_strings" title="Modding:Tokenizable strings"><samp>[LocalizedText]</samp> token</a> to get your translation, and pass in the flavor as an argument:
<div class="mw-highlight mw-highlight-lang-json mw-content-ltr" dir="ltr"><pre><span></span><span class="s2">"ObjectDisplayName"</span><span class="err">:</span> <span class="s2">"[LocalizedText Strings/Objects:Example.ModId_Oil %PRESERVED_DISPLAY_NAME]"</span><span class="err">,</span>
</pre></div>
</li></ol>
<p>Now when the player changes language, the object will automatically get the new translation from <samp>Strings/Object</samp>.
</p>
</td></tr></tbody></table>
</td></tr>
<tr>
<td><samp>ToolUpgradeLevel</samp>
</td>
<td><i>(Optional)</i> For tools only, the initial upgrade level for the tool when created (like <a href="../../external.html?link=https://stardewvalleywiki.com/Axes" title="Axes">Copper vs Gold Axe</a>, or <a href="../../external.html?link=https://stardewvalleywiki.com/Training_Rod" title="Training Rod">Training Rod</a> vs <a href="../../external.html?link=https://stardewvalleywiki.com/Iridium_Rod" title="Iridium Rod">Iridium Rod</a>). Default -1, which keeps the value set by the item query (usually 0).
</td></tr>
<tr>
<td><samp>QualityModifiers</samp><br><samp>StackModifiers</samp>
</td>
<td><i>(Optional)</i> <a href="#Quantity_modifiers">Quantity modifiers</a> applied to the <samp>Quality</samp> or <samp>Stack</samp> value. Default none.
<p>The quality modifiers operate on the numeric quality values (<i>i.e.</i> <samp>0</samp> = normal, <samp>1</samp> = silver, <samp>2</samp> = gold, and <samp>4</samp> = iridium). For example, silver × 2 is gold.
</p>
</td></tr>
<tr>
<td><samp>QualityModifierMode</samp><br><samp>StackModifierMode</samp>
</td>
<td><i>(Optional)</i> <a href="#Quantity_modifiers">Quantity modifier modes</a> which indicate what to do if multiple modifiers in the <samp>QualityModifiers</samp> or <samp>StackModifiers</samp> field apply at the same time. Default <samp>Stack</samp>.
</td></tr>
<tr>
<td><samp>ModData</samp>
</td>
<td><i>(Optional)</i> The <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Common_data_field_types#Mod_data" title="Modding:Common data field types">mod data fields</a> to add to created items. Default none.
<p>For example:
</p>
<div class="mw-highlight mw-highlight-lang-js mw-content-ltr" dir="ltr"><pre><span></span><span class="s2">"ModData"</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">"Example.ModId_FieldName"</span><span class="o">:</span> <span class="s2">"some custom data"</span>
<span class="p">}</span>
</pre></div>
</td></tr></tbody></table>
</section><h2 class="section-heading" onclick="javascript:mfTempOpenSection(4)"><div class="mw-ui-icon mw-ui-icon-element indicator mw-ui-icon-small mw-ui-icon-flush-left"></div><span id="For_C#_mod_authors"></span><span class="mw-headline" id="For_C.23_mod_authors">For C# mod authors</span></h2><section class="mf-section-4 collapsible-block" id="mf-section-4">
<h3 class="in-block"><span class="mw-headline" id="Use_queries_in_custom_data_assets">Use queries in custom data assets</span></h3>
<p>You can use the <samp>ItemQueryResolver</samp> class to parse item queries.
</p><p>For example, let's say a custom data model uses <a href="#Item_spawn_fields">item spawn fields</a> to choose which gifts are added to the starting gift box:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">public</span> <span class="k">class</span> <span class="nc">InitialGiftsModel</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">GenericSpawnItemData</span><span class="p">&gt;</span> <span class="n">Items</span> <span class="p">=</span> <span class="k">new</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p>You can spawn items from it like this:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">ItemQueryContext</span> <span class="n">itemQueryContext</span> <span class="p">=</span> <span class="k">new</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="n">GenericSpawnItemData</span> <span class="n">entry</span> <span class="k">in</span> <span class="n">model</span><span class="p">.</span><span class="n">Items</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Item</span> <span class="n">item</span> <span class="p">=</span> <span class="n">ItemQueryResolver</span><span class="p">.</span><span class="n">TryResolveRandomItem</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">itemQueryContext</span><span class="p">,</span> <span class="n">logError</span><span class="p">:</span> <span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Monitor</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="err">$</span><span class="s">"Failed parsing item query '{query}': {message}"</span><span class="p">,</span> <span class="n">LogLevel</span><span class="p">.</span><span class="n">Warn</span><span class="p">));</span>
    <span class="c1">// or TryResolve to get all items</span>
<span class="p">}</span>
</pre></div>
<p>You can also use <samp>GenericSpawnItemDataWithCondition</samp> to combine it with <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Game_state_queries" title="Modding:Game state queries">game state queries</a>:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">ItemQueryContext</span> <span class="n">itemQueryContext</span> <span class="p">=</span> <span class="k">new</span><span class="p">();</span>
<span class="k">foreach</span> <span class="p">(</span><span class="n">GenericSpawnItemDataWithCondition</span> <span class="n">entry</span> <span class="k">in</span> <span class="n">model</span><span class="p">.</span><span class="n">Items</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">GameStateQuery</span><span class="p">.</span><span class="n">CheckConditions</span><span class="p">(</span><span class="n">entry</span><span class="p">.</span><span class="n">Condition</span><span class="p">))</span>
        <span class="k">continue</span><span class="p">;</span>

    <span class="n">Item</span> <span class="n">item</span> <span class="p">=</span> <span class="n">ItemQueryResolver</span><span class="p">.</span><span class="n">TryResolveRandomItem</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span> <span class="n">itemQueryContext</span><span class="p">,</span> <span class="n">logError</span><span class="p">:</span> <span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="n">Monitor</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="err">$</span><span class="s">"Failed parsing item query '{query}': {message}"</span><span class="p">,</span> <span class="n">LogLevel</span><span class="p">.</span><span class="n">Warn</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
<h3 class="in-block"><span class="mw-headline" id="Add_custom_item_queries">Add custom item queries</span></h3>
<p>You can define new item queries <code>ItemQueryResolver.Register("Example.ModId_QueryName", handleQueryMethod)</code>. To avoid conflicts, custom query names should apply the <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Common_data_field_types#Unique_string_ID" title="Modding:Common data field types">unique string ID</a> conventions.
</p>




</section></div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;oldid=164778">https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;oldid=164778</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		<div class="last-modified-bar">
	<div class="post-content last-modified-bar__content">
		<span class="last-modified-bar__icon mw-ui-icon mw-ui-icon-mw-ui-icon-small mw-ui-icon-wikimedia-history-base20 "></span>
		<a class="last-modified-bar__text modified-enhancement" href="../../external.html?link=https://stardewvalleywiki.com/Special:History/Modding:Item_queries"
				data-user-name="Pathoschild"
				data-user-gender="unknown"
				data-timestamp="1712426984">
				<span>Last edited on 6 April 2024, at 18:09</span>
		</a>
		<span class="mw-ui-icon mw-ui-icon-small mw-ui-icon-mf-expand-gray mf-mw-ui-icon-rotate-anti-clockwise indicator"></span>
	</div>
</div>

		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				<li id="footer-info-lastmod"> This page was last edited on 6 April 2024, at 18:09.</li><li id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</li>
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Item_queries&amp;oldid=164778&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.072","walltime":"0.516","ppvisitednodes":{"value":1059,"limit":1000000},"postexpandincludesize":{"value":3798,"limit":2097152},"templateargumentsize":{"value":1425,"limit":2097152},"expansiondepth":{"value":6,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":9870,"limit":5000000},"timingprofile":["100.00%   43.218      1 -total"," 43.98%   19.008     23 Template:O"," 19.40%    8.384     17 Template:T"," 15.32%    6.621      3 Template:Price"," 10.30%    4.451      1 Template:Collapse","  3.92%    1.696      1 Template:Content_Patcher_version"]},"cachereport":{"timestamp":"20240502150309","ttl":86400,"transientcontent":false}}});});</script>
<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":130});});</script>		</body>
		

</html>
		



