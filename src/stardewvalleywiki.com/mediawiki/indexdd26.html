<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:Migrate to Stardew Valley 1.6 - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Migrate_to_Stardew_Valley_1.6","wgTitle":"Migrate to Stardew Valley 1.6","wgCurRevisionId":173270,"wgRevisionId":0,"wgArticleId":13596,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Migrate_to_Stardew_Valley_1.6","wgRelevantArticleId":13596,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable",
"wgMFAmc":!1,"wgMFAmcOutreachActive":!1,"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},
"wgMinervaDownloadNamespaces":[0]};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadb780.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:Migrate to Stardew Valley 1.6 - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6"/>
<meta property="og:description" content="←Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:Migrate to Stardew Valley 1.6 - Stardew Valley Wiki"/>
<meta property="twitter:description" content="←Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:Migrate to Stardew Valley 1.6 - Stardew Valley Wiki","headline":"View source for Modding:Migrate to Stardew Valley 1.6 - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:Migrate to Stardew Valley 1.6","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Migrate_to_Stardew_Valley_1.6","url":"https:\/\/stardewvalleywiki.com\/Modding:Migrate_to_Stardew_Valley_1.6","description":"\u2190Index","dateModified":"2024-06-20T05:35:06Z","datePublished":"2024-06-20T05:35:06Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Migrate_to_Stardew_Valley_1_6 rootpage-Modding_Migrate_to_Stardew_Valley_1_6 stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AMigrate+to+Stardew+Valley+1.6&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3AMigrate+to+Stardew+Valley+1.6" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:Migrate to Stardew Valley 1.6</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6" title="Modding:Migrate to Stardew Valley 1.6">Modding:Migrate to Stardew Valley 1.6</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">←[[Modding:Index|Index]]

{{Modder compatibility header}}

This page explains how to update your mods for compatibility with {{version|1.6|Stardew Valley 1.6}}, and documents some of the changes and new functionality. See also [[Modding:Migrate to SMAPI 4.0|''Migrate to SMAPI 4.0'']].

{{TOC|limit=3}}

==FAQs==
===What's changing?===
Stardew Valley 1.6 makes fundamental changes to the game code to make it more extensible for mods.

===Is this the modapocalypse?===
Maybe. The update includes major changes to fundamental parts of the game, and SMAPI and Content Patcher can't feasibly rewrite every older mod for compatibility with some of the changes. This will break many existing mods until they're updated for the changes. However, per discussion between the game developers and modding community, we've agreed that this short-term pain is more than offset by the huge long-term improvements to modding.

===How to update your mod===
The rest of this page may seem overwhelming, but fortunately most of it probably doesn't apply to your specific mods. Here's a suggested 'quick start' guide to update a mod for Stardew Valley 1.6.

; For C# mods&amp;#58;
:# Update the [https://www.nuget.org/packages/Pathoschild.Stardew.ModBuildConfig mod build config NuGet package] to the latest version.
:# In each &lt;samp>.csproj&lt;/samp> project file, change &lt;code>&amp;lt;TargetFramework&amp;gt;net5.0&amp;lt;/TargetFramework&amp;gt;&lt;/code> to &lt;code>&amp;lt;TargetFramework&amp;gt;net6.0&amp;lt;/TargetFramework&amp;gt;&lt;/code>.&lt;br />&lt;small>(Tip: if the second line looks like &lt;code>&amp;lt;Project ToolsVersion=...&lt;/code> instead of &lt;code>&amp;lt;Project Sdk="Microsoft.NET.Sdk"&amp;gt;&lt;/code>, you'll need to [[Modding:Migrate to Stardew Valley 1.5.5|migrate it to Stardew Valley 1.5.5]] first.)&lt;/small>
:# Rebuild the solution.
:# Fix any build errors. You can search this page for relevant info as needed.
:# Review all build warnings (particularly obsolete-code warnings), which may indicate code that broke in 1.6.
:# Increment your mod version in &lt;samp>manifest.json&lt;/samp>.&lt;br />&lt;small>(Some mods may be added to SMAPI's compatibility blacklist due to runtime errors. Incrementing the mod version will fix that if so.)&lt;/small>
:# Test to make sure the mod works.
:# Skim through [[#Breaking changes for C# mods|''breaking changes for C# mods'']] and the table of contents, and check any section that might be relevant to the mod.

; For [[Modding:Content Patcher|Content Patcher]] packs&amp;#58;
:# Follow the [https://smapi.io/cp-migrate Content Patcher migration guide] until your content pack has &lt;code>"Format": "2.0.0"&lt;/code>.&lt;br />&lt;small>'''Do not skip this step!''' Content Patcher will assume your content pack is pre-1.6 if you don't, which can cause confusing errors if you already updated it.&lt;/small>
:# Review [[#Breaking changes for content packs|''breaking changes for content packs'']] and update the content pack as needed.

; For content packs which use another framework&amp;#58;
: See the documentation for the framework mod. Often you won't need to update the content pack if the framework mod itself was updated.

==What's new architecturally?==
===.NET 6===
: ''See also: [[#.NET 6 2|.NET 6]] under breaking changes.''

For C# mod authors, Stardew Valley 1.6 updates from .NET 5 to .NET 6. See [https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-6 ''What's new in .NET 6''] and [https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-10 ''What's new in C# 10''] for more info, but some highlights include...
* [https://devblogs.microsoft.com/dotnet/performance-improvements-in-net-6/ improved performance];
* [https://devblogs.microsoft.com/dotnet/update-on-net-hot-reload-progress-and-visual-studio-2022-highlights/ improved hot reload];
* [https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-6#new-linq-apis new LINQ methods];
* [https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/record record structs];
* and support for ARM64 on macOS.

===Trigger actions===
{{/doc status|[[Modding:Trigger actions]]|done=true}}

Trigger actions are a new feature which lets content packs perform an action when something happens, with support for a wide range of actions (like sending mail, changing friendship, starting a quest, etc).

For example, it lets you have logic like "''When the player arrives in the Farm location, if Leo has moved to the valley, then send a letter and start a conversation topic''":
&lt;syntaxhighlight lang="js">
{
    "Trigger": "LocationChanged",
    "Location": "Farm",
    "Condition": "PLAYER_HAS_FLAG Host leoMoved",
    "Actions": [
        "AddMail Current Abigail_LeoMoved Today",
        "AddConversationTopic LeoMoved 5"
    ]
}
&lt;/syntaxhighlight>

===Hash set fields===
For C# mod authors, the game now uses [https://www.bytehide.com/blog/hashset-csharp hash sets] for many list fields which expect unique values. That allows much more efficient O(1) read/write, prevents duplicate values, and simplifies common logic.

This affects:
{| class="wikitable"
|-
! type
! fields
|-
| &lt;samp>Farmer&lt;/samp>
| &lt;samp>achievements&lt;/samp>&lt;br />&lt;samp>dialogueQuestionsAnswered&lt;/samp>&lt;br />&lt;samp>eventsSeen&lt;/samp>&lt;br />&lt;samp>mailForTomorrow&lt;/samp>&lt;br />&lt;samp>mailReceived&lt;/samp>&lt;br />&lt;samp>professions&lt;/samp>&lt;br />&lt;samp>secretNotesSeen&lt;/samp>&lt;br />&lt;samp>songsHeard&lt;/samp>
|-
| &lt;samp>FarmerTeam&lt;/samp>
| &lt;samp>acceptedSpecialOrderTypes&lt;/samp>&lt;br />&lt;samp>broadcastedMail&lt;/samp>&lt;br />&lt;samp>completedSpecialOrders&lt;/samp>&lt;br />&lt;samp>collectedNutTracker&lt;/samp>
|-
| &lt;samp>Game1&lt;/samp>
| &lt;samp>worldStateIDs&lt;/samp>
|-
| &lt;samp>NetWorldState&lt;/samp>
| &lt;samp>ActivePassiveFestivals&lt;/samp>&lt;br />&lt;samp>CheckedGarbage&lt;/samp>&lt;br />&lt;samp>FoundBuriedNuts&lt;/samp>&lt;br />&lt;samp>IslandVisitors&lt;/samp>&lt;br />&lt;samp>LocationsWithBuildings&lt;/samp>
|}

Usage is very similar, and many list methods like &lt;samp>Contains&lt;/samp> work the same way with hash sets. Here are the main differences:
&lt;ul>
&lt;li>Hash sets aren't ordered. For example, there's no guarantee that the first value when you enumerate it was the earliest one added.&lt;/li>
&lt;li>&lt;p>Hash sets can't be indexed. For example, you can no longer use &lt;code>list[0]&lt;/code> to get the first value. You can still enumerate them or use LINQ methods like &lt;samp>set.First()&lt;/samp>, but in most cases you should use the set methods like &lt;samp>Add&lt;/samp> or &lt;samp>Contains&lt;/samp> instead.&lt;/p>

To remove multiple matching values from the set, you can use &lt;samp>RemoveWhere&lt;/samp> instead:
&lt;syntaxhighlight lang="c#">
// old code
for (int i = Game1.player.mailReceived.Count - 1; i >= 0; i--)
{
    if (Game1.player.mailReceived[i].StartsWith("Example.ModId_"))
        Game1.player.mailReceived.RemoveAt(i);
}

// new code
Game1.player.mailReceived.RemoveWhere(id => id.StartsWith("Example.ModId_"));
&lt;/syntaxhighlight>
&lt;/li>
&lt;li>You no longer need to check before adding a value, since the hash set will ignore duplicates.&lt;/li>
&lt;li>The &lt;samp>Add&lt;/samp>/&lt;samp>Remove&lt;/samp>/&lt;samp>RemoveWhere&lt;/samp> methods return whether a value was added/removed, which lets you check at the same time. For example:
&lt;syntaxhighlight lang="c#">
if (Game1.player.mailReceived.Add("BackpackTip")) // returns true if it wasn't in the set yet
    Game1.addMailForTomorrow("pierreBackpack");
&lt;/syntaxhighlight>
&lt;/li>
&lt;/ul>

===DataLoader===
&lt;samp>DataLoader&lt;/samp> is a new C# utility which provides strongly-typed methods to load the game's data assets.

This solves an issue where we often needed fragile code like &lt;code>Game1.content.Load&lt;Dictionary&lt;string, PassiveFestivalData>>("Data\\PassiveFestivals")&lt;/code>. With that code, it's easy to accidentally misspell the asset name, use different capitalization (which would break on Linux/macOS), or use the wrong return type. If you did, you likely wouldn't notice until the code actually executed at runtime and threw an exception.

In Stardew Valley 1.6, you can now rewrite that code like &lt;code>DataLoader.PassiveFestivals(Game1.content)&lt;/code>. That's simpler, you can't use the wrong asset name or type, and it's more future-proof in case the game changes them.

===Unique string IDs===
{{/doc status|[[Modding:Common data field types#Unique string ID]]|done=true}}

Stardew Valley now uses ''unique string IDs'' throughout the code to identify data (like events, locations, items, NPCs, etc). For example, &lt;code>Town&lt;/code> is the unique ID for the [[Pelican Town]] location; no other location can use that ID. The IDs are used for a wide range of purposes, from internal game logic to [[Modding:Content Patcher|content pack edits]].

For mods, it's '''strongly recommended''' to...
* Use namespaced IDs prefixed with your [[Modding:Modder Guide/APIs/Manifest#Basic fields|mod's unique ID]] for all new content. For example, if your mod ID is &lt;code>Example.PufferchickMod&lt;/code> and you're adding a pufferchick plushy, your item ID would look like &lt;code>Example.PufferchickMod_PufferchickPlushy&lt;/code>. In a [[Modding:Content Patcher|Content Patcher pack]], you can use &lt;code>&lt;nowiki>{{ModId}}_PufferchickPlushy&lt;/nowiki>&lt;/code> to insert your mod ID automatically. This eliminates ID conflicts between mods, and makes it easy (for both troubleshooters and mod code) to identify which mod added a particular content. See [[Modding:Common data field types#Unique string ID|the new format docs]] for the recommended format.
* Only use alphanumeric (a–z, A–Z, 0–9), underscore (&lt;code>_&lt;/code>), and dot (&lt;code>.&lt;/code>) characters in string IDs. This is important because they're often used in places where some characters have special meaning (like file names or [[#Game state queries|game state queries]]).

You can optionally migrate pre-1.6 content to use unique string IDs too, without breaking existing players' saves. This is recommended to reduce mod conflicts and simplify troubleshooting going forward. Here's how to migrate for each data type:
{{collapse|migration steps for pre-1.6 content|content=&amp;#32;
{{{!}} class="wikitable"
{{!}}-
! content type
! how to change IDs
{{!}}-
{{!}} [[Modding:Event data|event IDs]]&lt;br />[[Modding:Items|item IDs]]&lt;br />[[Modding:Mail data|mail IDs]]&lt;br />[[Modding:Recipe data|recipe IDs]]&lt;br />[[#Custom jukebox tracks|song IDs for jukebox]]
{{!}} [[Modding:Content Patcher|Content Patcher]] adds a custom [[Modding:Trigger actions|trigger action]] which can migrate IDs everywhere in the save data.

For example, this migrates two crafting recipe IDs:
&lt;syntaxhighlight lang="js">
{
    "Action": "EditData",
    "Target": "Data/TriggerActions",
    "Entries": {
        "{{ModId}}_MigrateToUniqueIds": {
            "Id": "{{ModId}}_MigrateToUniqueIds",
            "Trigger": "DayStarted",
            "Actions": [
                // Note: use double-quotes around an argument if it contains spaces. This example has single-quotes for
                // the action itself, so we don't need to escape the double-quotes inside it.
                'Pathoschild.ContentPatcher_MigrateIds CraftingRecipes "Puffer Plush" {{ModId}}_PufferPlush "Puffer Sofa" {{ModId}}_PufferSofa'
            ],
            "HostOnly": true
        }
    }
}
&lt;/syntaxhighlight>

See the [https://github.com/Pathoschild/StardewMods/blob/develop/ContentPatcher/docs/author-guide/trigger-actions.md Content Patcher docs] for more info about using the trigger action, including restrictions and valid ID types.
{{!}}-
{{!}} [[Modding:Location data|location IDs]]
{{!}} Add the old name to the location's &lt;samp>FormerLocationNames&lt;/samp> field in &lt;samp>Data/Locations&lt;/samp>.
{{!}}-
{{!}} [[Modding:NPC data|NPC internal names]]
{{!}} Add the old name to the NPC's &lt;samp>FormerCharacterNames&lt;/samp> field in &lt;samp>Data/Characters&lt;/samp>.
{{!}}-
{{!}} [[Modding:Quest data|quest]] and [[Modding:Special orders|special order]] IDs
{{!}} Currently there's no safe way to migrate quest and special order IDs, since removing and readding them will reset any progress the player has made on them.
{{!}}}
}}

==What's new for items==
===Custom items===
{{/doc status|[[Modding:Items]]|done=true}}

====Overview====
Stardew Valley 1.6 makes three major changes to how items work in the game:

# Each item now has a string ID (&lt;samp>ItemId&lt;/samp>) and a globally unique string ID (&lt;samp>QualifiedItemId&lt;/samp>). The &lt;samp>QualifiedItemId&lt;/samp> is auto-generated by prefixing the &lt;samp>ItemId&lt;/samp> with the item type identifier.&lt;p>For legacy reasons, the &lt;samp>ItemId&lt;/samp> for vanilla items may not be globally unique. For example, Pufferfish (object 128) and Mushroom Box (bigcraftable 128) both have &lt;samp>ItemId: 128&lt;/samp>. They can be distinguished by their &lt;samp>QualifiedItemId&lt;/samp>, which are &lt;samp>(O)128&lt;/samp> and &lt;samp>(BC)128&lt;/samp> respectively.
# Each item type now has an ''item data definition'' in the game code which tells the game how to handle it. [[#For C# mods|C# mods can add or edit definitions]]. Each definition has a unique prefix which is used in the qualified item IDs. The vanilla types are bigcraftables (&lt;samp>(BC)&lt;/samp>), boots (&lt;samp>(B)&lt;/samp>), farmhouse flooring (&lt;samp>(FL)&lt;/samp>), furniture (&lt;samp>(F)&lt;/samp>), hats (&lt;samp>(H)&lt;/samp>), objects (&lt;samp>(O)&lt;/samp>), pants (&lt;samp>(P)&lt;/samp>), shirts (&lt;samp>(S)&lt;/samp>), tools (&lt;samp>(T)&lt;/samp>), wallpaper (&lt;samp>(WP)&lt;/samp>), and weapons (&lt;samp>(W)&lt;/samp>).&lt;/li>
# Custom items can now provide their own item texture, specified in a new field in the item data assets (see below). The item's &lt;samp>ParentSheetIndex&lt;/samp> field is the index within that texture.

In other words, the four important fields for items are:

{| class="wikitable"
|-
! name
! type
! description
|-
| &lt;samp>ItemId&lt;/samp>
| &lt;samp>string&lt;/samp>
| A [[Modding:Common data field types#Unique string ID|unique string ID]] for this item which should be globally unique (but may not be for existing vanilla items for backwards compatibility). For example, &lt;samp>128&lt;/samp> (vanilla item) or &lt;samp>Example.ModId_Watermelon&lt;/samp> (custom item).
|-
| &lt;samp>QualifiedItemId&lt;/samp>
| &lt;samp>string&lt;/samp>
| A globally unique item key, like &lt;samp>(O)128&lt;/samp> for a vanilla item or &lt;samp>(O)Example.ModId_Watermelon&lt;/samp> for a custom one. This is auto-generated from the &lt;samp>TypeDefinitionId&lt;/samp> and &lt;samp>ItemId&lt;/samp> fields.
|-
| &lt;samp>ParentSheetIndex&lt;/samp>
| &lt;samp>int&lt;/samp>
| The item's sprite index within its spritesheet.
|-
| &lt;samp>TypeDefinitionId&lt;/samp>
| &lt;samp>string&lt;/samp>
| The ID for the data definition which defines the item, like &lt;samp>(O)&lt;/samp> for an object. You can use &lt;samp>ItemRegistry.type_*&lt;/samp> constants with this field:
&lt;syntaxhighlight lang="c#">
if (item.TypeDefinitionId == ItemRegistry.type_object)
   ...
&lt;/syntaxhighlight>
|}

====Item references====
Item references throughout the game code now use the &lt;samp>ItemId&lt;/samp> instead of the &lt;samp>ParentSheetIndex&lt;/samp>. Since the &lt;samp>ItemId&lt;/samp> is identical to the index for existing vanilla items, most data assets are unaffected by this change. For example, here's from &lt;samp>Data/NPCGiftTastes&lt;/samp> with one custom item:
&lt;syntaxhighlight lang="json">
"Universal_Like": "-2 -7 -26 -75 -80 72 395 613 634 635 636 637 638 724 459 Example.ModID_watermelon"
&lt;/syntaxhighlight>

Unless otherwise noted, unqualified item IDs will produce [[Modding:Items|objects]]. Some assets let you override that by specifying a &lt;samp>QualifiedItemId&lt;/samp> value instead. For example, you can add &lt;code>(O)128&lt;/code> to the gift taste list to explicitly add for an object. Here's a partial list of data assets and their supported item ID formats:

{| class="wikitable"
|-
! data asset
! item ID format
|-
| [[Modding:Recipe data|&lt;samp>Data/CraftingRecipes&lt;/samp>&lt;br />&lt;samp>Data/CookingRecipes&lt;/samp>]]
| &amp;#32;
* Ingredients: both supported.
* Output: set field 2 to the unqualified item ID, and field 3 to one of &lt;samp>true&lt;/samp> (bigcraftable) or &lt;samp>false&lt;/samp> (object).
|-
| [[#Custom fruit trees|&lt;samp>Data/fruitTrees&lt;/samp>]]
| &amp;#32;
* Fruit: both supported.
* Sapling: unqualified only.
|-
| [[Modding:Gift taste data|&lt;samp>Data/NPCGiftTastes&lt;/samp>]]
| Both supported, but only &lt;samp>(O)&lt;/samp> items can be gifted.
|}

====Item types====
These are the item types for which custom items can added/edited:

{| class="wikitable"
|-
! item type
! type identifier
! data asset
|-
| [[Modding:Items|big craftables]]
| &lt;samp>(BC)&lt;/samp>
| &lt;samp>Data/BigCraftables&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in the &lt;samp>Texture&lt;/samp> field, and sprite index in the &lt;samp>SpriteIndex&lt;/samp> field. The default texture is &lt;samp>TileSheets/Craftables&lt;/samp>.&lt;/small>
|-
| boots
| &lt;samp>(B)&lt;/samp>
| &lt;samp>Data/Boots&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in fields 9 (item) and 7 (shoe color), and sprite index in fields 8 (item) and 5 (shoe color). The default textures are &lt;samp>Maps/springobjects&lt;/samp> (item) and &lt;samp>Characters/Farmer/shoeColors&lt;/samp> (shoe color).&lt;/small>
|-
| [[Modding:Crop data|crops]]
| &lt;small>''not technically an item type''&lt;/small>
| &lt;samp>Data/Crops&lt;/samp>&lt;br />&lt;small>Each crop can set a custom texture name and sprite index. The default texture is &lt;samp>TileSheets/crops&lt;/samp>.&lt;/small>
|-
| [[Modding:Fish data|fish (in fish tanks)]]
| &lt;small>''not technically an item type''&lt;/small>
| &lt;samp>Data/AquariumFish&lt;/samp>&lt;br />&lt;small>Each fish can set a custom aquarium texture name in field 6, and sprite index in field 0. The default texture is &lt;samp>LooseSprites/AquariumFish&lt;/samp>.&lt;/small>
|-
| [[Modding:Items|furniture]]
| &lt;samp>(F)&lt;/samp>
| &lt;samp>Data/Furniture&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in field 9, and sprite index in field 8. The default texture is &lt;samp>TileSheets/furniture&lt;/samp>.&lt;/small>
|-
| fruit trees
| &lt;small>''not technically an item type''&lt;/small>
| &lt;samp>Data/FruitTrees&lt;/samp>&lt;br />&lt;small>Each fruit tree can set a custom texture name and sprite index. The default texture is &lt;samp>TileSheets/fruitTrees&lt;/samp>.&lt;/small>
|-
| [[Modding:Items|hats]]
| &lt;samp>(H)&lt;/samp>
| &lt;samp>Data/Hats&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in field 7, and sprite index in field 6. The default texture is &lt;samp>Characters/Farmer/hats&lt;/samp>.&lt;/small>
|-
| [[Modding:Items|objects]]
| &lt;samp>(O)&lt;/samp>
| &lt;samp>Data/Objects&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in the &lt;samp>Texture&lt;/samp> field, and sprite index in the &lt;samp>SpriteIndex&lt;/samp> field. The default texture is &lt;samp>Maps/springobjects&lt;/samp>.&lt;/small>
|-
| [[#Custom pants|pants]]
| &lt;samp>(P)&lt;/samp>
| &lt;samp>Data/pantsData&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in the &lt;samp>Texture&lt;/samp> field, and sprite index in the &lt;samp>SpriteIndex&lt;/samp> field. The default texture is &lt;samp>Characters/Farmer/pants&lt;/samp>.&lt;/small>
|-
| [[#Custom shirts|shirts]]
| &lt;samp>(S)&lt;/samp>
| &lt;samp>Data/shirtData&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in the &lt;samp>Texture&lt;/samp> field, and sprite index in the &lt;samp>SpriteIndex&lt;/samp> field. The default texture is &lt;samp>Characters/Farmer/shirts&lt;/samp>.&lt;/small>

&lt;small>Shirt textures must be exactly 256 pixels wide, divided into two halves: the left half for the shirt sprites, and the right half for any dye masks. The remaining space can be left blank if needed.&lt;/small>
&lt;pre>
      sprites       dye masks
   /-----------\  /-----------\
┌────────────────────────────────┐
│ ┌───┐┌───┐┌───┐┌───┐┌───┐┌───┐ │
│ │ 0 ││ 1 ││ 2 ││ a ││ b ││ c │ │
│ └───┘└───┘└───┘└───┘└───┘└───┘ │
│ ┌───┐┌───┐┌───┐┌───┐┌───┐┌───┐ │
│ │ 3 ││ 4 ││ 5 ││ d ││ e ││ f │ │
│ └───┘└───┘└───┘└───┘└───┘└───┘ │
└────────────────────────────────┘
&lt;/pre>
|-
| [[#Custom tools|tools]]
| &lt;samp>(T)&lt;/samp>
| &lt;samp>Data/Tools&lt;/samp>&lt;br />&lt;small>Each item can set a custom texture name in the &lt;samp>Texture&lt;/samp> field, and sprite index in the &lt;samp>SpriteIndex&lt;/samp> field. The vanilla tools use the &lt;samp>TileSheets/Tools&lt;/samp> texture.&lt;/small>
|-
| Wallpaper &amp; floorpaper
| &lt;samp>(WP)&lt;/samp> and &lt;samp>(FL)&lt;/samp>
| &lt;samp>Data/AdditionalWallpaperFlooring&lt;/samp>&lt;br />&lt;small>See [[Modding:Migrate to Stardew Valley 1.5.5#In the furniture catalogue|format docs]].&lt;/small>
|-
| [[Modding:Items|weapons]]
| &lt;samp>(W)&lt;/samp>
| &lt;samp>Data/Weapons&lt;/samp>&lt;br />&lt;small>[[#Custom melee weapons|Completely overhauled]] into a data model.&lt;/small>
|}

When resolving an unqualified item ID like &lt;samp>128&lt;/samp>, the game will get the first item type for which it exists in this order: object, big craftable, furniture, weapon, boots, hat, pants, shirt, tool, wallpaper, and floorpaper.

====Define a custom item====
You can define custom items for most vanilla item types using only [[Modding:Content Patcher|Content Patcher]] or [[Modding:Modder Guide/APIs/Content|SMAPI's content API]].

Most item data assets work just like &lt;samp>Data/Objects&lt;/samp>. See also specific info for [[#Custom fruit trees|custom fruit trees]], [[#Custom tools|custom tools]], and [[#Custom melee weapon data|melee weapons]].

====Error items====
In-game items with no underlying data (e.g. because you removed the mod which adds them) would previously cause issues like invisible items, errors, and crashes. This was partly mitigated by the bundled Error Handler mod.

Stardew Valley 1.6 adds comprehensive handling for such items. They'll be shown with a &lt;samp>🛇&lt;/samp> sprite in inventory UIs and in-game, the name Error Item, and a description which indicates the missing item ID for troubleshooting.

====For C# mods====

Stardew Valley 1.6 added new ways to compare/construct items, define custom item types, and work with item metadata. Please see [[Modding:Items]] for the migrated docs.

===Custom big craftables===
{{/doc status|[[Modding:Items#Big craftables]]|done=true}}

You can now create/edit [[Modding:Items#Big craftables|big craftables]] by editing the new &lt;samp>Data/BigCraftables&lt;/samp> asset, which replaces the previous slash-delimited &lt;samp>Data/BigCraftablesInformation&lt;/samp>.

Besides the format change, this adds...
* context tags (moved from the former &lt;samp>Data/ObjectContextTags&lt;/samp> asset);
* [[#Custom data fields|custom fields]] to let framework mods support additional features.

===Custom crops===
{{/doc status|[[Modding:Crop data]]|done=true}}

[[Modding:Crop data|Crops]] are still stored in &lt;samp>Data/Crops&lt;/samp>, but that asset has been overhauled in Stardew Valley 1.6. The slash-delimited entries are now models to simplify edits and enable new features.

===Custom fences===
{{/doc status|[[Modding:Fences]]|done=true}}

You can now add or customize [[Crafting#Fences|fences]] by editing the &lt;samp>Data/Fences&lt;/samp> asset.

===Custom floors (craftable) &amp; paths===
{{/doc status|[[Modding:Floors and Paths]]|done=true}}

You can now add or customize [[Crafting#Decor|craftable floors &amp; paths]] by editing the &lt;samp>Data/FloorsAndPaths&lt;/samp> asset. See the new doc page for formatting information.

===Custom machines===
{{/doc status|[[Modding:Machines]]|done=true}}

You can now add/edit machine logic by editing the &lt;samp>Data/Machines&lt;/samp> asset. This supports the full range of vanilla functionality, including calling custom code define in C# mods.

For C# mods, 1.6 also adds a new &lt;samp>MachineDataUtility&lt;/samp> class and various &lt;samp>Object&lt;/samp> to simplify working with machines in code. These are used by the game code itself to implement the base machine logic.

===Custom melee weapons===
{{/doc status|[[Modding:Items#Weapons]]|done=true}}

[[Modding:Items#Weapons|Melee weapons]] are still stored in &lt;samp>Data/Weapons&lt;/samp>, but that asset has been overhauled in Stardew Valley 1.6. The slash-delimited entries are now models to simplify edits and enable new features (like the new &lt;samp>Projectiles&lt;/samp> feature).

===Custom movie concessions===
{{/doc status|[[Modding:Movie theater data]]|done=true}}
: ''See also: [[#Custom movies|custom movies]].''

You could already [[Modding:Movie theater data#Concession data|add/edit concessions]] sold in the [[Movie Theater|movie theater]], but conflicts were likely since each concession had an incrementing numeric ID which matched its position in the vanilla tilesheet.

Stardew Valley 1.6 addresses that with two changes:
&lt;ul>
&lt;li>The &lt;samp>Id&lt;/samp> field is now a [[Modding:Common data field types#Unique string ID|unique string ID]].&lt;/li>
&lt;li>You can now use a different texture with two new required fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture containing the concession's sprite.
|-
| &lt;samp>SpriteIndex&lt;/samp>
| The index within the &lt;samp>Texture&lt;/samp> for the concession sprite, where 0 is the top-left sprite.
|}
&lt;/li>
&lt;/ul>

===Custom museum donations &amp; rewards===
{{/doc status|[[Modding:Museum]]|done=true}}

You can now add/edit the items which the [[museum]] gives back in rewards through the new &lt;samp>Data/MuseumRewards&lt;/samp> data asset.

The ''A Complete Collection'' [[Achievements|achievement]] is automatically adjusted to require any custom donations added too. This is based on the number of donated items though, so removing custom donations later may incorrectly mark the museum complete (since you may have donated enough items to meet the total required).

===Custom fruit trees===
{{/doc status|[[Modding:Fruit trees]]|done=true}}

You can now add custom [[Fruit Trees|fruit trees]] by editing the revamped &lt;samp>Data/FruitTrees&lt;/samp> asset.

For C# mods, the &lt;samp>fruitsOnTree&lt;/samp> field (number of fruit on the tree) has been replaced by &lt;samp>fruit&lt;/samp> (list of fruit items).

Custom trees can be added to the game in two ways:
* Spawn them on [[Modding:Maps|map tiles]] when the location is created, using the new &lt;samp>SpawnTree: fruit {{t|tree ID}} {{o|growth stage on location created}} {{o|growth stage on day-update regrowth}}&lt;/samp> tile property. This must be added on the &lt;samp>Paths&lt;/samp> layer, which must also have tile index 34 from the &lt;samp>paths&lt;/samp> tilesheet.
* Or give the player a seed item in the usual ways (e.g. from [[#Custom shops|a shop]], [[Modding:Mail data|mail letter]], etc).

===Custom objects===
{{/doc status|[[Modding:Items#Objects]]|done=true}}

You can now create/edit objects (the main item type) by editing the new &lt;samp>Data/Objects&lt;/samp> asset, which replaces the previous slash-delimited &lt;samp>Data/objectInformation&lt;/samp>.

Besides the format change, this adds...
* support for custom textures;
* revamped geode drops with support for conditions, probabilities, and item queries;
* expanded food/drink buffs (e.g. set a custom buff ID, add a custom buff icon, etc);
* context tags (moved from the former &lt;samp>Data/ObjectContextTags&lt;/samp> asset);
* [[#Custom data fields|custom fields]] to let framework mods support additional features.

===Custom pants===
{{/doc status|[[Modding:Items#Pants]]|done=true}}

You can now create/edit [[Tailoring#Pants|pants]] by editing the new &lt;samp>Data/Pants&lt;/samp> asset, which replaces &lt;samp>Data/clothingInformation&lt;/samp>.

===Custom shirts===
{{/doc status|[[Modding:Items#Shirts]]|done=true}}

You can now create/edit [[Tailoring#Shirts|shirts]] by editing the new &lt;samp>Data/Shirts&lt;/samp> asset, which replaces &lt;samp>Data/clothingInformation&lt;/samp>.

===Custom tools===
{{/doc status|[[Modding:Items#Tools]]|done=true}}

You can now create/edit [[tools]] by editing the new &lt;samp>Data/Tools&lt;/samp> asset. Note that drawing the tool correctly in the world (ie, while the player is trying to use it) probably still needs custom code.

===Custom wild trees===
{{/doc status|[[Modding:Wild trees]]|done=true}}

You can now create/edit [[Trees|wild trees]] by editing the &lt;samp>Data/WildTrees&lt;/samp> asset.

Custom trees can be added to the game in two ways:
* Spawn them on [[Modding:Maps|map tiles]] when the location is created, using the new &lt;samp>SpawnTree: wild {{t|tree ID}} {{o|growth stage on location created}} {{o|growth stage on day-update regrowth}}&lt;/samp> tile property. This must be added on the &lt;samp>Paths&lt;/samp> layer, which must also have tile index 34 from the &lt;samp>paths&lt;/samp> tilesheet.
* Or give the player a seed item in the usual ways (e.g. from [[#Custom shops|a shop]], [[Modding:Mail data|mail letter]], etc).

===Default recipes===
{{/doc status|[[Modding:Recipe data]]|done=true}}

You can now have [[Modding:Recipe data|crafting and cooking recipes]] that are learned automatically by setting the condition field to &lt;samp>default&lt;/samp>. Any missing default recipes will be learned on day start.

For example, here's the chest entry from &lt;samp>Data/CraftingRecipes&lt;/samp>:
&lt;syntaxhighlight lang="js">
"Chest": "388 50/Home/130/true/default/"
&lt;/syntaxhighlight>

===Global inventories===
C# mods can now set a &lt;samp>chest.GlobalInventoryId&lt;/samp> field to make it share a global inventory with every other chest having the same ID. This replaces the equivalent hardcoded logic for [[Junimo Chest|Junimo chests]], which now just default to a &lt;samp>"JunimoChests"&lt;/samp> global inventory ID. For example, this can be used to have multiple Junimo chest networks or make other containers share inventory.

C# mods can also use this to store items for other mod purposes, by using &lt;samp>Game1.player.team.globalInventories&lt;/samp> or &lt;samp>Game1.player.team.GetOrCreateGlobalInventory(id)&lt;/samp> directly.

===Hats on aquarium fish===
{{/doc status|[[Modding:Fish data]]|done=true}}

Custom [[Modding:Fish data|fish in aquariums]] can now wear [[hats]], just like vanilla [[Sea Urchin|sea urchins]]. This can be enabled by specifying a new field in &lt;samp>Data/AquariumFish&lt;/samp>:

{| class="wikitable"
|-
! index
! field
! purpose
|-
| 7
| hat position
| The pixel position of the hat on the sprite, specified as an object with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> values.
|}

===Context tag changes===
{{/doc status|[[Modding:Items#Context tags]]|done=true}}

====New context tags====
1.6 adds several new [[Modding:Items#Context tags|item context tags]]:

{| class="wikitable"
|-
! context tag
! effect
|-
| &lt;samp>campfire_item&lt;/samp>
| Marks the item as a [[campfire]]. If the item also has the &lt;samp>torch_item&lt;/samp> context tag, when it's placed in the world and turned on...
* campfire flames are drawn over it;
* if the item is [[Modding:Items#Big craftables|big craftable]], light is emitted from its center instead of the top.
|-
| &lt;samp>fish_pond_ignore&lt;/samp>
| Prevents players from adding this fish to [[Fish Pond|fish ponds]], even if it would otherwise match an entry in &lt;samp>Data/FishPondData&lt;/samp>.
|-
| &lt;samp>geode_crusher_ignored&lt;/samp>
| Prevents breaking this item open in a [[Geode Crusher|geode crusher]], even if the item has geode fields in [[#Custom objects|&lt;samp>Data/Objects&lt;/samp>]].
|-
| &lt;samp>item_type_{{t|type}}&lt;/samp>
| For an [[Modding:Items#Objects|object-type item]], the type value from the 'type and category' field. (Non-object items always have the exact tag &lt;samp>item_type_&lt;/samp> with nothing after the last underscore.) This is automatic and shouldn't be set manually. The tag is checked in a few places (''e.g.'' the [[museum]] to check if an item is an artifact or mineral), but most of the game won't be affected.
|-
| &lt;samp>museum_donatable&lt;/samp>&lt;br />&lt;samp>not_museum_donatable&lt;/samp>
| Set whether the item can be donated to the [[museum]], overriding the vanilla logic.
|-
| &lt;samp>not_giftable&lt;/samp>
| Prevents players from gifting this item to NPCs, who'll ignore the item entirely (e.g. as if you were holding a tool).

This only affects gift-giving, it doesn't affect non-gift logic like quest goals or special order objectives. If the NPC also has a &lt;samp>reject_*&lt;/samp> dialogue for the item, the dialogue takes priority.
|-
| &lt;samp>not_placeable&lt;/samp>&lt;br />&lt;samp>placeable&lt;/samp>
| Sets whether the item can be placed on the ground.
|-
| &lt;samp>prevent_loss_on_death&lt;/samp>
| Indicates the item can't be [[Adventurer's Guild#Item Recovery Service|lost when the player dies]].
|-
| &lt;samp>sign_item&lt;/samp>
| Marks the item as a [[Crafting#Signs|sign]], which lets player display items on it or place it on a [[Fish Pond|fish pond]] to show the fish count.
|-
| &lt;samp>torch_item&lt;/samp>
| Marks the item as a [[torch]], which lets the player turn it on/off to emit light.

See also &lt;samp>campfire_item&lt;/samp>.
|}

Context tags which affect [[#Custom machines|machine processing]]:
{| class="wikitable"
|-
! context tag
! effect
|-
| &lt;samp>crystalarium_banned&lt;/samp>
| When applied to a gem or mineral item, prevents players from placing it in a [[crystalarium]].
|-
| &lt;samp>keg_juice&lt;/samp>&lt;br />&lt;samp>keg_wine&lt;/samp>
| Allows processing the item in a [[keg]] to produce a juice or wine variant.
|-
| &lt;samp>preserves_jelly&lt;/samp>&lt;br />&lt;samp>preserves_pickle&lt;/samp>
| Allows processing the item in a [[Preserves Jar|preserves jar]] to produce a jelly or pickled variant.
|-
| &lt;samp>seedmaker_banned&lt;/samp>
| When applied to a seed item, prevents players from placing it in a [[Seed Maker|seed maker]].
|-
| &lt;samp>tapper_item&lt;/samp>
| Marks the item as a [[tapper]] or [[Heavy Tapper|heavy tapper]].
|-
| &lt;samp>tapper_multiplier_{{t|multiplier}}&lt;/samp>
| The multiplier applied to the tapper production speed. For example, &lt;samp>2&lt;/samp> will make items take half their base time (''i.e.'' each item will finish in &lt;sup>base time&lt;/sup>/&lt;sub>speed multiplier&lt;/sub>). Defaults to 1 if omitted.
|}

And informational tags which have no effect on the game logic:
{| class="wikitable"
|-
! context tag
! effect
|-
| &lt;samp>fish_legendary&lt;/samp>&lt;br />&lt;samp>fish_legendary_family&lt;/samp>
| Marks the fish as a [[Fish#Legendary Fish|legendary fish]] or [[Quests#Extended Family|legendary fish family]]. These are purely informational; the legendary fish behavior is determined by data fields like &lt;samp>CatchLimit&lt;/samp> or &lt;samp>IsBossFish&lt;/samp> in [[#Custom locations|&lt;samp>Data/Locations&lt;/samp>]].
|-
| &lt;samp>geode&lt;/samp>
| ''(Added automatically)'' Marks the item as a [[Minerals#Geodes|geode]] item, which can be broken open at [[Blacksmith|Clint's blacksmith shop]] or using a [[Geode Crusher|geode crusher]]. This is added automatically if the geode fields are present in [[#Custom objects|&lt;samp>Data/Objects&lt;/samp>]].
|-
| &lt;samp>id_{{t|item id}}&lt;/samp>
| ''(Added automatically)'' The [[#Custom items|qualified item ID]], like &lt;samp>id_(o)128&lt;/samp>. This can be used to match or exclude an item by ID using context tags. Any spaces in the ID are replaced with underscores, and single quotes are removed.
|-
| &lt;samp>is_machine&lt;/samp>
| ''(Added automatically)'' Indicates the item has [[#Custom machines|machine logic]]. This is added automatically based on &lt;samp>Data/Machines&lt;/samp>.
|-
| &lt;samp>machine_input&lt;/samp>
| ''(Added automatically)'' Whether the item is a machine which accepts items from the player. This is added automatically based on the machine's fields in &lt;samp>Data/Machines&lt;/samp>:
* if &lt;samp>HasInput&lt;/samp> is true;
* ''or'' if any output rules have an &lt;samp>ItemPlacedInMachine&lt;/samp> trigger.
|-
| &lt;samp>machine_output&lt;/samp>
| ''(Added automatically)'' Whether the item is a machine which produces items for the player to collect. This is added automatically based on the machine's fields in &lt;samp>Data/Machines&lt;/samp>:
* if &lt;samp>HasOutput&lt;/samp> is true;
* ''or'' if it has any output rules.
|}

====ItemContextTagManager class====
For C# mods, 1.6 adds a new &lt;samp>ItemContextTagManager&lt;/samp> class which simplifies working with [[Modding:Items#Context tags|item context tags]] and reduces repeated code.

This provides a few utility methods:
{| class="wikitable"
|-
! method
! effect
|-
| &lt;code>GetBaseContextTags(id)&lt;/code>
| Get the base context tags for an item based on its raw data in &lt;samp>Data/Objects&lt;/samp> or &lt;samp>Data/BigCraftables&lt;/samp>. This doesn't include dynamic tags added that are based on instance info (like quality), which you can get using &lt;code>item.GetContextTags()&lt;/code>.
|-
| &lt;code>DoesTagQueryMatch(query, tags)&lt;/code>
| Get whether a context tag query matches the given tags. For example, &lt;code>ItemContextTagManager.DoesTagQueryMatch("bone_item, !fossil_item", item.GetContextTags())&lt;/code> returns true if the item is a bone item but not a fossil (like the [[Bone Flute]]).
|-
| &lt;code>DoAllTagsMatch(requiredTags, actualTags)&lt;/code>&lt;br />&lt;code>DoAnyTagsMatch(requiredTags, actualTags)&lt;/code>
| Get whether every (&lt;samp>DoAllTagsMatch&lt;/samp>) or at least one (&lt;samp>DoAnyTagsMatch&lt;/samp) required tag matches the actual item tags. This supports negated required tags like &lt;samp>"!fossil_item"&lt;/samp> too.
|-
| &lt;code>DoesTagMatch(requiredTag, actualTags)&lt;/code>
| Get whether a single tag matches the actual item tags. This supports negated required tags like &lt;samp>"!fossil_item"&lt;/samp> too.
|-
| &lt;code>SanitizeContextTag(tag)&lt;/code>
| ''(Specialized)'' Replace characters that may appear in item names so they're valid in context tags. For example, &lt;code>SanitizeContextTag("Sam's Boombox")&lt;/code> returns &lt;samp>sams_boombox&lt;/samp>.
|}

====Other context tag changes====
* Context tags are now case-insensitive.

===Inventory class===
For C# mods, 1.6 adds a new &lt;samp>Inventory&lt;/samp> class to manage a list of items. This is used for the &lt;samp>Farmer.items&lt;/samp> and &lt;samp>Chest.items&lt;/samp> fields. It implements &lt;samp>IList&amp;lt;Item&amp;gt;&lt;/samp>, so most existing code should still work fine.

This has three main benefits:
&lt;ul>
&lt;li>It has methods to simplify many common operations. For example:
{| class="wikitable"
|-
! method
! effect
|-
| &lt;code>HasAny()&lt;/code>
| Get whether the inventory contains any items (ignoring empty slots).
|-
| &lt;code>CountItemStacks()&lt;/code>
| Get the number of item stacks in the inventory (ignoring empty slots).
|-
| &lt;code>ContainsId(id)&lt;/code>
| Get whether the inventory contains any item with the given qualified or unqualified item ID.
|-
| &lt;code>ContainsId(id, minCount)&lt;/code>
| Get whether the inventory contains items with the given qualified or unqualified item ID, and their combined stack size is at least &lt;samp>minCount&lt;/samp>.
|-
| &lt;code>CountId(id)&lt;/code>
| Get the combined stack size of all items with the given qualified or unqualified item ID.
|-
| &lt;code>GetById(id)&lt;/code>
| Get a list of items in the inventory with the given qualified or unqualified item ID.
|-
| &lt;code>ReduceId(id, count)&lt;/code>
| Remove the given number of items matching the given qualified or unqualified item ID. This reduces the stack size for matching items until a total of &lt;samp>count&lt;/samp> have been removed, and clears any slots which reach a stack size of zero.
|}&lt;/li>
&lt;li>Many common operations have been unified, so previously player-only methods can now be used with chests too.&lt;/li>
&lt;li>It has an internal index by item ID, so operations like &lt;code>items.ContainsId("(O)128")&lt;/code> are much more efficient since they no longer iterate the list.&lt;/li>
&lt;/ul>

This replaces some previous methods:

{| class="wikitable"
|-
! game class
! old code
! migration
|-
|rowspan="6"| &lt;samp>Farmer&lt;/samp>
| &lt;code>getItemCount(id)&lt;/code>&lt;br />&lt;code>GetTallyOfObject(id)&lt;/code>&lt;br />&lt;code>GetTallyOfObject(id, isBigCraftable)&lt;/code>&lt;br />&lt;code>hasItemInInventory(id, count)&lt;/code>&lt;br />&lt;code>hasItemInList(list, id, count)&lt;/code>
| &amp;#32;
* To check an item ID, use &lt;code>items.CountId(id)&lt;/code> or &lt;code>Items.ContainsId(id, count)&lt;/code>.
* To check Golden Walnuts or Qi Gems, use the &lt;samp>Game1.netWorldState.Value.GoldenWalnuts&lt;/samp> and &lt;samp>Farmer.QiGems&lt;/samp> fields.
* To check category matches or &lt;samp>-777&lt;/samp> (seasonal wild seeds), the &lt;samp>getItemCount&lt;/samp> and &lt;samp>getItemCountInList&lt;/samp> still exist.
|-
| &lt;code>hasItemInInventoryNamed(name)&lt;/code>&lt;br />&lt;code>hasItemWithNameThatContains(name)&lt;/code>
| In most cases, you should match items by ID instead (see the previous row).

If you really need to match items by name, you can replace it like this:
&lt;syntaxhighlight lang="c#">
// exact name
bool hasMatch = Game1.player.Items.Any(item => item?.Name == name);

// name contains
bool hasMatch = Game1.player.Items.Any(item => item?.Name?.Contains(name) is true);
&lt;/syntaxhighlight>
|-
| &lt;code>areAllItemsNull()&lt;/code>
| Use &lt;code>!items.HasAny()&lt;/code>.
|-
| &lt;code>numberOfItemsInInventory()&lt;/code>
| Use &lt;code>items.CountItemStacks()&lt;/code> to count all items, or &lt;code>Items.Count(p => p is Object)&lt;/code> to match this method's actual behavior.
|-
| &lt;code>consumeObject(id, count)&lt;/code>
| Use &lt;code>items.ReduceId(id, count)&lt;/code>.
|-
| &lt;code>removeItemsFromInventory(id, count)&lt;/code>
| &amp;#32;
* To remove an item by ID, use &lt;code>items.ReduceId(id, count)&lt;/code>.
* To deduct Golden Walnuts or Qi Gems, change the &lt;samp>Game1.netWorldState.Value.GoldenWalnuts&lt;/samp> and &lt;samp>Farmer.QiGems&lt;/samp> fields.
|-
|rowspan="2"| &lt;samp>Object&lt;/samp>
| &lt;code>ConsumeInventoryItem(player, id, count)&lt;/code>
| This was somewhat specialized and shouldn't be called by mod code, but the equivalent would be &lt;code>(Object.autoLoadChest ?? player.items).ReduceId(id, count)&lt;/code>. See also notes for &lt;samp>Farmer.removeItemsFromInventory&lt;/samp>.
|-
| &lt;code>GetTallyOfObject(player, id)&lt;/code>
| This was somewhat specialized and shouldn't be called by mod code, but the equivalent would be &lt;code>(Object.autoLoadChest ?? player.items).CountId(id)&lt;/code>. See also notes for &lt;samp>Farmer.getTallyOfObject&lt;/samp>.
|}

It implements a new &lt;samp>IInventory&lt;/samp> interface, which lets mods pass their own implementations to code which works on inventories.

===Furniture changes===
{{/doc status|[[Modding:Items#Furniture]]|done=true}}

&lt;ul>
&lt;li>[[Modding:Items#Furniture|&lt;samp>Data/furniture&lt;/samp>]] no longer has language variants. Translations were moved into &lt;samp>Strings/Furniture&lt;/samp>.&lt;/li>
&lt;li>
There are a few changes in [[Modding:Items#Furniture|&lt;samp>Data/furniture&lt;/samp>]]:
&lt;ul>
&lt;li>Field index 6 is now placement restrictions and field index 7 is now display name. The display name field is no longer omitted in English.&lt;/li>
&lt;li>Field index 7 (display name) now allows [[Modding:Tokenizable strings|tokenizable strings]].&lt;/li>
&lt;li>Added new fields:

{| class="wikitable"
|-
! index
! field
! effect
|-
| 8
| sprite index
| The sprite index within the spritesheet texture to draw.
|-
| 9
| texture
| ''(Optional)'' The asset name of the texture to draw. Defaults to &lt;samp>TileSheets/furniture&lt;/samp>.
|-
| 10
| off limits for random sale
| ''(Optional)'' Whether to prevent this furniture from appearing in randomly generated shop stocks and the furniture catalogue. Default false.
|-
| 11
| context tags
| ''(Optional)'' A space-delimited list of [[Modding:Items#Context tags|context tags]] which apply to this furniture. Default none.
|}&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>

===Other item changes for C# mods===
* Placed object changes:
** Every placed object now has a &lt;samp>Location&lt;/samp> property set to the location which contains it. This removes location parameters from many object methods.
** Setting an object's tile position through &lt;samp>obj.TileLocation&lt;/samp> now recalculcates its collision box automatically. (Setting it through the &lt;samp>tileLocation&lt;/samp> net field directly won't though.)
** The &lt;samp>obj.IsScarecrow()&lt;/samp> and &lt;samp>GetScarecrowRadius()&lt;/samp> methods now work for non-bigcraftable objects too.
* Clothing changes:
** &lt;samp>Clothes.clothesType&lt;/samp> is now an enum field.
** Clothing is no longer gender-specific. This renames &lt;samp>indexInTileSheetMale&lt;/samp> to &lt;samp>indexInTileSheet&lt;/samp>, obsoletes &lt;samp>indexInTileSheetFemale&lt;/samp>, and converts gender-variant clothing into regular items.
** Removed unused &lt;samp>ClothesType.ACCESSORY&lt;/samp> value.
** &lt;samp>Farmer.pants&lt;/samp> and &lt;samp>Farmer.shirt&lt;/samp> now store the item ID instead of the sprite index.
** In &lt;samp>Data/TailoringRecipes&lt;/samp>, added a &lt;samp>CraftingIdFeminine&lt;/samp> field which overrides &lt;samp>CraftingId&lt;/samp> for female characters.
* Crop changes:
** Added &lt;samp>Game1.cropData&lt;/samp> to read crop info without constantly reloading the &lt;samp>Data/Crops&lt;/samp> asset.
** Removed most crop fields which only mirror the data (like &lt;samp>harvestMethod&lt;/samp> or &lt;samp>seasonsToGrowIn&lt;/samp>). Mods can get the info through &lt;samp>crop.GetData()&lt;/samp> instead.
** Partly de-hardcoded fertilizer logic. Almost all fertilizer logic is now centralized into a new patchable set of &lt;samp>HoeDirt&lt;/samp> methods (see list below). The only fertilizer logic that's still embedded elsewhere is the interaction errors in &lt;samp>Utility.tryToPlaceItem&lt;/samp>.
** HoeDirt.fertilizer.Value is now set to &lt;samp>null&lt;/samp> when there is no fertilizer. Both qualified and unqualified IDs should be expected.
** Removed &lt;samp>crop.InferSeedIndex()&lt;/samp>. This was used to support old crops, which are now fixed by a save migration instead.
* Tool changes:
** Fixed various logic not handling custom tool upgrade levels.
&lt;ul>
&lt;li>Other item logic:&lt;ul>
&lt;li>Simplified the constructors for many item types, particularly &lt;samp>Object&lt;/samp>.&lt;/li>
&lt;li>[[Honey]] items now have their &lt;samp>preserve&lt;/samp> field set to a new &lt;samp>Honey&lt;/samp> type (instead of null).&lt;/li>
&lt;li>The &lt;samp>Object.performObjectDropInAction&lt;/samp> method now applies the &lt;samp>probe&lt;/samp> argument much more consistently. This only affects method calls with &lt;samp>probe: true&lt;/samp>.&lt;/li>
&lt;li>The &lt;samp>Item.salePrice()&lt;/samp> method now has option to get the price without [[Multiplayer#Profit margins|profit margins]].&lt;/li>
&lt;li>Added new fields &amp; methods:

{| class="wikitable"
|-
! type
! field/method
! effect
|-
| &lt;samp>Chest&lt;/samp>
| &lt;samp>GetItemsForPlayer()&lt;/samp>
| Shortcut for &lt;samp>chest.GetItemsForPlayer(Game1.player.UniqueMultiplayerID)&lt;/samp>.
|-
| rowspan="2"| &lt;samp>Crop&lt;/samp>
| &lt;samp>GetHarvestMethod()&lt;/samp>
| Get the method used to harvest the crop (one of &lt;samp>HarvestMethod.Grab&lt;/samp> or &lt;samp>HarvestMethod.Scythe&lt;/samp>).
|-
| &lt;samp>IsInSeason(location)&lt;/samp>
| Whether the crop can grow in the location's current season (or true if crops ignore seasons in the location, like the [[greenhouse]]).
|-
| rowspan="8"| &lt;samp>HoeDirt&lt;/samp>
| &lt;samp>HasFertilizer()&lt;/samp>
| Get whether the dirt has any fertilizer applied.
|-
| &lt;samp>CanApplyFertilizer(itemId)&lt;/samp>
| Get whether a player can apply the given fertilizer to this dirt.
|-
| &lt;samp>CheckApplyFertilizerRules(itemId)&lt;/samp>
| Get whether a player can apply the given fertilizer to this dirt, and the reason they can't if applicable.
|-
| &lt;samp>GetFertilizerSpeedBoost()&lt;/samp>
| Get the crop growth speed boost from fertilizers applied to this dirt.
|-
| &lt;samp>GetFertilizerWaterRetentionChance()&lt;/samp>
| Get the water retention chance from fertilizers applied to this dirt, as a value between 0 (no change) and 1 (100% chance of staying watered).
|-
| &lt;samp>GetFertilizerQualityBoostLevel()&lt;/samp>
| Get the quality boost level from fertilizers applied to this dirt, which influences the chance of producing a higher-quality crop.
|-
| &lt;samp>GetFertilizerSourceRect()&lt;/samp>
| Get the pixel area within the dirt spritesheet to draw for any fertilizer applied to this dirt.

(This method existed before, but no longer requires the fertilizer ID argument.)
|-
| &lt;samp>isWatered()&lt;/samp>
| Get whether the dirt is currently watered.
|-
|rowspan="5"| &lt;samp>Item&lt;/samp>
| &lt;samp>IsRecipe&lt;/samp>&lt;br />&lt;samp>Quality&lt;/samp>&lt;br />&lt;samp>Stack&lt;/samp>&lt;/samp>&lt;br />&lt;samp>sellToStorePrice(…)&lt;/samp>
| Equivalent to the previous &lt;samp>Object&lt;/samp> fields/methods, to simplify common code and avoid needing to special-case &lt;samp>Object&lt;/samp> items.
|-
| &lt;samp>appliesProfitMargins()&lt;/samp>
| Get whether this item should apply [[Multiplayer#Profit margins|profit margins]] to shop prices.
|-
| &lt;samp>CanBeLostOnDeath()&lt;/samp>
| Get whether this item can be lost when the player dies, so it can be recovered from the [[Adventurer's Guild#Item Recovery Service|item recovery service]].
|-
| &lt;samp>HasTypeId(id)&lt;/samp>&lt;br />&lt;samp>HasTypeObject()&lt;/samp>&lt;br />&lt;samp>HasTypeBigCraftable()&lt;/samp>
| Get whether the item has the given [[#Custom items|type definition ID]]. These are null-safe and double as a null check:
&lt;syntaxhighlight lang="c#">
if (item.HasTypeId(ItemRegistry.type_object))
{
    // item is non-null and has type (O)
}
&lt;/syntaxhighlight>
&lt;samp>HasTypeObject()&lt;/samp> and &lt;samp>HasTypeBigCraftable()&lt;/samp> are shortcuts for passing &lt;samp>ItemRegistry.type_object&lt;/samp> and &lt;samp>ItemRegistry.type_bigCraftable&lt;/samp> respectively.
|-
| &lt;samp>TryGetTempData&lt;/samp>&lt;br />&lt;samp>SetTempData&lt;/samp>
| Get or set temporary item info that's not synchronized in multiplayer or written to the save file.

For example, the game uses this to pass spawn options to the fishing minigame:
&lt;syntaxhighlight lang="c#">
if (spawn.IsBossFish)
    fish.SetTempData(nameof(spawn.IsBossFish), true);

...

fish.TryGetTempData(nameof(SpawnFishData.IsBossFish), out bool bossFish);
&lt;/syntaxhighlight>
|-
| &lt;samp>FishingRod&lt;/samp>
| &lt;samp>CanUseBait()&lt;/samp>&lt;br />&lt;samp>CanUseTackle()&lt;/samp>&lt;br />&lt;samp>GetBait()&lt;/samp>&lt;br />&lt;samp>GetTackle()&lt;/samp>&lt;br />&lt;samp>HasMagicBait()&lt;/samp>&lt;br />&lt;samp>HasCuriosityLure()&lt;/samp>
| Simplifies working with the fishing rod's [[bait]] and [[tackle]].
|-
|rowspan="2"| &lt;samp>Furniture&lt;/samp>
| &lt;samp>SetPlacement&lt;/samp>&lt;br />&lt;samp>SetHeldObject&lt;/samp>
| Set the furniture's position and rotation (&lt;samp>SetPlacement&lt;/samp>) or held object (&lt;samp>SetHeldObject&lt;/samp>). The latter will initialize the held object's tile position to match the furniture instance.

These are used by the game to initialize furniture in one go. For example:
&lt;syntaxhighlight lang="c#">
// oak table holding decorative bowl
Furniture table = ItemRegistry
    .Create&lt;Furniture>("(F)1120")
    .SetPlacement(5, 4, 0)
    .SetHeldObject(ItemRegistry.Create&lt;Furniture>("(F)1364"));
&lt;/syntaxhighlight>
|-
| &lt;samp>IsTable()&lt;/samp>
| Get whether this furniture is a table.
|-
|rowspan="2"| &lt;samp>FruitTree&lt;/samp>
| &lt;samp>GetQuality()&lt;/samp>
| Get the quality of fruit currently being produced by the fruit tree.
|-
| &lt;samp>TryAddFruit()&lt;/samp>
| Add a fruit item to the tree based on [[#Custom fruit trees|its data]].
|-
| &lt;samp>IndoorPot&lt;/samp>
| &lt;samp>Water()&lt;/samp>
| Simplifies watering dirt in the [[Garden Pot|garden pot]].
|-
| &lt;samp>Object&lt;/samp>
| &lt;samp>GetBoundingBox()&lt;/samp>&lt;br />&lt;samp>GetBoundingBoxAt(x, y)&lt;/samp>
| Get the pixel collision area for the item placed in the world. These replace the former &lt;samp>getBoundingBox(position)&lt;/samp> method.
|-
| &lt;samp>Tool&lt;/samp>
| &lt;samp>isScythe()&lt;/samp>
| Equivalent to the previous &lt;samp>MeleeWeapon&lt;/samp> method, to simplify common code and avoid needing to special-case &lt;samp>MeleeWeapon&lt;/samp> items.
|-
|rowspan="3"| &lt;samp>Tree&lt;/samp>
| &lt;samp>CheckForNewTexture()&lt;/samp>
| Reset the tree's texture if it would change based on [[#Custom wild trees|its data]].
|-
| &lt;samp>GetMaxSizeHere&lt;/samp>
| Get the maximum size the tree can grow in its current position (e.g. accounting for nearby trees blocking growth).
|-
| &lt;samp>IsGrowthBlockedByNearbyTree&lt;/samp>
| Get whether growth is blocked because it's too close to another fully-grown tree.
|}
&lt;/li>
&lt;li>Modularized &lt;samp>Object.CheckForAction&lt;/samp> to simplify mod patches.&lt;/li>
&lt;li>Reworked &lt;samp>Item.getOne()&lt;/samp> implementation to avoid common pitfalls. (This only affects mods with custom item classes, or which patch &lt;samp>Item.getOne&lt;/samp> or &lt;samp>Item._GetOneFrom&lt;/samp>.)&lt;/li>
&lt;li>Fixed fruit trees forgetting the growth stage set in their constructor when they're updated overnight.&lt;/li>
&lt;/ul>

===Other item changes===
* Added per-object display names (''e.g.'' for custom flavored items). See the &lt;samp>ObjectDisplayName&lt;/samp> [[Modding:Item queries#Item spawn fields|item spawn field]], or &lt;samp>object.displayNameFormat&lt;/samp> in C#.
* [[Ginger Island#Gem Birds|Item pedestals]] are now normal item, so you can spawn them using a mod like CJB Item Spawner to display items.
* Added optional &lt;samp>Condition&lt;/samp> [[Modding:Game state queries|game state query]] field to &lt;samp>Data/SpecialOrders&lt;/samp>.
* Item data changes:
** The display name field now exists in English too for &lt;samp>Data/Boots&lt;/samp>, &lt;samp>Data/Bundles&lt;/samp>, &lt;samp>Data/CookingRecipes&lt;/samp>, &lt;samp>Data/CraftingRecipes&lt;/samp>, &lt;samp>Data/Furniture&lt;/samp>, &lt;samp>Data/Hats&lt;/samp>, and &lt;samp>Data/Weapons&lt;/samp>.
** The randomly spawned [[The Farm#Stone|stones]], [[The Farm#Wood|twigs]], and [[weeds]] have been formalized into ''litter''. They all now have object type &lt;samp>Litter&lt;/samp>, [[Modding:Items#Categories|category]] -999 (&lt;samp>StardewValley.Object.litterCategory&lt;/samp>), a relevant display name/description (like ''Gold Stone'' &amp; ''Break apart to obtain gold ore'' instead of ''Stone'' &amp; ''...''), a price of 0 (not sellable), and edibility of -300 (inedible). This also adds all mine ore nodes to &lt;samp>Data/Objects&lt;/samp>, so the game no longer creates invalid items to show their sprite. (Doing so in 1.6 will now show an Error Item sprite instead.)
** [[Honey]] items now have the &lt;samp>honey_item&lt;/samp> context tag.
** Shirts no longer have a dynamic numeric ID range; every valid shirt is now listed in [[#Custom shirts|&lt;samp>Data/Shirts&lt;/samp>]].
** You can now apply a custom buff ID when the item is eaten, via &lt;samp>Data/Objects&lt;/samp>'s &lt;samp>Buff&lt;/samp> field.
** The type field in &lt;samp>Data/Objects&lt;/samp> is no longer checked using substring matching (e.g. the game now uses &lt;code>data.Type == "Fish"&lt;/code> instead of &lt;code>typeAndCategory.Contains("Fish")&lt;/code>), which may impact mods which depended on that undocumented behavior.
* Crop changes:
** Paddy crops now recheck for nearby water each day, so they'll update if you add/remove a building with water or change the map layout.
** In &lt;samp>Data/Crops&lt;/samp>, each harvest option is now self-contained. For example, you can set &lt;samp>HarvestMinStack&lt;/samp> without &lt;samp>ExtraHarvestChance&lt;/samp>.
* Fish changes:
** &lt;samp>Data/Fish&lt;/samp> is no longer translated, so there's only one &lt;samp>Data/Fish.xnb&lt;/samp> field. Fish display names are now taken from &lt;samp>Data/Objects&lt;/samp>.
** Added a new field (index 13) in &lt;samp>Data/Fish&lt;/samp>, which sets whether the fish can be selected for the first-catch tutorial.
* Recipe changes in &lt;samp>Data/CookingRecipes&lt;/samp> and &lt;samp>Data/CraftingRecipes&lt;/samp>:
** These assets no longer have language variants.
** The display name now supports [[Modding:Tokenizable strings|tokenizable strings]].
** The display name can now be left blank to get it from the first item in the output list.
* Other item logic:
** Missing recipes that should already be unlocked are now added to the player automatically on save load.
** &lt;samp>Data/Bundles&lt;/samp> is now loaded later, so content packs can edit it reliably.&lt;/samp>
** Chests with &lt;samp>fridge: true&lt;/samp> are now treated as mini-fridges for the cooking menu.
** Gift boxes can now contain multiple items.
** Fixed furniture drawn over sitting players if it has no front texture.
** Fixed tool being upgraded by Clint not affected by recursive item search logic.
** Fixed &lt;samp>tool.getOne()&lt;/samp> not copying the tool name.
** Fixed cooking menu constantly creating hovered item if the item/recipe names don't match.

==What's new for locations &amp; weather==
===Custom locations===
{{/doc status|[[Modding:Location data]]|done=true}}

You can now add/edit locations by editing the revamped &lt;samp>Data/Locations&lt;/samp> asset. This makes nearly everything in the location configurable — display name, default warp arrival tile, how the location is created, artifact spots / fish / forage / weeds, music, etc.

See [[Modding:Location data]] for docs on the new data format.

===Custom location contexts===
{{/doc status|[[Modding:Location data]] or a new doc page|done=false}}

====Vanilla contexts====
* The game previously had two hardcoded location context enums: &lt;samp>Default&lt;/samp> (for the valley) and &lt;samp>Island&lt;/samp> (for [[Ginger Island]]). These have been replaced with data models which define the location context settings, loaded from the &lt;samp>Data/LocationContexts&lt;/samp> asset.
* [[The Desert|The desert]] is now part of a new &lt;samp>Desert&lt;/samp> context (instead of &lt;samp>Default&lt;/samp>). Some of the previously hardcoded desert logic (like always sunny weather) is now just part of the context data in &lt;samp>Data/LocationContexts&lt;/samp>.

====Format====
Custom contexts can be created by editing the new &lt;samp>Data/LocationContexts&lt;/samp> asset, and setting the context name in the location's &lt;samp>LocationContext&lt;/samp> [[Modding:Maps|map property]].

The data asset consists of a string → model lookup, where the key matches the &lt;samp>Name&lt;/samp> field and the value is a model with these fields:

&lt;dl style="margin-left: 2em;">
&lt;dt>Required fields:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Name&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the location context.
|}
&lt;/dd>

&lt;dt>Player actions:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>AllowRainTotem&lt;/samp>
| ''(Optional)'' Whether a [[Rain Totem|rain totem]] can be used to force rain in this context tomorrow. If false, using a rain totem here will show a "''this item can't be used here''" message instead.
|-
| &lt;samp>RainTotemAffectsContext&lt;/samp>
| ''(Optional)'' If set, using a rain totem here will change the weather in the given context ID. For example, rain totems in the desert change weather in the valley.
|-
| &lt;samp>MaxPassOutCost&lt;/samp>
| ''(Optional)'' When the player passes out (due to [[energy|exhaustion]] or at 2am) in this context, the maximum amount of [[gold]] lost. If omitted or set to &lt;samp>-1&lt;/samp>, uses the same value as the &lt;samp>Default&lt;/samp> context ({{price|1000}} by default).
|-
| &lt;samp>PassOutMail&lt;/samp>
| ''(Optional)'' When the player passes out (due to [[energy|exhaustion]] or at 2am) in this context, the possible [[Modding:Mail data|letter IDs]] to add to their mailbox (if they haven't received it before). If multiple letters are valid, one will be chosen randomly (unless one specifies &lt;samp>SkipRandomSelection&lt;/samp>).

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry in the list.
|-
| &lt;samp>Mail&lt;/samp>
| The [[Modding:Mail data|letter ID]] to add.

The game will look for an existing letter ID in &lt;samp>Data/mail&lt;/samp> in this order (where {{t|billed}} is &lt;samp>Billed&lt;/samp> if they lost [[gold]] or &lt;samp>NotBilled&lt;/samp> otherwise, and {{t|gender}} is &lt;samp>Female&lt;/samp> or &lt;samp>Male&lt;/samp>):
* &lt;samp>{{t|letter id}}_{{t|billed}}_{{t|gender}}&lt;/samp>
* &lt;samp>{{t|letter id}}_{{t|billed}}&lt;/samp>
* &lt;samp>{{t|letter id}}&lt;/samp>

If no match is found in &lt;samp>Data/mail&lt;/samp>, the game will send &lt;samp>passedOut2&lt;/samp> instead.

If the mail ID starts with &lt;samp>passedOut&lt;/samp>, &lt;samp>{0}&lt;/samp> in the letter text will be replaced with the gold amount lost, and it won't appear in the [[collections]] page.
|-
| &lt;samp>MaxPassOutCost&lt;/samp>
| ''(Optional)'' The maximum amount of [[gold]] lost. This is applied after the context's &lt;samp>MaxPassOutCost&lt;/samp> (i.e. the context's value is used to calculate the random amount, then this field caps the result). Defaults to unlimited.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry is active. Defaults to always true.
|-
| &lt;samp>SkipRandomSelection&lt;/samp>
| ''(Optional)'' If true, send this mail if the &lt;samp>Condition&lt;/samp> matches instead of choosing a random valid mail. Default false.
|}
|-
| &lt;samp>PassOutLocations&lt;/samp>
| ''(Optional)'' When the player passes out (due to [[energy|exhaustion]] or at 2am) in this context ''and'' they started the day in a different location context, the locations where they'll wake up. (If the player started the day in the same context, they'll wake up in the last bed they slept in instead.)

If the selected location doesn't contain a bed and doesn't have the [[#New map properties|&lt;samp>AllowWakeUpWithoutBed&lt;/samp> map property]], the player will wake up in the farmhouse instead.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry in the list.
|-
| &lt;samp>Location&lt;/samp>
| The internal location name.
|-
| &lt;samp>Position&lt;/samp>
| The ''default'' tile position within the location, specified as an object with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. If the location has any bed furniture, they'll be placed in the first bed found instead.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry is active. Defaults to always applied.
|}

If no locations are specified or none match, the player will wake up in their bed at home.
|-
| &lt;samp>ReviveLocations&lt;/samp>
| ''(Optional)'' If the player just got knocked out in combat, the location names where they'll wake up.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry in the list.
|-
| &lt;samp>Location&lt;/samp>
| The internal location name.
|-
| &lt;samp>Position&lt;/samp>
| The tile position within the location, specified as an object with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry is active. Defaults to always applied.
|}

If the selected location has a standard [[Modding:Event data|event]] with the exact key &lt;samp>PlayerKilled&lt;/samp> (with no &lt;samp>/&lt;/samp> or preconditions in the key), that event will play when the player wakes up and the game will apply the lost items or [[gold]] logic. The game won't track this event, so it'll repeat each time the player is revived. If there's no such event, the player will wake up without an event, and no items or gold will be lost.

If no locations are specified or none match, the player will wake up at [[Harvey's Clinic|Harvey's clinic]].
|}
&lt;/dd>

&lt;dt>Season:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>SeasonOverride&lt;/samp>
| ''(Optional)'' The season which is always active for locations within this context (one of &lt;samp>spring&lt;/samp>, &lt;samp>summer&lt;/samp>, &lt;samp>fall&lt;/samp>, or &lt;samp>winter&lt;/samp>). For example, setting &lt;samp>summer&lt;/samp> will make it always [[summer]] there regardless of the calendar season. If not set, the calendar season applies.
|}
&lt;/dd>

&lt;dt>Weather:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>WeatherConditions&lt;/samp>
| ''(Optional)'' The weather logic to apply for locations in this context (ignored if &lt;samp>CopyWeatherFromLocation&lt;/samp> is set). Defaults to always sunny. If multiple are specified, the first matching weather is applied.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry in the list.
|-
| &lt;samp>Weather&lt;/samp>
| The [[#Custom weather|weather ID]] to set.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether to apply the weather. Defaults to always applied.
|}
|-
| &lt;samp>CopyWeatherFromLocation&lt;/samp>
| ''(Optional)'' The &lt;samp>Name&lt;/samp> (i.e. unique ID) of the location context from which to inherit weather.
|}

If a [[#Custom passive festivals|passive festival]] is active in any location within this context, the weather is sunny for the entire context regardless of these fields.

&lt;/dd>

&lt;dt>Music:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DefaultMusic&lt;/samp>
| ''(Optional)'' The [[#Custom audio|cue ID]] for the music to play when the player is in the location, unless overridden by a &lt;samp>Music&lt;/samp> map property. Despite the name, this has a higher priority than the seasonal music fields below. Ignored if omitted.
|-
| &lt;samp>DefaultMusicCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which returns whether the &lt;samp>DefaultMusic&lt;/samp> field should be applied (if more specific music isn't playing). Defaults to always true.
|-
| &lt;samp>DefaultMusicDelayOneScreen&lt;/samp>
| ''(Optional)'' When the player warps and the music changes, whether to silence the music and play the ambience (if any) until the next warp (similar to the default valley locations). Default false.
|-
| &lt;samp>Music&lt;/samp>
| ''(Optional)'' A list of [[#Custom audio|cue IDs]] to play before noon in this location unless it's raining, there's a &lt;samp>Music&lt;/samp> map property, or the context has a &lt;samp>DefaultMusic&lt;/samp> value. If multiple values are specified, the game will play one per day in sequence.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| ''(Optional)'' A [[Modding:Common data field types#Unique string ID|unique string ID]] which identifies this entry within the list. Defaults to the &lt;samp>Track&lt;/samp> value.
|-
| &lt;samp>Track&lt;/samp>
| The [[Modding:Migrate to Stardew Valley 1.6#Custom audio|audio track ID]] to play.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry applies. Default true.
|}
|-
| &lt;samp>DayAmbience&lt;/samp>&lt;br />&lt;samp>NightAmbience&lt;/samp>
| ''(Optional)'' The [[#Custom audio|cue ID]] for the background ambience to play when there's no music active, depending on the [[Day Cycle|time of day]]. Both default to none.
|-
| &lt;samp>PlayRandomAmbientSounds&lt;/samp>
| ''(Optional)'' Whether to play random outdoor ambience sounds depending on factors like the season and time of day (e.g. birds, crickets, and mysterious groan sounds in the rain). This is unrelated to the &lt;samp>DayAmbience&lt;/samp> and &lt;samp>NightAmbience&lt;/samp> fields. Default true.
|}
&lt;/dd>

&lt;dt>Advanced:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}
&lt;/dd>
&lt;/dl>

===Custom garbage cans===
{{/doc status|a new doc page|done=false}}

====Format====
You can now add or edit [[Garbage Can|garbage cans]] on any map by editing the new &lt;samp>Data/GarbageCans&lt;/samp> asset (see examples below).

The asset consists of a data model with these fields:

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DefaultBaseChance&lt;/samp>
| The probability that an item will be found when searching garbage cans, as a value between 0 (never) and 1 (always). If the probability check fails, only items that set &lt;samp>IgnoreBaseChance&lt;/samp> can spawn. This can be overridden by the per-garbage-can &lt;samp>BaseChance&lt;/samp> field. Default 0.2.
|-
| &lt;samp>BeforeAll&lt;/samp>&lt;br />&lt;samp>AfterAll&lt;/samp>
| The items to prepend (&lt;samp>BeforeAll&lt;/samp>) or append (&lt;samp>AfterAll&lt;/samp>) to the &lt;samp>GarbageCans&lt;/samp> → &lt;samp>Items&lt;/samp> field for all garbage cans. These work exactly like the items in that field (e.g. subject to the garbage can's base chance).
|-
| &lt;samp>GarbageCans&lt;/samp>
| The data for individual garbage cans. This consists of a string → model lookup with these fields:

{| class="wikitable"
|-
! field
! effect
|-
| ''entry key''
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this garbage can.
|-
| &lt;samp>BaseChance&lt;/samp>
| ''(Optional)'' If set, overrides the root &lt;samp>DefaultBaseChance&lt;/samp> field for this garbage can. Defaults to &lt;samp>DefaultBaseChance&lt;/samp>.
|-
| &lt;samp>Items&lt;/samp>
| ''(Optional)'' The items to try spawning when the player searches the garbage can. The first matching item in &lt;samp>BeforeAll&lt;/samp> + &lt;samp>Items&lt;/samp> + &lt;samp>AfterAll&lt;/samp> will be spawned, and any further items will be ignored. Defaults to none.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields supported by garbage cans.

If set to an [[Modding:Item queries|item query]] which returns multiple items, one of them will be selected at random.
|-
| &lt;samp>IgnoreBaseChance&lt;/samp>
| ''(Optional)'' Whether this item can spawn even if the &lt;samp>BaseChance&lt;/samp> probability check didn't pass. Default false.
|-
| &lt;samp>IsMegaSuccess&lt;/samp>
| ''(Optional)'' Whether to treat this item as a 'mega success' if it's selected, which plays a special &lt;samp>crit&lt;/samp> sound and bigger animation. Default false.
|-
| &lt;samp>IsDoubleMegaSuccess&lt;/samp>
| ''(Optional)'' Whether to treat this item as an 'double mega success' if it's selected, which plays an explosion sound and dramatic animation. Default false.
|-
| &lt;samp>AddToInventoryDirectly&lt;/samp>
| ''(Optional)'' Whether to add the item to the player's inventory directly, opening an item grab menu if they don't have room in their inventory. If false, the item will be dropped on the ground next to the garbage can instead. Default false.
|-
| &lt;samp>CreateMultipleDebris&lt;/samp>
| ''(Optional)'' Whether to split the spawned item into multiple stacks which each have a stack size of one. This has no effect if &lt;samp>AddToInventoryDirectly&lt;/samp> is enabled. Default false.
|}
|}

If the garbage can being searched doesn't have its own entry under &lt;samp>GarbageCans&lt;/samp>, the game will just use the &lt;samp>BeforeAll&lt;/samp> and &lt;samp>AfterAll&lt;/samp> fields.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

====Example new garbage can====
You can add garbage cans using only [[Modding:Content Patcher|Content Patcher]] or [[Modding:Modder Guide/APIs/Content|SMAPI's content API]]. For example, this content pack adds a new garbage can entry with the ID &lt;samp>Example.ModId_Carpenter&lt;/samp>:

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/GarbageCans",
            "TargetField": [ "GarbageCans" ],
            "Entries": {
                "{{ModId}}_Carpenter": {
                    "Items": [
                        // 25% chance of pufferfish
                        {
                            "ID": "{{ModId}}_Pufferfish",
                            "Condition": "RANDOM 0.25",
                            "ItemId": "(O)128"
                        },

                        // else guaranteed random House Plant item
                        {
                            "ID": "{{ModId}}_RandomHousePlant",
                            "ItemID": "RANDOM_ITEMS (F) 1376 1390"
                        }
                    ]
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

Then you'd place an &lt;code>Action: Garbage Example.ModId_Carpenter&lt;/code> [[Modding:Maps|map tile property]] to mark a tile as a garbage can using this data.

====Example change for existing garbage can====
You can edit an existing garbage cans using only [[Modding:Content Patcher|Content Patcher]] or [[Modding:Modder Guide/APIs/Content|SMAPI's content API]]. For example, this content pack adds pufferfish to the Saloon garbage can, and moves it above the dish of the day.

Note that this uses &lt;samp>TargetField&lt;/samp> to 'move into' the item list for the saloon, and then treat those items as the entry list being edited. Specifying an ID which isn't in the list will add a new entry, just like when editing a regular list asset.

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/GarbageCans",
            "TargetField": [ "GarbageCans", "Saloon", "Items" ],
            "Entries": {
                // 25% chance of pufferfish
                
                "{{ModId}}_Pufferfish":{
                    "ID": "{{ModId}}_Pufferfish",
                    "Condition": "RANDOM 0.25",
                    "ItemId": "(O)128"
                }
            },
            "MoveEntries": [
                { "ID": "{{ModId}}_Pufferfish", "BeforeId": "Base_DishOfTheDay" }
            ]
        }
    ]
}&lt;/nowiki>|lang=javascript}}

====Changes for C# mods====
Previously garbage cans were tracked by &lt;samp>Town.garbageChecked&lt;/samp>, an array of boolean fields. That approach doesn't work in Stardew Valley 1.6, since we're no longer limited to a specific set of garbage cans in the town map. This has been replaced by &lt;samp>Game1.netWorldState.Value.CheckedGarbage&lt;/samp>, which is a hash set of garbage can IDs.

To migrate code:
{| class="wikitable"
|-
! action
! code in 1.5.6
! code in 1.6
|-
| check if a garbage can was searched
| &lt;syntaxhighlight lang="js">
Town town = (Town)Game1.getLocationFromName("Town");
if (town.garbageChecked[5])
   ...
&lt;/syntaxhighlight>
| &lt;syntaxhighlight lang="js">
if (Game1.netWorldState.Value.CheckedGarbage.Contains("Saloon"))
   ...
&lt;/syntaxhighlight>
|-
| mark a garbage can searched
| &lt;syntaxhighlight lang="js">
Town town = (Town)Game1.getLocationFromName("Town");
town.garbageChecked[5] = true;
&lt;/syntaxhighlight>
| &lt;syntaxhighlight lang="js">
Game1.netWorldState.Value.CheckedGarbage.Add("Saloon");
&lt;/syntaxhighlight>
|}

To migrate former vanilla trash can IDs:
{| class="wikitable"
|-
! position
! ID in 1.5.6
! ID in 1.6
|-
| Near [[Jodi]] and [[Kent]]'s house
| &lt;code>0&lt;/code>
| &lt;code>JodiAndKent&lt;/code>
|-
| Near [[Emily]] and [[Haley]]'s house
| &lt;code>1&lt;/code>
| &lt;code>EmilyAndHaley&lt;/code>
|-
| Near [[Lewis]]' house
| &lt;code>2&lt;/code>
| &lt;code>Mayor&lt;/code>
|-
| Near [[Museum]]
| &lt;code>3&lt;/code>
| &lt;code>Museum&lt;/code>
|-
| Near [[Blacksmith|Clint's blacksmith]]
| &lt;code>4&lt;/code>
| &lt;code>Blacksmith&lt;/code>
|-
| Near [[The Stardrop Saloon|the Saloon]]
| &lt;code>5&lt;/code>
| &lt;code>Saloon&lt;/code>
|-
| Near [[Evelyn]] and [[George]]'s house
| &lt;code>6&lt;/code>
| &lt;code>Evelyn&lt;/code>
|-
| Near [[JojaMart]]
| &lt;code>7&lt;/code>
| &lt;code>JojaMart&lt;/code>
|}

===Custom map actions===
{{/doc status|[[Modding:Maps#Custom_Actions]]|done=true}}

C# mods can now handle custom &lt;samp>Action&lt;/samp> &amp; &lt;samp>TouchAction&lt;/samp> [[Modding:Maps|map properties]] by calling &lt;samp>GameLocation.RegisterTileAction&lt;/samp> &amp; &lt;samp>RegisterTouchAction&lt;/samp>, and passing a callback which receives the location, map property arguments, player who activated it, and tile position.

For example, let's say you want a locked gate which needs a custom key item. You can add a regular &lt;code>TouchAction Example.ModId_UnlockGate&lt;/code> map property (e.g. by adding it directly in the map file, or using [[Modding:Content Patcher|Content Patcher]]'s &lt;samp>EditMap&lt;/samp>, or using the [[Modding:Modder Guide/APIs/Content|content API]]). Then you can just handle the logic from your C# mod. See the updated docs for an example.

As another example, let's say you want the gate to unlock when the player presses the action key. You can add a regular &lt;code>Action Example.ModId_UnlockGate&lt;/code> map property (e.g. by adding it directly in the map file, or using [[Modding:Content Patcher|Content Patcher]]'s &lt;samp>EditMap&lt;/samp>, or using the [[Modding:Modder Guide/APIs/Content|content API]]). Then you can just handle the logic from your C# mod. See the updated docs for an example.

===Custom map layers===
{{/doc status|[[Modding:Maps]]|done=true}}

You can now add any number of [[Modding:Maps|map layers]] by suffixing a vanilla layer name (i.e. &lt;samp>Back&lt;/samp>, &lt;samp>Buildings&lt;/samp>, &lt;samp>Front&lt;/samp>, or &lt;samp>AlwaysFront&lt;/samp>) with an offset. For example, &lt;samp>Back-1&lt;/samp> will be drawn before/under &lt;samp>Back&lt;/samp>, and &lt;samp>Back2&lt;/samp> will be drawn after/over it. You can increment the number to add more layers.

This only affects layer rendering. Tile properties must still be set on the original layers.

===Custom minecarts===
{{/doc status|a new doc page|done=false}}

You can now extend [[minecart]]s by editing the &lt;samp>Data\Minecarts&lt;/samp> data asset.

This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the minecart network. When you interact with a minecart, the destinations listed for its network are shown.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Destinations&lt;/samp>
| The destinations which the player can travel to from minecarts in this network. This consists of a list of model with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| A [[Modding:Common data field types#Unique string ID|unique string ID]] for this destination within the network.
|-
| &lt;samp>DisplayName&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the destination name shown in the minecart menu. You can use the location's display name with the &lt;samp>LocationName&lt;/samp> token (like &lt;code>[LocationName Desert]&lt;/code> for the [[desert]]).
|-
| &lt;samp>TargetLocation&lt;/samp>
| The [[#Custom locations|location ID]] for the destination.
|-
| &lt;samp>TargetTile&lt;/samp>
| The destination tile position within the location, specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields.
|-
| &lt;samp>TargetDirection&lt;/samp>
| The direction the player should face after arrival (one of &lt;samp>down&lt;/samp>, &lt;samp>left&lt;/samp>, &lt;samp>right&lt;/samp>, or &lt;samp>up&lt;/samp>).
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this minecart destination is available. Defaults to always available.
|-
| &lt;samp>Price&lt;/samp>
| ''(Optional)'' The gold price that must be paid each time to use this destination. Default none.
|-
| &lt;samp>BuyTicketMessage&lt;/samp>
| ''(Optional)'' If the destination costs money to use, a [[Modding:Tokenizable strings|tokenizable string]] for the purchase confirmation message shown. If present, &lt;code>{0}&lt;/code> is replaced with the purchase price. Defaults to the network's &lt;samp>BuyTicketMessage&lt;/samp> field.
|-
| &lt;samp>CustomFields&lt;/samp>
| ''(Optional)'' The [[#Custom data fields|custom fields]] for this entry.
|}
|-
| &lt;samp>UnlockCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this minecart network is unlocked. Default always enabled.
|-
| &lt;samp>LockedMessage&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the message shown when interacting with a minecart when the &lt;samp>UnlockCondition&lt;/samp> false. Defaults to an "''Out of order''" translation.
|-
| &lt;samp>ChooseDestinationMessage&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the message shown when listing destinations to choose from. Defaults to a "''Choose destination:''" translation.
|-
| &lt;samp>BuyTicketMessage&lt;/samp>
| ''(Optional)'' When a destination costs money to use, a [[Modding:Tokenizable strings|tokenizable string]] for the purchase confirmation message shown. If present, &lt;code>{0}&lt;/code> is replaced with the purchase price. Defaults to a "''Buy a ticket for {0}g?''" translation.
|}

====Open a minecart menu====
You can use an &lt;samp>Action: MinecartTransport {{o|network ID}} {{o|exclude destination ID}}&lt;/samp> [[Modding:Maps|map property]] to open the minecart menu. When the player interacts with the tile, it'll open the menu for the {{o|network ID}} network (default &lt;samp>Default&lt;/samp>). if {{o|exclude destination ID}} is specified, the matching destination will be hidden from the list (usually because you're at that minecart). For example, the [[Bus Stop|bus stop]] minecart uses &lt;code>Action: MinecartTransport Default Bus&lt;/code>.

From a C# mod, you can call &lt;code>Game1.currentLocation.ShowMineCartMenu(networkId, excludeDestinationId)&lt;/code> which works the same way (except that &lt;samp>networkId&lt;/samp> is required).

====Example====
This [[Modding:Content Patcher|Content Patcher]] content pack adds the [[Railroad]] as a minecart destination, complete with a map edit adding a decorative minecart. It is available after the [[Random Events|Earthquake]] has occurred and minecarts have been unlocked.

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        // add minecart destination
        {
            "Action": "EditData",
            "Target": "Data/Minecarts",
            "TargetField": [ "Default", "Destinations" ], // for the "Default" network, edit the "Destinations" field
            "Entries": {
                "Railroad": {
                    "Id": "Railroad",
                    "DisplayName": "[LocationName Railroad]",
                    "Condition": "LOCATION_ACCESSIBLE Railroad",

                    "TargetLocation": "Railroad",
                    "TargetTile": { "X": 16, "Y": 39 },
                    "TargetDirection": "down",
                }
            }
        },

        // add decorative minecart
        {
            "Action": "EditMap",
            "Target": "Maps/Railroad",
            "FromFile": "assets/Custom_Railroad_Minecart.tmx",
            "ToArea": { "X": 15, "Y": 35, "Width": 4, "Height": 5 }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

===Custom passive festivals===
{{/doc status|[[Modding:Festival data]] or a new doc page|done=false}}

You can now add or modify passive festivals by editing the &lt;samp>Data/PassiveFestivals&lt;/samp> asset.

(A ''passive festival'' is a [[festivals|festival]] like the [[Night Market]]. They replace a location for a period of time, the player can enter/leave them anytime, and time continues passing while at the festival.)

====Data format====
The &lt;samp>Data/PassiveFestivals&lt;/samp> asset consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the festival.
* The value is a model with the fields listed below.
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DisplayName&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the display name shown on the [[calendar]].
|-
| &lt;samp>Season&lt;/samp>
| The [[season]] when the festival becomes active.
|-
| &lt;samp>StartDay&lt;/samp>&lt;br />&lt;samp>EndDay&lt;/samp>
| The days of month when the festival becomes active.
|-
| &lt;samp>StartTime&lt;/samp>
| The time of day when the festival opens each day.
|-
| &lt;samp>StartMessage&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the in-game [[wikipedia:Pop-up notification|toast notification]] shown when the festival begins each day.
|-
| &lt;samp>MapReplacements&lt;/samp>
| The locations to swap for the duration of the festival. Despite the field name, this swaps '''locations''' (e.g. as added by &lt;samp>CustomLocations&lt;/samp> using [[Modding:Content Patcher|Content Patcher]]), and not the location's map asset.

This is specified as a string → string lookup, where the key is the original location to replace and the value is the new location. Both use the internal location name, as shown by the {{nexus mod|679|Debug Mode}} mod. For example, this swaps the &lt;samp>Beach&lt;/samp> location with &lt;samp>BeachNightMarket&lt;/samp> during the [[Night Market]]:
&lt;syntaxhighlight lang="js">
"MapReplacements": {
    "Beach": "BeachNightMarket"
}
&lt;/syntaxhighlight>
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the festival is enabled (subject to the other fields like &lt;samp>StartDay&lt;/samp> and &lt;samp>EndDay&lt;/samp>). Defaults to always enabled.
|-
| &lt;samp>ShowOnCalendar&lt;/samp>
| ''(Optional)'' Whether the festival appears on the [[calendar]], using the same iridium-star icon as the [[Calendar#Winter|Night Market]]. Default true.
|-
| &lt;samp>DailySetupMethod&lt;/samp>&lt;br />&lt;samp>CleanupMethod&lt;/samp>
| ''(Optional)'' A C# method which applies custom logic when the day starts (&lt;samp>DailySetupMethod&lt;/samp>) and/or overnight after the last day of the festival (&lt;samp>CleanupMethod&lt;/samp>).

These must be specified in the form &lt;samp>{{t|full type name}}: {{t|method name}}&lt;/samp> (like &lt;samp>ExampleMod.Namespace.Type, ExampleMod: MethodName&lt;/samp>). The methods must be static, take zero arguments, and return void.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

====NPC schedules====
When a passive festival is active, NPCs will check for [[Modding:Schedule data|a schedule entry]] in this order:

{| class="wikitable"
|-
! syntax
! summary
|-
| &lt;samp>{{t|festival ID}}_{{t|festival day}}&lt;/samp>
| Applies on the given date. The {{t|festival day}} is relative, so &lt;samp>1&lt;/samp> matches the festival &lt;samp>StartDay&lt;/samp>.&lt;br />&lt;small>Example: &lt;samp>NightMarket_3&lt;/samp> or &lt;samp>marriage_NightMarket_3&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|festival ID}}&lt;/samp>
| Applies if there's no date-specific entry.&lt;br />&lt;small>Example: &lt;samp>NightMarket&lt;/samp> or &lt;samp>marriage_NightMarket&lt;/samp>&lt;/small>
|}

If the NPC is married to a player, they'll add a &lt;samp>marriage_&lt;/samp> prefix to the keys (like &lt;samp>marriage_{{t|festival ID}}_{{t|festival day}}&lt;/samp>) and ignore any entry without the prefix.

===Custom weather===
{{/doc status|[[Modding:Weather data]]|done=false}}

You can now change the weather algorithm by editing [[#Custom location contexts|location context data]], and (with a C# mod) implement custom weathers.

Fields like &lt;samp>Game1.weather&lt;/samp> and &lt;samp>Game1.weatherForTomorrow&lt;/samp> are now strings to support custom mod weather IDs. The change for vanilla weather has no effect on Content Patcher packs, since the new weather IDs match the ones Content Patcher was using before (i.e. &lt;samp>Sun&lt;/samp>, &lt;samp>Rain&lt;/samp>, &lt;samp>Snow&lt;/samp>, &lt;samp>Storm&lt;/samp>, and &lt;samp>Wind&lt;/samp>). C# mods may also see a &lt;samp>Festival&lt;/samp> weather, while Content Patcher packs will see &lt;samp>Sun&lt;/samp> for it. The constants like &lt;samp>Game1.weather_sunny&lt;/samp> have the new string values (with new constants like &lt;samp>Game1.legacy_weather_sunny&lt;/samp> for the legacy values).

The base game will treat an invalid weather as sunny. C# mods can implement custom weather effects using [[Modding:Modder Guide/APIs/Events|normal SMAPI events]] like &lt;samp>UpdateTicked&lt;/samp>, or by [[Modding:Modder Guide/APIs/Harmony|patching]] methods like &lt;samp>Game1.ApplyWeatherForNewDay&lt;/samp> and &lt;samp>Game1.populateDebrisWeatherArray&lt;/samp>.

===Custom world maps===
{{/doc status|[[Modding:World map]]|done=true}}

[[File:Modding map area.png|thumb|The default world map, with the farm map area highlighted.]]

You can now change the world map shown in the game menu by editing the &lt;samp>Data/WorldMap&lt;/samp> asset. This lets you...
* add custom maps for certain locations;
* apply texture overlays;
* add/edit tooltips;
* set real-time player marker positioning;
* etc.

The game's default map is fully defined in &lt;samp>Data/WorldMap&lt;/samp>, including all the display text and conditional changes.

===New map properties===
{{/doc status|[[Modding:Maps#Known_map_properties]]|done=true}}

1.6 adds several new [[Modding:Maps|map properties]].

====Building construction====
{| class="wikitable"
|-
! property
! explanation
|-
| &lt;samp>CanBuildHere T&lt;/samp>&lt;br />''(valid in any outdoor location)''
| Whether to allow constructing buildings in this location. The game will adjust automatically to account for it (e.g. Robin will let you choose where to build). See [[#Build anywhere|''build anywhere'' in what's new]].
|-
| &lt;samp>BuildConditions {{t|query}}&lt;/samp>&lt;br />''(valid in any outdoor location)''
| If &lt;samp>CanBuildHere&lt;/samp> is set, an optional [[Modding:Game state queries|game state query]] which indicates whether building is allowed currently.
|-
| &lt;samp>LooserBuildRestrictions T&lt;/samp>&lt;br />''(valid in any outdoor location)''
| If set, tiles don't need to be marked &lt;samp>Buildable T&lt;/samp> or &lt;samp>Diggable T&lt;/samp> in their properties. Tiles can be blocked with &lt;samp>Buildable F&lt;/samp> instead. The other restrictions still apply.
|-
| &lt;samp>ValidBuildRect {{t|x}} {{t|y}} {{t|width}} {{t|height}}&lt;/samp>&lt;br />''(valid in any outdoor location)''
| The tile area within the map where buildings may be placed. If omitted, buildings may be placed in any open space in the map.
|}

====Crops====
{| class="wikitable"
|-
! property
! explanation
|-
| &lt;samp>AllowGiantCrops T&lt;/samp>
| If set with any non-blank value, [[Crops#Giant Crops|giant crops]] can grow in this location (if crops are also allowed per the [[#Custom crops|crop data]] or [[#Custom location contexts|&lt;samp>PlantableLocations&lt;/samp> context field]]).
|-
| &lt;samp>DirtDecayChance {{t|chance}}&lt;/samp>
| The probability that each dirt tile will disappear overnight if it doesn't contain a crop, as a value between 0 (never) and 1 (always). Defaults to 0 (greenhouses), 0.1 (farms), and 1 (anywhere else).
|}

====Farmhouse interior====
{| class="wikitable"
|-
! property
! explanation
|-
| &lt;samp>FarmHouseStarterGift [{{t|id}} {{o|count}}]+&lt;/samp>
| The items that should appear in the initial gift box placed in the farmhouse when the save is created. This consists of one or more pairs of item ID (which can be qualified or unqualified) and count. The count is optional on the last entry.

For example, this will add 10 pufferfish (object 128) and a blobfish mask (hat 56):
&lt;pre>FarmHouseStarterGift (O)128 10 (H)56 1&lt;/pre>

If omitted, the default items (usually a 15 parsnip seeds) are added instead.
|}

====Warps &amp; map positions====
{| class="wikitable"
|-
! property
! explanation
|-
| &lt;samp>AllowWakeUpWithoutBed {{t|allow}}&lt;/samp>
| Whether the player can wake up in this location without a bed, similar to the island farmhouse. This is typically used with &lt;samp>PassOutLocations&lt;/samp> in [[#Custom location contexts|&lt;samp>Data/LocationContexts&lt;/samp>]].
|-
| &lt;samp>DefaultWarpLocation {{t|x}} {{t|y}}&lt;/samp>&lt;br />''(valid in any location)''
| The default arrival tile, used when a player or NPC is added to the location without a target tile (e.g. using [[Modding:Console commands|debug commands]] like &lt;samp>debug warp&lt;/samp> or &lt;samp>debug eventbyid&lt;/samp>).
|-
| &lt;samp>PetBowlLocation {{t|x}} {{t|y}}&lt;/samp>&lt;br />''(valid in the farm)''
| The default position of the pet bowl
|-
| &lt;samp>SpouseRoomPosition {{t|x}} {{t|y}}&lt;/samp>&lt;br />''(valid in farmhouse)''
| The top-left position at which to place the [[Marriage#Spouse Rooms|spouse room]].
|-
| &lt;samp>TravelingCartPosition {{t|x}} {{t|y}}&lt;/samp>&lt;br />''(valid in the forest)''
| The top-left position at which to place the [[Traveling Cart]]. This is the top-left corner of the collision box, so the roof will extend two tiles above this tile.
|}

===Other map property changes===
{{/doc status|[[Modding:Maps]]|done=true}}

{| class="wikitable"
|-
! map property
! changes
|-
| &lt;samp>Arch&lt;/samp>&lt;br />&lt;samp>asdf&lt;/samp>&lt;br />&lt;samp>Debris&lt;/samp>&lt;br />&lt;samp>Fish&lt;/samp>
| Removed (these were unused).
|-
| &lt;samp>FarmHouseFlooring&lt;/samp>&lt;br />&lt;samp>FarmHouseFurniture&lt;/samp>&lt;br />&lt;samp>FarmHouseStarterSeedsPosition&lt;/samp>&lt;br />&lt;samp>FarmHouseWallpaper&lt;/samp>
| These now work independently. For example, you can now use &lt;samp>FarmHouseFlooring&lt;/samp> without needing to set &lt;samp>FarmHouseFurniture&lt;/samp> too.
|-
| &lt;samp>Music&lt;/samp>
| Deprecated; use the music fields in [[#Custom locations|&lt;samp>Data/Locations&lt;/samp>]] instead. This property is only applied if the location has no music in &lt;samp>Data/Locations&lt;/samp>. This was removed from all vanilla maps.
|-
| &lt;samp>NPCWarp&lt;/samp>&lt;br />&lt;samp>Warp&lt;/samp>
| Now fault-tolerant. They'll automatically ignore extra spaces, log an informative warning if parsing still fails, and continue with the next warp if possible.
|-
| &lt;samp>Stumps&lt;/samp>
| Now works in all locations.
|-
| &lt;samp>UniquePortrait&lt;/samp>&lt;br />&lt;samp>UniqueSprite&lt;/samp>
| Deprecated; use [[#Custom NPC appearance|custom NPC appearances]] instead. These properties will override NPC appearances. This was removed from all vanilla maps.
|}

===Tile property changes===
{{/doc status|[[Modding:Maps#Known tile properties]]|done=true}}

&lt;ul>
&lt;li>You can now override a tile index property by setting it as a tile property.&lt;/li>
&lt;li>Added new [[Modding:Maps|tile properties]]:
{| class="wikitable"
! layer
! property
! explanation
|-
| &lt;samp>Paths&lt;/samp>
| &lt;samp>SpawnTree {{t|category}} {{t|ID}} {{t|Growth stage}} {{t|Regrowth stage}}&lt;/samp>
| Spawns a tree when the map is created. {{t|category}} may be either &lt;samp>wild&lt;/samp> or &lt;samp>fruit&lt;/samp>. &lt;samp>wild&lt;/samp> will spawn a [[Trees|wild tree]], while &lt;samp>fruit&lt;/samp> will spawn a [[Fruit Trees|fruit tree]]. 
|}
&lt;/li>
&lt;li>Added new &lt;samp>Action&lt;/samp> [[Modding:Maps|tile properties]]:
{| class="wikitable"
|-
! layer
! property
! explanation
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action BuildingSilo&lt;/samp>
| If a building covers this tile, enables [[silo]] interactions on this tile subject to the building's &lt;samp>HayCapacity&lt;/samp> field in &lt;samp>Data/Buildings&lt;/samp>.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action BuildingToggleAnimalDoor&lt;/samp>
| If a building covers this tile, opens or closes its animal door.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action Dialogue&lt;/samp>
| &amp;#32;
* The message can now be a [[Modding:Tokenizable strings|tokenizable string]].
* Fixed the cursor not changing to the inspection icon when hovering on an &lt;samp>Action Dialogue&lt;/samp> tile.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action Forge&lt;/samp>
| Opens the [[Forge]] menu.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action None&lt;/samp>
| Does nothing. This is used to mark the tile interactive if the click will be handled separately.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action ObeliskWarp {{t|location name}} {{t|x}} {{t|y}} {{o|whether to dismount}}&lt;/samp>
| Warps the player to the specified location name and position with the [[Warp Totem|Obelisk]] animation/sound effects.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action OpenShop {{t|shop id}} {{o|from direction}} {{o|open time}} {{o|close time}} {{o|owner tile area}}&lt;/samp>
| Open the [[#Custom shops|shop]] with the given {{t|shop id}}. All arguments besides the ID are optional:
* {{o|from direction}}: if specified, the player must be standing in this direction relative to the shop (one of &lt;samp>down&lt;/samp>, &lt;samp>up&lt;/samp>, &lt;samp>left&lt;/samp>, &lt;samp>right&lt;/samp>, or &lt;samp>none&lt;/samp>). Setting this to &lt;samp>none&lt;/samp> disables the requirement. The default for most vanilla shops is &lt;samp>down&lt;/samp>.
* {{o|open time}} and {{o|close time}}: the start &amp; end times in 26-hour format when the shop is available. Interacting with the tile outside those times does nothing.
* {{o|owner tile area}}: if specified, the tile area which must contain one of the shop owners for the shop to be available. For a custom shop, these are defined by its &lt;samp>Owners&lt;/samp> field. This can be specified in two forms: &lt;samp>{{t|x}} {{t|y}}&lt;/samp> for a single tile, or &lt;samp>{{t|x}} {{t|y}} {{t|width}} {{t|height}}&lt;/samp> for a multi-tile area.
|-
| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action PlayEvent {{t|event id}} {{o|check preconditions}} {{o|skip if seen}} {{o|fallback action}}&lt;/samp>
| Immediately start an [[Modding:Event data|event]], subject to the conditions:
* {{o|check preconditions}}: whether to ignore the action if the [[Modding:Event data#Event preconditions|event's preconditions]] don't match (one of &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>). Default true.
* {{o|skip if seen}}: whether to ignore the action if the player has already seen the given event. Default true.

If the event doesn't start for any reason (including the preceding conditions):
* If {{o|fallback action}} is specified, it'll be run as an action. This can be any &lt;samp>Action&lt;/samp> tile property (without the "Action " prefix), like &lt;code>Action PlayEvent 60367 true true PlayEvent 520702 false false&lt;/code> to play a different event.
* Otherwise the action is silently ignored.

For example, &lt;code>Action PlayEvent 60367 false false&lt;/code> will replay the bus arrival event from the start of the game.
|}
&lt;/li>
&lt;li>Added new &lt;samp>TouchAction&lt;/samp> [[Modding:Maps|tile properties]]:
{| class="wikitable"
|-
! layer
! property
! explanation
|-
| &lt;samp>Back&lt;/samp>
| &lt;samp>TouchAction PlayEvent {{t|event id}} {{o|check preconditions}} {{o|skip if seen}} {{o|fallback action}}&lt;/samp>
| Equivalent to &lt;samp>Action PlayEvent&lt;/samp>, but activated on touch. Note that {{o|fallback action}} is an &lt;samp>Action&lt;/samp> tile property, ''not'' a &lt;samp>TouchAction&lt;/samp> tile property.
|}&lt;/li>
&lt;li>Changed existing tile properties:
{| class="wikitable"
|-
! layer
! property
! reason
|-
|rowspan="4"| &lt;samp>Back&lt;/samp>
| &lt;samp>NoSpawn&lt;/samp>
| Added &lt;samp>NoSpawn false&lt;/samp> form, which disables any previous &lt;samp>NoSpawn&lt;/samp> property on the tile. For example, this can be used to enable spawning on a tile which has a &lt;samp>NoSpawn&lt;/samp> tile index property.
|-
| &lt;samp>TouchAction Bus&lt;/samp>
| Removed. This wasn't used by the game or mods.
|-
| &lt;samp>TouchAction Emote&lt;/samp>
| Fixed error if the specified NPC isn't found.
|-
| &lt;samp>Treasure&lt;/samp>
| Added &lt;samp>Treasure Item {{t|item ID}}&lt;/samp> form which accepts a [[#Custom items|qualified or unqualified item ID]].
|-
|rowspan="2"| &lt;samp>Buildings&lt;/samp>
| &lt;samp>Action ItemChest&lt;/samp>&lt;br />&lt;samp>Action Minecart&lt;/samp>&lt;br />&lt;samp>Action RemoveChest&lt;/samp>
| Removed. These weren't used by the game or mods.
|-
| &lt;samp>Action Kitchen&lt;/samp>
| Now works in any location (including those without a fridge).
|}
&lt;/li>
&lt;/ul>

===Other location/map changes===
{{/doc status|[[Modding:Maps]] and other pages as needed|done=false}}

* Farm data:
** Added &lt;samp>SpawnMonstersByDefault&lt;/samp> field to &lt;samp>Data/AdditionalFarms&lt;/samp> to set the default value of the 'spawn monsters at night' [[Options#Advanced Game Options|advanced save option]].
** Fixed crash on new-save screen if the farm type's tooltip has no description.
* General location data:
** All locations can now have animals. The &lt;samp>IAnimalLocation&lt;/samp> is now obsolete and implemented by &lt;samp>GameLocation&lt;/samp>.
** Added new [[Modding:Fish data|fishing areas]] to simplify compatibility between fish &amp; map mods (specifically for hilltop farm, wilderness farm, town, and desert).
** Added a descriptive error when a required location or layer isn't found. Mods can use &lt;samp>map.RequireLayer&lt;/samp> and &lt;samp>Game1.RequireLocation&lt;/samp> to get a location with similar error-checking.
** Added &lt;samp>WarpPathfindingCache&lt;/samp> for C# mods, which modularizes the NPC warp route logic. You can edit its &lt;samp>IgnoreLocationNames&lt;/samp>, &lt;samp>OverrideTargetNames&lt;/samp>, and &lt;samp>GenderRestrictions&lt;/samp> fields if needed for custom locations.
** Game logic which checks tile indexes is now more fault-tolerant, so it won't crash if an expected tile was edited.
** Finished migrating &lt;samp>DecoratableLocation&lt;/samp> flooring/wallpaper areas to string IDs (started in Stardew Valley 1.5.5).
* General map changes:
** Added validation for [[Modding:Maps|map properties and tile properties]]. If the format is invalid, the game will now log a detailed error and skip it.
** Removed unused [[Modding:Maps#Paths layer|path tiles]] in &lt;samp>Maps/paths&lt;/samp> and all map files.
* Location context data:
** Building interiors now inherit their parent's location context by default.
** Added &lt;samp>Game1.locationContextData&lt;/samp> to cache the data from &lt;samp>Data/LocationContexts&lt;/samp>.
** Added constants for the vanilla context IDs like &lt;samp>LocationContexts.IslandId&lt;/samp>.
** Added validation for required location context IDs (and &lt;samp>LocationContexts.Require(id)&lt;/samp> for mod logic).
** Removed the &lt;samp>Name&lt;/samp> field in &lt;samp>Data/LocationContexts&lt;/samp>, which duplicated the ID.
&lt;ul>
&lt;li>Added methods to simplify common operations:
{| class="wikitable"
|-
! type
! method
! effect
|-
|rowspan="7"| &lt;samp>Building&lt;/samp>
| &lt;samp>GetParentLocation&lt;/samp>
| Get the location which contains this building.
|-
| &lt;samp>IsInCurrentLocation&lt;/samp>
| Get whether the building is in the same location as the current player.
|-
| &lt;samp>HasIndoors&lt;/samp>
| Get whether the building has an interior location.
|-
| &lt;samp>GetIndoors&lt;/samp>
| Get the location within this building, if applicable.
|-
| &lt;samp>HasIndoorsName&lt;/samp>
| Get whether the building has an interior location and its unique name matches the given value (like &lt;code>building.HasIndoorsName("FarmHouse")&lt;/code>).
|-
| &lt;samp>GetIndoorsName&lt;/samp>
| Get the unique name of the location within this building, if applicable.
|-
| ...
| ''see also [[#Other building changes|other building changes]] for non-location methods.''
|-
|rowspan="7"|&lt;samp>Cabin&lt;/samp>&lt;br />&lt;samp>FarmHouse&lt;/samp>
| &lt;samp>GetCellar&lt;/samp>
| Get the [[cellar]] location linked to this cabin, if any.
|-
| &lt;samp>CanAssignFarmhand&lt;/samp>&lt;br />&lt;samp>AssignFarmhand&lt;/samp>
| ''(Cabin only)'' Check whether the cabin is available to assign to a farmhand, or perform the assignment.
|-
| &lt;samp>HasOwner&lt;/samp>
| Get whether the home has an assigned player, regardless of whether they've finished creating their character.
|-
| &lt;samp>OwnerId&lt;/samp>
| Get the unique ID of the player who owns this home, if any.
|-
| &lt;samp>IsOwnedByCurrentPlayer&lt;/samp>
| Get whether the cabin belongs to the current player.
|-
| &lt;samp>IsOwnerActivated&lt;/samp>
| Get whether the home has an assigned player and they've finished creating their character.
|-
| &lt;samp>HasNpcSpouse&lt;/samp>
| Get whether the player who owns this home is married to any NPC (when used like &lt;samp>HasNpcSpouse()&lt;/samp>) or a specific NPC (like &lt;samp>HasNpcSpouse(name)&lt;/samp>). This also replaces &lt;samp>shouldShowSpouseRoom()&lt;/samp>.
|-
|rowspan="2"| &lt;samp>Farm&lt;/samp>
| &lt;samp>GetStarterFarmhouseLocation&lt;/samp>
| Get the default tile position for the farmhouse. (See also &lt;samp>farm.GetMainFarmHouseEntry()&lt;/samp>.)
|-
| &lt;samp>GetStarterPetBowlLocation&lt;/samp>
| Get the default tile position for the pet bowl.
|-
|rowspan="19"| &lt;samp>GameLocation&lt;/samp>
| &lt;samp>AddDefaultBuildings&lt;/samp>
| Can be overridden to add custom buildings when the location is created and/or loaded. These can either be re-added whenever they're missing (like the vanilla farmhouse), or only built once on save creation (like the vanilla pre-built cabins).

This replaces the former &lt;samp>farm.AddModularShippingBin()&lt;/samp> method.
|-
| &lt;samp>GetFridge&lt;/samp>&lt;br />&lt;samp>GetFridgePosition&lt;/samp>
| Get the fridge's chest or tile position, if the location has one.
|-
| &lt;samp>GetSeason&lt;/samp>&lt;br />&lt;samp>GetSeasonIndex&lt;/samp>&lt;br />&lt;samp>GetSeasonKey&lt;/samp>
| Get the local season that applies within the location as an enum, number (like &lt;samp>0&lt;/samp> for spring), or string (like &lt;samp>spring&lt;/samp>) respectively. For example, it's always summer on [[Ginger Island]].
|-
| &lt;samp>GetWeather&lt;/samp>&lt;br />&lt;samp>IsDebrisWeatherHere&lt;/samp>&lt;br />&lt;samp>IsLightningHere&lt;/samp>&lt;br />&lt;samp>IsRainingHere&lt;/samp>&lt;br />&lt;samp>IsSnowingHere&lt;/samp>
| Get the current weather in this location's context, regardless of whether the player is indoors and sheltered from it.
|-
| &lt;samp>InDesertContext&lt;/samp>&lt;br />&lt;samp>InIslandContext&lt;/samp>&lt;br />&lt;samp>InValleyContext&lt;/samp>
| Get whether this location is within the &lt;samp>Island&lt;/samp> or &lt;samp>Default&lt;/samp> location context respectively.
|-
| &lt;samp>IsActiveLocation&lt;/samp>
| Get whether this location is actively synced to the current player (see [[Modding:Modder Guide/Game Fundamentals#Farmhand shadow world|farmhand shadow world]]).
|-
| &lt;samp>IsTemporary&lt;/samp>
| Get whether this is a temporary location for a festival or minigame. This is cached based on the location name (e.g. locations starting with &lt;samp>Temp&lt;/samp> or some other specific names).
|-
| &lt;samp>GetLocationContextId&lt;/samp>
| Get the ID of the location context in &lt;samp>Data/LocationContexts&lt;/samp> which contains this building.
|-
| &lt;samp>GetContainingBuilding&lt;/samp>
| Get the building instance which contains this location (like the cabin for a cabin interior), if applicable.
|-
| &lt;samp>GetParentLocation&lt;/samp>
| Get the parent location which contains this one (like the farm for a cabin interior), or &lt;samp>null&lt;/samp> if it has no parent.
|-
| &lt;samp>GetRootLocation&lt;/samp>
| Get the parent location which contains this one (like the farm for a cabin interior), or the location itself if it has no parent.
|-
| &lt;samp>GetInstancedBuildingInteriors&lt;/samp>
| Get all building interiors within this location which are instanced to the building (i.e. not in &lt;samp>Game1.locations&lt;/samp> separately).
|-
| &lt;samp>GetMapPropertySplitBySpaces&lt;/samp>&lt;br />&lt;samp>GetTilePropertySplitBySpaces&lt;/samp>
| Get the value of a map/tile property and split it into individual words. If the map/tile property isn't defined, returns an empty array.

For example:
&lt;syntaxhighlight lang="c#">
string[] fields = Game1.currentLocation.GetMapPropertySplitBySpaces("ScreenshotRegion");
&lt;/syntaxhighlight>
|-
| &lt;samp>HasMapPropertyWithValue&lt;/samp>
| Get whether a map property is defined and has a non-empty value.

For example:
&lt;syntaxhighlight lang="c#">
bool canUseCasks = Game1.currentLocation.HasMapPropertyWithValue("CanCaskHere");
&lt;/syntaxhighlight>
|-
| &lt;samp>StoreHayInAnySilo&lt;/samp>
| Add hay to any silo with free space (preferring silos in the current location, then the farm, then anywhere).
|-
| &lt;samp>TryGetMapProperty&lt;/samp>
| Get a map property value as a string, if it's defined.

For example:
&lt;syntaxhighlight lang="c#">
if (this.TryGetMapProperty("Warps", out string warps))
{
    // ...
}
&lt;/syntaxhighlight>
|-
| &lt;samp>TryGetMapPropertyAs&lt;/samp>
| Get a map property and parse it into into a &lt;samp>bool&lt;/samp>, &lt;samp>double&lt;/samp>, &lt;samp>Point&lt;/samp>, &lt;samp>Rectangle&lt;/samp>, or &lt;samp>Vector2&lt;/samp> value.

For example:
&lt;syntaxhighlight lang="c#">
if (!this.TryGetMapPropertyAs("MailboxLocation", out Point position))
{
    position = new Point(68, 16); // default value
}
&lt;/syntaxhighlight>
|-
| &lt;samp>removeObjectsAndSpawned&lt;/samp>
| Remove all objects, bushes, resource clumps, and terrain features within a tile area.
|-
| &lt;samp>OnBuildingConstructed&lt;/samp>&lt;br />&lt;samp>OnBuildingMoved&lt;/samp>&lt;br />&lt;samp>OnBuildingDemolished&lt;/samp>
| These methods are called for all players when any player constructs, moves, or demolishes a building.
|-
|rowspan="3"| &lt;samp>LibraryMuseum&lt;/samp>
| &lt;samp>HasDonatedArtifacts()&lt;/samp>
| Get whether any items have been donated to the [[museum]].
|-
| &lt;samp>HasDonatedArtifactAt(tile)&lt;/samp>
| Get whether any donated item is currently placed at the given tile position within the [[museum]].
|-
| &lt;samp>HasDonatedArtifact(itemId)&lt;/samp>
| Get whether an artifact with the given qualified or unqualified item ID has been donated to the [[museum]].
|-
|rowspan="2"| &lt;samp>MineShaft&lt;/samp>
| &lt;samp>GetLevelName&lt;/samp>
| Get the location name for a generated [[The Mines|mine]] or [[Skull Cavern]] level.

For example:
&lt;syntaxhighlight lang="c#">
string locationName = MineShaft.GetLevelName(10); // returns "UndergroundMine10"
Game1.warpFarmer(locationName, 0, 0, false);
&lt;/syntaxhighlight>
|-
| &lt;samp>IsGeneratedLevel&lt;/samp>
| Get whether a location or location name is a generated [[The Mines|mine]] or [[Skull Cavern]] level.

For example:
&lt;syntaxhighlight lang="c#">
string locationName = "UndergroundMine10";
bool isMine = MineShaft.IsGeneratedLevel(locationName, out int level); // returns true, 10
&lt;/syntaxhighlight>
|-
| &lt;samp>VolcanoDungeon&lt;/samp>
| &lt;samp>GetLevelName&lt;/samp>&lt;br />&lt;samp>IsGeneratedLevel&lt;/samp>
| Equivalent to the matching &lt;samp>MineShaft&lt;/samp> methods, but for the [[Volcano Dungeon]].
|}
&lt;/li>
&lt;/ul>
* Added map/tile property &lt;samp>TryAdd&lt;/samp>/&lt;samp>TryGetValue&lt;/samp> extensions in &lt;samp>StardewValley.Extensions&lt;/samp> for string property values. For example, this lets you do &lt;samp>map.Properties.TryGetValue(key, out string value)&lt;/samp>.
* &lt;samp>MineShaft.tryToAddMonster&lt;/samp> now returns whether a monster was added.
* &lt;samp>Game1.GetNumberBuildingsConstructed&lt;/samp> and &lt;samp>location.getNumberBuildingsConstructed&lt;/samp> now have overloads to count all building types and/or specify whether to count under-construction buildings.
* Fixed &lt;samp>location.refurbishMapPortion&lt;/samp> copying &lt;samp>Back&lt;/samp> source properties to the &lt;samp>Building&lt;/samp> target layer.
* Fixed door warps in custom indoor locations not consistently detected by the game.

==What's new for buildings==
===Custom buildings===
{{/doc status|[[Modding:Blueprint data]]|done=false}}

You can now add custom buildings by editing the &lt;samp>Data/Buildings&lt;/samp> asset. This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the building type.
* The value is a model with the fields listed below.

====Required fields====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Name&lt;/samp>&lt;br />&lt;samp>Description&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the display name and description (e.g. shown in the construction menu).
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture under the game's Content folder.
|}

====Construction====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Builder&lt;/samp>
| ''(Optional)'' The NPC from whom you can request construction. The vanilla values are [[Carpenter's Shop|&lt;samp>Robin&lt;/samp>]] and [[Wizard's Tower#Buildings|&lt;samp>Wizard&lt;/samp>]], but you can specify a different name if a C# mod opens a construction menu for them. Defaults to &lt;samp>Robin&lt;/samp>. If omitted, it won't appear in any menu.
|-
| &lt;samp>BuildCost&lt;/samp>
| ''(Optional)'' The gold cost to construct the building. Defaults to {{price|0}}.
|-
| &lt;samp>BuildMaterials&lt;/samp>
| ''(Optional)'' The materials you must provide to start construction, as a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| ''(Optional)'' The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list. Defaults to the &lt;samp>ItemId&lt;/samp> if not specified.
|-
| &lt;samp>ItemId&lt;/samp>
| The required item ID (qualified or unqualified).
|-
| &lt;samp>Amount&lt;/samp>
| The number of the item required.
|}
|-
| &lt;samp>BuildDays&lt;/samp>
| ''(Optional)'' The number of days needed to complete construction (e.g. &lt;samp>1&lt;/samp> for a building completed the next day). If set to 0, construction finishes instantly. Defaults to 0.
|-
| &lt;samp>BuildCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the building should be available in the construction menu. Defaults to always available.
|-
| &lt;samp>BuildMenuDrawOffset&lt;/samp>
| ''(Optional)'' A pixel offset to apply to the building sprite when drawn in the construction menu. Default none.
|-
| &lt;samp>AdditionalPlacementTiles&lt;/samp>
| ''(Optional)'' The extra tiles to treat as part of the building when placing it through the construction menu. For example, the farmhouse uses this to make sure the stairs are clear. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>TileArea&lt;/samp>
| The tile area relative to the top-left corner of the building, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields.
|-
| &lt;samp>OnlyNeedsToBePassable&lt;/samp>
| ''(Optional)'' Whether this area allows tiles that would normally not be buildable, so long as they are passable. For example, this is used to ensure that an entrance is accessible. Default false.
|}
|-
| &lt;samp>IndoorItems&lt;/samp>
| ''(Optional)'' The items to place in the building interior when it's constructed or upgraded. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>ItemId&lt;/samp>
| The [[#Custom items|qualified item ID]] for the item to place.
|-
| &lt;samp>Tile&lt;/samp>
| The tile position at which to place the item, specified as an object with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields.
|-
| &lt;samp>Indestructible&lt;/samp>
| ''(Optional)'' Whether to prevent the player from destroying, picking up, or moving the item. Default false.
|}
|-
| &lt;samp>MagicalConstruction&lt;/samp>
| ''(Optional)'' Whether the building is magical. This changes the carpenter menu to a mystic theme while this building's blueprint is selected, and completes the construction instantly when placed.
|-
| &lt;samp>AddMailOnBuild&lt;/samp>
| ''(Optional)'' A list of [[Modding:Mail data|letter IDs]] to send to all players when the building is constructed for the first time.
|}

====Upgrades====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>BuildingToUpgrade&lt;/samp>
| ''(Optional)'' The ID of the building for which this is an upgrade, or omit to allow constructing it as a new building. For example, the [[Coop|Big Coop]] sets this to &lt;samp>"Coop"&lt;/samp>. Any numbers of buildings can be an upgrade for the same building, in which case the player can choose one upgrade path.
|-
| &lt;samp>IndoorItemMoves&lt;/samp>
| ''(Optional)'' When applied as an upgrade to an existing building, the placed items in its interior to move when transitioning to the new map. This is a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>Source&lt;/samp>
| The tile position on which any item will be moved.
|-
| &lt;samp>Destination&lt;/samp>
| The tile position to which to move the item.
|-
| &lt;samp>Size&lt;/samp>
| ''(Optional)'' The tile size of the area to move, specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. Defaults to a 1×1 area. If this is multiple tiles, the &lt;samp>Source&lt;/samp> and &lt;samp>Destination&lt;/samp> specify the top-left coordinate of the area.
|}
|-
| &lt;samp>UpgradeSignTile&lt;/samp>
| ''(Optional)'' The tile position relative to the top-left corner of the building where the upgrade sign will be placed when Robin is building an upgrade, in the form &lt;samp>"{{t|x}}, {{t|y}}"&lt;/samp>. Defaults to approximately &lt;samp>"5, 1"&lt;/samp> if the building interior type is &lt;samp>Shed&lt;/samp>, else &lt;samp>"0, 0"&lt;/samp>.
|-
| &lt;samp>UpgradeSignHeight&lt;/samp>
| ''(Optional)'' The pixel height of the upgrade sign when Robin is building an upgrade. Defaults to 0.
|}

====Exterior behavior====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Size&lt;/samp>
| ''(Optional)'' The building's width and height when constructed, measured in tiles. Defaults to a 1 x 1 area.
|-
| &lt;samp>CollisionMap&lt;/samp>
| ''(Optional)'' An ASCII text block which indicates which of the building's tiles the players can walk onto, where each character can be &lt;samp>X&lt;/samp> (blocked) or &lt;samp>O&lt;/samp> (passable). Defaults to all tiles blocked.

For example, a [[stable]] covers a 2x4 tile area with the front two tiles passable:
&lt;pre>XXXX
XOOX&lt;/pre>

When the collision map is parsed, leading/trailing whitespace is trimmed (both for the entire map and for each line). In JSON, you can specify it in two forms:
&lt;syntaxhighlight lang="js">
// single line with \n line breaks
"CollisionMap": "XXXX\nXOOX"

// multi-line with optional indentation
"CollisionMap": "
    XXXX
    XOOX
"
&lt;/syntaxhighlight>
|-
| &lt;samp>HumanDoor&lt;/samp>
| ''(Optional)'' The position of the door that can be clicked to warp into the building interior. This is measured in tiles relative to the top-left corner tile. Defaults to disabled.
|-
| &lt;samp>AnimalDoor&lt;/samp>
| ''(Optional)'' The position and size of the door that animals use to enter/exit the building, if the building interior is an animal location, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. This is measured in tiles relative to the top-left corner tile. Defaults to disabled.
|-
| &lt;samp>AnimalDoorOpenDuration&lt;/samp>&lt;br />&lt;samp>AnimalDoorCloseDuration&lt;/samp>
| ''(Optional)'' The duration of the open/close animation for the animal door, measured in milliseconds. If omitted, the door switches to the open/closed state instantly.
|-
| &lt;samp>AnimalDoorOpenSound&lt;/samp>&lt;br />&lt;samp>AnimalDoorCloseSound&lt;/samp>
| ''(Optional)'' The sound which is played once each time the animal door is opened/closed. Disabled by default.
|}

====Exterior appearance====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>SourceRect&lt;/samp>
| ''(Optional)'' The building's pixel area within the &lt;samp>Texture&lt;/samp>, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. Defaults to the entire texture.
|-
| &lt;samp>Skins&lt;/samp>
| ''(Optional)'' The appearances which can be selected from Robin's menu (like stone/plank/log [[cabin]]s), in addition to the default appearance based on &lt;samp>Texture&lt;/samp>. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the skin.
|-
| &lt;samp>Name&lt;/samp>&lt;br />&lt;samp>Description&lt;/samp>
| [[Modding:Tokenizable strings|Tokenizable strings]] for the skin's display name and description.
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture under the game's Content folder.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this skin should be available to apply. This doesn't change buildings which already have it applied. Defaults to always true.
|-
| &lt;samp>BuildDays&lt;/samp>&lt;br />&lt;samp>BuildCost&lt;/samp>&lt;br />&lt;samp>BuildMaterials&lt;/samp>
| ''(Optional)'' If set, overrides the equivalent field in the building data.
|-
| &lt;samp>ShowAsSeparateConstructionEntry&lt;/samp>
| ''(Optional)'' Whether this skin should be shown as a separate building option in the construction menu (like cabins). Default false.
|-
| &lt;samp>Metadata&lt;/samp>
| ''(Optional)'' Equivalent to the &lt;samp>Metadata&lt;/samp> field on the building. Properties defined in this field are added to the building's metadata when this skin is active, overwriting the previous property with the same name if applicable. Default none.
|}
|-
| &lt;samp>FadeWhenBehind&lt;/samp>
| ''(Optional)'' Whether the building should become semi-transparent when the player is behind it. Default true.
|-
| &lt;samp>DrawOffset&lt;/samp>
| ''(Optional)'' A pixel offset applied to the building sprite's placement in the world. Default 0.
|-
| &lt;samp>SeasonOffset&lt;/samp>
| ''(Optional)'' A pixel offset to apply each season. This is applied to the &lt;samp>SourceRect&lt;/samp> position by multiplying the offset by 0 (spring), 1 (summer), 2 (fall), or 3 (winter). Default 0, so all seasons use the same source rect.
|-
| &lt;samp>SortTileOffset&lt;/samp>
| ''(Optional)'' A Y tile offset applied when figuring out render layering. For example, a value of &lt;samp>2.5&lt;/samp> will treat the building as if it was 2.5 tiles further up the screen for the purposes of layering. Default 0.
|-
| &lt;samp>DrawLayers&lt;/samp>
| ''(Optional)'' A list of textures to draw over or behind the building, with support for conditions and animations. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>SourceRect&lt;/samp>
| The pixel area within the &lt;samp>texture&lt;/samp> to draw, formatted like &lt;samp>"{{t|x}} {{t|y}} {{t|width}} {{t|height}}"&lt;/samp>. If the overlay is animated via &lt;samp>FrameCount&lt;/samp>, this is the area of the first frame.
|-
| &lt;samp>DrawPosition&lt;/samp>
| The tile position at which to draw the top-left corner of the texture, relative to the building's top-left corner tile.
|-
| &lt;samp>Texture&lt;/samp>
| ''(Optional)'' The asset name of the texture to draw. Defaults to the building's default &lt;samp>Texture&lt;/samp> field.
|-
| &lt;samp>DrawInBackground&lt;/samp>
| ''(Optional)'' Whether to draw the texture behind the building sprite (i.e. underlay) instead of over it.
|-
| &lt;samp>SortTileOffset&lt;/samp>
| ''(Optional)'' A Y tile offset applied when figuring out render layering. For example, a value of &lt;samp>2.5&lt;/samp> will treat the texture as if it was 2.5 tiles further up the screen for the purposes of layering. Default 0.
|-
| &lt;samp>OnlyDrawIfChestHasContents&lt;/samp>
| ''(Optional)'' The ID of a chest defined in the &lt;samp>Chests&lt;/samp> field which must contain items. If it's empty, this overlay won't be rendered. Default none.
|-
| &lt;samp>FrameCount&lt;/samp>&lt;br />&lt;samp>FramesPerRow&lt;/samp>&lt;br />&lt;samp>FrameDuration&lt;/samp>
| ''(Optional)'' If &lt;samp>FrameCount&lt;/samp> is more than one, the building overlay will be animated automatically. For each frame, the &lt;samp>SourceRect&lt;/samp> will be offset by its &lt;samp>Width&lt;/samp> to the right up to &lt;samp>FramesPerRow - 1&lt;/samp> times, and then down by its &lt;samp>Height&lt;/samp>. Each frame will be rendered on-screen for &lt;samp>FrameDuration&lt;/samp> milliseconds before switching to the next frame.

For example, if you set &lt;samp>FrameCount&lt;/samp> to 6 and &lt;samp>FramesPerRow&lt;/samp> to 3, the building will expect the frames to be laid out like this in the spritesheet (where frame 1 matches &lt;samp>SourceRect&lt;/samp>):
&lt;pre>
┌───┬───┬───┐
│ 1 │ 2 │ 3 │
├───┼───┼───┤
│ 4 │ 5 │ 6 │
└───┴───┴───┘
&lt;/pre>
|-
| &lt;samp>AnimalDoorOffset&lt;/samp>
| ''(Optional)'' A pixel offset applied to the draw layer when the animal door is open. While the door is opening, the percentage open is applied to the offset (e.g. 50% open = 50% offset).
|}
|-
| &lt;samp>DrawShadow&lt;/samp>
| ''(Optional)'' Whether to draw an automatic shadow along the bottom edge of the building's sprite. Default true.
|}

====Interior====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>IndoorMap&lt;/samp>
| ''(Optional)'' The name of the map asset under &lt;samp>Maps&lt;/samp> to load for the building interior. For example, &lt;samp>"Shed"&lt;/samp> will load the [[shed]]'s &lt;samp>Maps/Shed&lt;/samp> map.
|-
| &lt;samp>IndoorMapType&lt;/samp>
| ''(Optional)'' The full name of the C# location class which will manage the building's interior location. This must be one of the vanilla types to avoid a crash when saving. There are too many to list here, but the most useful types are likely...
* &lt;samp>StardewValley.AnimalHouse&lt;/samp>;
* &lt;samp>StardewValley.Locations.Cabin&lt;/samp>;
* &lt;samp>StardewValley.Locations.Cellar&lt;/samp>;
* &lt;samp>StardewValley.Locations.DecoratableLocation&lt;/samp>;
* &lt;samp>StardewValley.Locations.FarmCave&lt;/samp>;
* &lt;samp>StardewValley.Locations.FarmHouse&lt;/samp>;
* &lt;samp>StardewValley.Shed&lt;/samp>;
* and &lt;samp>StardewValley.SlimeHutch&lt;/samp>.
Defaults to the generic &lt;samp>StardewValley.GameLocation&lt;/samp> class.
|-
| &lt;samp>NonInstancedIndoorLocation&lt;/samp>
| ''(Optional)'' The name of the existing global location to treat as the building's interior, like &lt;samp>FarmHouse&lt;/samp> and &lt;samp>Greenhouse&lt;/samp> for their buildings.

Each location can only be used by one building. If the location is already in use (e.g. because the player has two of this building), each subsequent building will use the &lt;samp>IndoorMap&lt;/samp> and &lt;samp>IndoorMapType&lt;/samp> instead. For example, the first greenhouse will use the global &lt;samp>Greenhouse&lt;/samp> location, and any subsequent greenhouse will use a separate instanced location.
|-
| &lt;samp>MaxOccupants&lt;/samp>
| ''(Optional)'' The maximum number of animals who can live in this building.
|-
| &lt;samp>AllowAnimalPregnancy&lt;/samp>
| ''(Optional)'' Whether animals can get pregnant and produce offspring in this building. Default false.
|-
| &lt;samp>ValidOccupantTypes&lt;/samp>
| ''(Optional)'' A list of building IDs whose animals to allow in this building too. For example, &lt;code>[ "Barn", "Coop" ]&lt;/code> will allow [[barn]] and [[coop]] animals in this building. Default none.
|}

====Item processing====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>HayCapacity&lt;/samp>
| ''(Optional)'' The amount of hay that can be stored in this building. If built on the [[The Farm|farm]], this works just like [[silo]]s and contributes to the farm's available hay.
|-
| &lt;samp>ItemConversions&lt;/samp>
| ''(Optional)'' The item processing rules which take input items and convert them into output items using the inventories defined by &lt;samp>Chests&lt;/samp>. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this rule within the current list.
|-
| &lt;samp>RequiredTags&lt;/samp>
| A list of [[Modding:Items#Context tags|context tags]] to match against an input item. An item must have ''all'' of these tags to be accepted.
|-
| &lt;samp>SourceChest&lt;/samp>
| The ID of the inventory defined in &lt;samp>Chests&lt;/samp> from which to take input items.
|-
| &lt;samp>DestinationChest&lt;/samp>
| The ID of the inventory defined in &lt;samp>Chests&lt;/samp> in which to store output items.
|-
| &lt;samp>ProducedItems&lt;/samp>
| The output items produced when an input item is converted. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields supported by machine output.

If set to an [[Modding:Item queries|item query]] which returns multiple items, one of them will be selected at random.
|-
| &lt;samp>Chance&lt;/samp>
| ''(Optional)'' The probability that the item will be produced, as a value between 0 (never drops) and 1 (always drops). Default 1 (100% chance).
|}
|-
| &lt;samp>RequiredCount&lt;/samp>
| ''(Optional)'' The number of the input item to consume. Default 1.
|-
| &lt;samp>MaxDailyConversions&lt;/samp>
| ''(Optional)'' The maximum number of the input item which can be processed each day. Each conversion rule has its own separate maximum (e.g. if you have two rules each with a max of 1, then you can convert one of each daily). Set to -1 to allow unlimited conversions. Default 1.
|}
|-
| &lt;samp>Chests&lt;/samp>
| ''(Optional)'' The input/output inventories that can be accessed from a tile on the building exterior. The allowed items are defined by the separate &lt;samp>ItemConversions&lt;/samp> field. This is a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this chest within the current list.

This is referenced from the &lt;samp>ItemConversions&lt;/samp> field.
|-
| &lt;samp>Type&lt;/samp>
| The inventory type. This must be one of:
* &lt;samp>Chest&lt;/samp>: show a normal chest UI on click.
* &lt;samp>Collect&lt;/samp>: provides items for the player to collect. Clicking the tile will do nothing (if empty), grab the item directly (if it only contains one item), else show a grab-only inventory UI.
* &lt;samp>Load&lt;/samp>: lets the player add items for the building to process.
|-
| &lt;samp>Sound&lt;/samp>
| ''(Optional)'' The sound to play once when the player clicks the chest.
|-
| &lt;samp>InvalidItemMessage&lt;/samp>&lt;br />&lt;samp>InvalidCountMessage&lt;/samp>&lt;br />&lt;samp>ChestFullMessage&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] to show when the player tries to add an item to the chest when...
* it isn't a supported item;
* it's supported but they don't have enough in their inventory;
* the chest has no more room to accept it.
If omitted, the player interaction is ignored with no message shown.
|-
| &lt;samp>InvalidItemMessageCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether &lt;samp>InvalidItemMessage&lt;/samp> should be shown. This can use item-related queries like &lt;samp>ITEM_TYPE&lt;/samp>. Defaults to always true.
|-
| &lt;samp>DisplayTile&lt;/samp>
| ''(Optional)'' The chest's position on the building exterior, measured in tiles from the top-left corner of the building, specified in the form &lt;samp>"{{t|x}}, {{t|y}}"&lt;/samp>. This affects the position of the 'item ready to collect' bubble. If omitted, the bubble is disabled.
|-
| &lt;samp>DisplayHeight&lt;/samp>
| ''(Optional)'' If &lt;samp>DisplayTile&lt;/samp> is set, the chest's tile height like &lt;samp>1.5&lt;/samp>.
|}
|}

====Tile interactions====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>ActionTiles&lt;/samp>
| ''(Optional)'' A list of tiles which the player can click to trigger an &lt;samp>Action&lt;/samp> [[Modding:Maps|map tile property]]. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>Tile&lt;/samp>
| The tile position, relative to the building's top-left corner tile.
|-
| &lt;samp>Action&lt;/samp>
| The [[Modding:Tokenizable strings|tokenizable string]] for the action to perform, excluding the &lt;samp>Action&lt;/samp> prefix. For example, &lt;samp>"Dialogue Hi there @!"&lt;/samp> to show a messagebox like "''Hi there &lt;player name>!''". The tokenizable string is expected before the action is raised. See the [[Modding:Maps#Tile properties 2|list of tile properties]] for useful &lt;samp>Action&lt;/samp> values.
|}
|-
| &lt;samp>DefaultAction&lt;/samp>
| ''(Optional)'' The default tile action if the clicked tile isn't in &lt;samp>ActionTiles&lt;/samp>. Default none.
|-
| &lt;samp>TileProperties&lt;/samp>
| ''(Optional)'' The [[Modding:Maps|map tile properties]] to set. This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>Name&lt;/samp>
| The tile property name to set.
|-
| &lt;samp>Value&lt;/samp>
| ''(Optional)'' The tile property value to set, or omit to set a null value.
|-
| &lt;samp>Layer&lt;/samp>
| The name of the map layer whose tiles to change.
|-
| &lt;samp>TileArea&lt;/samp>
| The tiles to which to add the property, relative to the top-left corner of the building's collision box. This is specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields.
|}
|-
| &lt;samp>AdditionalTilePropertyRadius&lt;/samp>
| ''(Optional)'' When checking whether the player clicked on a &lt;samp>TileProperties&lt;/samp> tile, an added distance around the building at which tile locations may be placed. Default 0, so only tile properties within the normal building bounds will work.
|}

====Advanced====
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Metadata&lt;/samp>
| ''(Optional)'' A list of custom properties applied to the building, which can optionally be overridden per-skin in the &lt;samp>Skins&lt;/samp> field. Default none.

The base game recognizes these properties:
{| class="wikitable"
|-
! property
! description
|-
| &lt;samp>ChimneyPosition: {{t|x}} {{t|y}}&lt;/samp>
| ''(Optional)'' The pixel position at which to place a chimney on the building exterior, relative to the top-left corner of the sprite. This will apply the same logic as the farmhouse chimney (e.g. producing smoke if there's a lit fireplace inside the building).
|-
| &lt;samp>ChimneyPosition{{o|upgrade level}}: {{t|x}} {{t|y}}&lt;/samp>
| ''(Optional, for farmhouses/cabins only)'' Override &lt;samp>ChimneyPosition&lt;/samp> for the given upgrade level, starting from 0 for the initial farmhouse/cabin. If there's no override for the current upgrade level, the highest override for a lower upgrade level is used (if any). For example, &lt;samp>ChimneyPosition3&lt;/samp> would be used for the third house upgrade (and the fourth if there's no &lt;samp>ChimneyPosition4&lt;/samp>).
|}

This can also contain arbitrary custom properties, which C# mods can read using &lt;samp>building.GetMetadata(key)&lt;/samp>.
|-
| &lt;samp>BuildingType&lt;/samp>
| ''(Optional)'' The full name of the C# type to instantiate for the building instance. Defaults to a generic &lt;samp>Building&lt;/samp> instance.

'''⚠ Caution:''' this is meant to support vanilla building types like &lt;samp>StardewValley.Shed&lt;/samp>. Setting this to a non-vanilla type will cause a crash when it's written to the save file, and may cause crashes in multiplayer. If you need custom behavior, consider handling it in C# based on the building type instead of creating a custom subclass; otherwise you'll need a framework mod like {{nexus mod|1348|SpaceCore}} to handle serialization and multiplayer sync.
|-
| &lt;samp>ModData&lt;/samp>
| ''(Optional)'' A string → string lookup of arbitrary &lt;samp>modData&lt;/samp> values to attach to the building when it's constructed.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

===Build anywhere===
{{/doc status|[[Modding:Blueprint data]] and [[Modding:Maps]]|done=false}}

* You can now allow building construction for any location using the [[#Map/tile property changes|new &lt;samp>CanBuildHere&lt;/samp> and related map properties]]. The game will adjust accordingly (e.g. Robin will let you choose where to construct the building).
* Buildings and animals are no longer hardcoded to the [[The Farm|farm]] location (except [[cabin]]s and the [[farmhouse]] which still are).
* Scything hay will now add hay to silos in any location, and animals will be auto-fed from hay in any location.

===Other building changes===
{{/doc status|[[Modding:Blueprint data]]|done=false}}

: ''See also: [[#Other location/map changes|other location changes]] for location-related building changes.''

; General building changes
* Building display names &amp; descriptions are now in &lt;samp>Strings/Buildings&lt;/samp> for reuse.
* Removed &lt;samp>Data/Blueprints&lt;/samp>. This has been replaced by &lt;samp>Data/Buildings&lt;/samp> (building data) and &lt;samp>Strings/Buildings&lt;/samp> (display names &amp; descriptions).
&lt;ul>
&lt;li>Added methods to simplify common operations:
{| class="wikitable"
|-
! type
! method
! effect
|-
|rowspan="7"| &lt;samp>Building&lt;/samp>
| &lt;samp>CreateInstanceFromId&lt;/samp>
| Create a building instance from its type ID in &lt;samp>Data/Buildings&lt;/samp>. For example:
&lt;syntaxhighlight lang="c#">
Building shippingBin = Building.CreateInstanceFromId("Shipping Bin", Vector2.Zero); // creates an instance of StardewValley.Buildings.ShippingBin
&lt;/syntaxhighlight>
|-
| &lt;samp>GetData&lt;/samp>&lt;br />&lt;samp>TryGetData&lt;/samp>
| Get the data for the building's type from &lt;samp>Data/Building&lt;/samp>.
|-
| &lt;samp>GetMetadata&lt;/samp>
| Get a value from [[#Custom buildings|the &lt;samp>Metadata&lt;/samp> field in &lt;samp>Data/Buildings&lt;/samp>]] for this building.
|-
| &lt;samp>GetPaintDataKey&lt;/samp>
| Get the key in &lt;samp>Data/PaintData&lt;/samp> for this building, if it has any.
|-
| &lt;samp>ReloadBuildingData&lt;/samp>
| Apply the latest data in &lt;samp>Data/Buildings&lt;/samp> to this building.
|-
| &lt;samp>FinishConstruction&lt;/samp>
| If the building is being constructed or upgrade, instantly finish doing so.
|-
| &lt;samp>UpdateTransparency&lt;/samp>
| Update the building transparency on tick for the local player's position.

This method mainly exists to let mods override/patch the transparency logic.
|-
| &lt;samp>Farm&lt;/samp>
| &lt;samp>GetMainFarmHouse&lt;/samp>
| Get the main [[farmhouse]] building.
|-
| &lt;samp>GameLocation&lt;/samp>
| &lt;samp>OnParentBuildingUpgraded&lt;/samp>
| Called when the building containing this location is upgraded, if applicable.
|}
&lt;/li>
&lt;/ul>
* Added building &lt;samp>id&lt;/samp> field, which uniquely identifies each building in the world.

; [[Junimo Hut|Junimo hut]] changes
* The &lt;samp>JunimoHut.cropHarvestRange&lt;/samp> field is now per-building and editable.

; [[Fish Pond|Fish pond]] changes
&lt;ul>
&lt;li>In &lt;samp>Data/FishPondData&lt;/samp>, added a &lt;samp>Precedence&lt;/samp> field which sets the order in which entries are checked for a match (with lower values checked first). This ensures that the fallback entries are checked after specific fish. For consistency, vanilla entries use these values:
{| class="wikitable"
|-
! precedence
! used for
|-
| 0&lt;br />&lt;small>(default value)&lt;/small>
| specific fish
|-
| 100
| custom groups (e.g. desert fish)
|-
| 500
| broad fish type (e.g. ocean fish)
|-
| 1000
| fallback (e.g. fish category)
|}
&lt;/li>
&lt;li>In &lt;samp>Data/FishPondData&lt;/samp>, the reward &lt;samp>ItemId&lt;/samp> can now be an [[Modding:Item queries|item query]].&lt;/li>
&lt;li>[[Legendary Fish|Legendary fish]] can now be added to [[Fish Pond|fish ponds]] if they have an entry in &lt;samp>Data/FishPondData&lt;/samp>.&lt;/li>
&lt;/ul>

==What's new for NPCs==
===Custom NPCs===
{{/doc status|[[Modding:NPC data]]|done=false}}

[[Modding:NPC data|Custom NPC data]] has been overhauled in 1.6. The new &lt;samp>Data/Characters&lt;/samp> asset (which replaces &lt;samp>Data/NPCDispositions&lt;/samp> + &lt;samp>Data/spousePatios&lt;/samp> + &lt;samp>Data/spouseRooms&lt;/samp>) uses a data model format that's easier to edit and understand, and has a lot of fields to customize previously-hardcoded data.

====Format====
This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the NPC like &lt;samp>Example.ModId_NpcName&lt;/samp>, which will be used as the internal &lt;samp>Name&lt;/samp> (not &lt;samp>DisplayName&lt;/samp>).
* The value is a model with the following fields.

&lt;dl style="margin-left: 2em;">
&lt;dt>Basic info:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DisplayName&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the NPC's display name.
|-
| &lt;samp>Language&lt;/samp>
| ''(Optional)'' The language spoken by the NPC. One of &lt;samp>Default&lt;/samp> (the default language understood by the player) or &lt;samp>Dwarvish&lt;/samp> (which the player can only understand after finding the [[Dwarvish Translation Guide|Dwarvish translation guide]]). Default &lt;samp>Default&lt;/samp>.
|-
| &lt;samp>Gender&lt;/samp>
| ''(Optional)'' The NPC's gender identity. One of &lt;samp>Female&lt;/samp>, &lt;samp>Male&lt;/samp>, or &lt;samp>Undefined&lt;/samp>. Default &lt;samp>Undefined&lt;/samp>.
|-
| &lt;samp>Age&lt;/samp>
| ''(Optional)'' The general age of the NPC. One of &lt;samp>Child&lt;/samp>, &lt;samp>Teen&lt;/samp>, or &lt;samp>Adult&lt;/samp>. Default &lt;samp>Adult&lt;/samp>.

This affects generated dialogue lines (e.g. a child might say "stupid" and an adult might say "depressing"), generic dialogue (e.g. a child might respond to dumpster diving with "''Eww... What are you doing?''" and a teen would say "''Um... Why are you digging in the trash?''"), and the gift they choose as [[Feast of the Winter Star]] gift-giver. Children are also excluded from item delivery quests.
|-
| &lt;samp>Manner&lt;/samp>
| ''(Optional)'' A measure of the character's general politeness, which affects some generic dialogue lines. One of &lt;samp>Neutral&lt;/samp>, &lt;samp>Polite&lt;/samp>, or &lt;samp>Rude&lt;/samp>. Default &lt;samp>Neutral&lt;/samp>.
|-
| &lt;samp>SocialAnxiety&lt;/samp>
| ''(Optional)'' A measure of the character's comfort with social situations, which affects some generic dialogue lines. One of &lt;samp>Neutral&lt;/samp>, &lt;samp>Outgoing&lt;/samp>, or &lt;samp>Shy&lt;/samp>. Default &lt;samp>Neutral&lt;/samp>.
|-
| &lt;samp>Optimism&lt;/samp>
| ''(Optional)'' A measure of the character's overall optimism. One of &lt;samp>Neutral&lt;/samp>, &lt;samp>Negative&lt;/samp>, or &lt;samp>Positive&lt;/samp>. Default &lt;samp>Neutral&lt;/samp>.
|-
| &lt;samp>BirthSeason&lt;/samp>
| ''(Optional if non-social)'' The season name (case-sensitive) for the NPC's birthday. One of &lt;samp>spring&lt;/samp>, &lt;samp>summer&lt;/samp>, &lt;samp>fall&lt;/samp>, or &lt;samp>winter&lt;/samp>. Default none.
|-
| &lt;samp>BirthDay&lt;/samp>
| ''(Optional if non-social)'' The day number for the NPC's birthday. Default 0.
|-
| &lt;samp>HomeRegion&lt;/samp>
| ''(Optional)'' The region of the world in which the NPC lives (one of &lt;samp>Desert&lt;/samp>, &lt;samp>Town&lt;/samp>, or &lt;samp>Other&lt;/samp>). For example, only &lt;samp>Town&lt;/samp> NPCs are counted for the introductions [[Quests#List of Story Quests|quest]], can be selected as a secret santa for the [[Feast of the Winter Star]], or get a friendship boost from the [[Luau]]. Default &lt;samp>Other&lt;/samp>.
|-
| &lt;samp>IsDarkSkinned&lt;/samp>
| ''(Optional)'' Whether the NPC has dark skin, which affects the chance of children with the player having dark skin too. Default false.
|}
&lt;/dd>

&lt;dt>Social features:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>CanSocialize&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether to enable social features (like birthdays, gift giving, [[friendship]], and an entry in the social tab). Default true.
|-
| &lt;samp>CanBeRomanced&lt;/samp>
| ''(Optional)'' Whether the NPC can be dated and romanced. This enables romance features for this NPC (like a 'single' label in the social menu, bouquet gifting, and marriage). Default false.
|-
| &lt;samp>CanReceiveGifts&lt;/samp>
| ''(Optional)'' Whether players can give gifts to this NPC. Default true.

The NPC must also be social per &lt;samp>CanSocialize&lt;/samp> and have an entry in &lt;samp>Data/NPCGiftTastes&lt;/samp> to be giftable, regardless of this value.
|-
| &lt;samp>CanCommentOnPurchasedShopItems&lt;/samp>
| ''(Optional)'' Whether this NPC can comment on items that a player sold to a shop which then resold it to them. If null (or omitted), this will default to true if their &lt;samp>HomeRegion&lt;/samp> is set to &lt;samp>Town&lt;/samp>.

The NPC must also be social per &lt;samp>CanSocialize&lt;/samp> to allow it, regardless of this value.
|-
| &lt;samp>CanGreetNearbyCharacters&lt;/samp>
| ''(Optional)'' Whether this NPC can show a speech bubble greeting nearby players or NPCs, and or be greeted by other NPCs. Default true.
|-
| &lt;samp>CanVisitIsland&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the NPC can visit the [[Ginger Island]] resort once it's unlocked. Default true.

The NPC must also be social per &lt;samp>CanSocialize&lt;/samp> to visit the island, regardless of this value.
|-
| &lt;samp>LoveInterest&lt;/samp>
| ''(Optional)'' Unused.
|-
| &lt;samp>Calendar&lt;/samp>
| ''(Optional)'' Determines when the NPC's birthday is shown in the [[calendar]]. Possible values:
{| class="wikitable"
|-
! value
! effect
|-
| &lt;samp>HiddenAlways&lt;/samp>
| They never appear in the calendar.
|-
| &lt;samp>HiddenUntilMet&lt;/samp>
| Until the player meets them, they don't appear in the calendar.
|-
| &lt;samp>AlwaysShown&lt;/samp>
| They always appear in the calendar.
|}

Defaults to &lt;samp>AlwaysShown&lt;/samp>.
|-
| &lt;samp>SocialTab&lt;/samp>
| ''(Optional)'' Determines how the NPC is shown on the [[friendship|social tab]] when unlocked. Possible values:
{| class="wikitable"
|-
! value
! effect
|-
| &lt;samp>HiddenAlways&lt;/samp>
| They never appear in the social tab.
|-
| &lt;samp>HiddenUntilMet&lt;/samp>
| Until the player meets them, they don't appear on the social tab.
|-
| &lt;samp>UnknownUntilMet&lt;/samp>
| Until the player meets them, their name on the social tab is replaced with "???".
|-
| &lt;samp>AlwaysShown&lt;/samp>
| They always appear in the social tab (including their name).
|}

Defaults to &lt;samp>UnknownUntilMet&lt;/samp>.
|-
| &lt;samp>SpouseAdopts&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the player will need to adopt children with this spouse, instead of either the player or NPC giving birth. If null, defaults to true for same-gender and false for opposite-gender spouses.

The &lt;samp>Target&lt;/samp> player is the one they're married to.
|-
| &lt;samp>SpouseWantsChildren&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the spouse will ask to have children. Defaults to true.

The &lt;samp>Target&lt;/samp> player is the one they're married to.
|-
| &lt;samp>SpouseGiftJealousy&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the [[Marriage#Jealousy|spouse will get jealous of gifts to other NPCs]]. Defaults to true.

The &lt;samp>Target&lt;/samp> player is the one they're married to, and the &lt;samp>Target&lt;/samp> item is the one that was gifted.
|-
| &lt;samp>SpouseGiftJealousyFriendshipChange&lt;/samp>
| ''(Optional)'' The [[Friendship|friendship point]] effect when the &lt;samp>SpouseGiftJealously&lt;/samp> is triggered. Default -30.
|-
| &lt;samp>SpouseRoom&lt;/samp>
| ''(Optional)'' The [[Marriage#Spouse Rooms|NPC's spouse room]] in the farmhouse when the player marries them, if applicable. If this is omitted for a marriageable NPC, they'll use Abigail's spouse room by default.

This consists of a model with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>MapAsset&lt;/samp>
| ''(Optional)'' The asset name for the spouse room map. The &lt;samp>Maps/&lt;/samp> prefix is added automatically and shouldn't be included. Defaults to &lt;samp>spouseRooms&lt;/samp>.
|-
| &lt;samp>MapSourceRect&lt;/samp>
| ''(Optional)'' The tile area within the &lt;samp>MapAsset&lt;/samp> containing the spouse's room. This should usually be a 6x9 tile area, though the game will try to adjust to a different size. Specified as a model with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. Defaults to &lt;samp>(0, 0, 6, 9)&lt;/samp>.
|}
|-
| &lt;samp>SpousePatio&lt;/samp>
| ''(Optional)'' The [[Marriage#Spouse Outside Area|NPC's patio area]] on the farm when the player marries them, if any. Default none.

This consists of a model with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>MapAsset&lt;/samp>
| ''(Optional)'' The asset name for the patio area. The &lt;samp>Maps/&lt;/samp> prefix is added automatically and shouldn't be included. Defaults to &lt;samp>spousePatios&lt;/samp>.
|-
| &lt;samp>MapSourceRect&lt;/samp>
| ''(Optional)'' The tile area within the &lt;samp>MapAsset&lt;/samp> containing the spouse's patio area. This must be a 4x4 tile area. Specified as a model with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. Defaults to &lt;samp>(0, 0, 4, 4)&lt;/samp>.
|-
| &lt;samp>SpriteAnimationFrames&lt;/samp>
| ''(Optional)'' The spouse's animation frames when they're in the patio. Each frame is an array containing [0] the sprite index in their spritesheet, and [1] the optional duration in milliseconds (default 100). If omitted or empty, the NPC won't be animated.

For example, here is Abigail playing the flute:
&lt;syntaxhighlight lang="js">
"SpriteAnimationFrames": [
    [16, 500], // show index 16 for 500ms
    [17, 500],
    [18, 500],
    [19]       // if duration is omitted, defaults to 100ms
]
&lt;/syntaxhighlight>
|-
| &lt;samp>SpriteAnimationPixelOffset&lt;/samp>
| ''(Optional)'' The pixel offset to apply to the NPC's sprite when they're animated in the patio, specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. This is ignored if the NPC isn't animated via &lt;samp>SpriteAnimationFrames&lt;/samp>. Default none.
|}
|-
| &lt;samp>SpouseFloors&lt;/samp>&lt;br />&lt;samp>SpouseWallpapers&lt;/samp>
| ''(Optional)'' The floors and wallpapers which the NPC may randomly apply to the farmhouse when married to the player. If omitted or empty, the NPC will randomly choose a base floor (0–39) or wallpaper (0–111).
|-
| &lt;samp>IntroductionsQuest&lt;/samp>
| ''(Optional)'' Whether to include this NPC in [[Quests#List of Story Quests|the ''introductions'' quest]]. If &lt;samp>null&lt;/samp> (or omitted), this will default to true if the &lt;samp>HomeRegion&lt;/samp> field is set to &lt;samp>Town&lt;/samp>.
|-
| &lt;samp>ItemDeliveryQuests&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this NPC can give item delivery quests. If &lt;samp>null&lt;/samp> (or omitted), this will default to true if the &lt;samp>HomeRegion&lt;/samp> field is set to &lt;samp>Town&lt;/samp>.

The NPC must also be social per &lt;samp>CanSocialize&lt;/samp> to allow it, regardless of this value.
|-
| &lt;samp>PerfectionScore&lt;/samp>
| ''(Optional)'' Whether to include this NPC when checking whether the player has max friendships with every NPC for the perfection score. Default true.

The NPC must also be social per &lt;samp>CanSocialize&lt;/samp> to be counted, regardless of this value.
|-
| &lt;samp>EndSlideShow&lt;/samp>
| ''(Optional)'' How the NPC appears in the end-game perfection slide show. Possible values:
{| class="wikitable"
|-
! value
! effect
|-
| &lt;samp>Hidden&lt;/samp>
| The NPC doesn't appear in the slide show.
|-
| &lt;samp>MainGroup&lt;/samp>
| The NPC is added to the main group of NPCs which walk across the screen.
|-
| &lt;samp>TrailingGroup&lt;/samp>
| The NPC is added to the trailing group of NPCs which follow the main group.
|}

Defaults to &lt;samp>MainGroup&lt;/samp>.
|-
| &lt;samp>FriendsAndFamily&lt;/samp>
| ''(Optional)'' The NPC's closest friends and family, as a dictionary where the key is the other NPC's internal name and the value is an optional tokenizable string for the name to use in dialogue text (like 'mom'). Default none.

This affects generic dialogue for revealing likes and dislikes to family members, and may affect &lt;samp>inlaw_&amp;lt;NPC&amp;gt;&lt;/samp> dialogues. This isn't necessarily comprehensive.
|}
&lt;/dd>

&lt;dt>Dumpster diving:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DumpsterDiveEmote&lt;/samp>
| ''(Optional)'' The emote ID to show above the NPC's head when they see a player rummaging through trash. See [[Modding:event data#Emotes|emote IDs]]. If omitted or &lt;samp>null&lt;/samp>, the default depends on the NPC's age: a child will show sad (28), a teen will show a question mark (8), and an adult will show angry (12).
|-
| &lt;samp>DumpsterDiveFriendshipEffect&lt;/samp>
| ''(Optional)'' The friendship point change if this NPC sees a player rummaging through trash. Default -25.
|}&lt;/dd>

&lt;dt>Festivals:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>FlowerDanceCanDance&lt;/samp>
| ''(Optional)'' Whether players can ask the NPC to dance at the Flower Dance festival. The possible values are &lt;samp>true&lt;/samp> (can always ask), &lt;samp>false&lt;/samp> (can never ask), or &lt;samp>null&lt;/samp> (can ask if they're romanceable). Default &lt;samp>null&lt;/samp>.

If the NPC can dance, you should also add the [[Modding:NPC data#Overworld_sprites|dance sprite frames]] and &lt;samp>FlowerDance_Decline&lt;/samp> [[Modding:Dialogue|dialogue text]]. You can optionally set the &lt;samp>FlowerDance_Accept&lt;/samp> dialogue too (though NPCs have a default accept dialogue if not).
|-
| &lt;samp>WinterStarParticipant&lt;/samp>
| ''(Optional)''  A [[Modding:Game state queries|game state query]] which indicates whether this NPC can give and receive gifts at the [[Feast of the Winter Star]]. If &lt;samp>null&lt;/samp> (or omitted), this will default to true if the &lt;samp>HomeRegion&lt;/samp> field is set to &lt;samp>Town&lt;/samp>.
|-
| &lt;samp>WinterStarGifts&lt;/samp>
| At the [[Feast of the Winter Star]], the possible gifts this NPC can give to players. A matching entry is selected at random.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields.

If set to an [[Modding:Item queries|item query]] which returns multiple items, one of them will be selected at random.
|}
|}

&lt;dt>Spawn rules:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>UnlockConditions&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the NPC should be added to the world, checked when loading a save and when ending each day. This only affects whether the NPC is added when missing; returning false won't remove an NPC that's already been added. Defaults to true.
|-
| &lt;samp>SpawnIfMissing&lt;/samp>
| ''(Optional)'' Whether to add this NPC to the world if they're missing (if the &lt;samp>UnlockConditions&lt;/samp> match and &lt;samp>HomeLocation&lt;/samp> is valid). Default true.
|-
| &lt;samp>Home&lt;/samp>
| ''(Optional)'' The default place where this NPC spawns and returns each day. If there are multiple entries, the first matching one is used.

This consists of a list of models with these fields: 
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>ID&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>Location&lt;/samp>
| ''(Optional)'' The internal name for the home location where this NPC spawns and returns each day. Default none.
|-
| &lt;samp>Tile&lt;/samp>
| ''(Optional)'' The tile position within the home location where this NPC spawns and returns each day. Specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. Defaults to &lt;samp>(0, 0)&lt;/samp>.
|-
| &lt;samp>Direction&lt;/samp>
| ''(Optional)'' The default direction the NPC faces when they start each day. The possible values are &lt;samp>down&lt;/samp>, &lt;samp>left&lt;/samp>, &lt;samp>right&lt;/samp>, and &lt;samp>up&lt;/samp>. Defaults to &lt;samp>up&lt;/samp>.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry can be selected. Default true.
|}
|}
&lt;/dd>

&lt;dt>Appearance &amp; sprite:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>TextureName&lt;/samp>
| ''(Optional)'' The '''last segment''' of the NPC's portrait and sprite asset names. For example, set to &lt;samp>Abigail&lt;/samp> to use &lt;samp>Portraits/Abigail&lt;/samp> and &lt;samp>Characters/Abigail&lt;/samp> respectively. Defaults to the internal NPC name.
|-
| &lt;samp>Appearance&lt;/samp>
| ''(Optional)'' The portrait/sprite textures to use.

This can list any number of appearance options. They'll be sorted by &lt;samp>Precedence&lt;/samp> value (with lower values taking priority), then filtered to those whose fields match. If multiple matching appearances have precedence, one entry is randomly chosen based on their relative weight. This randomization is stable per day, so the NPC always makes the same choice until the next day. If a portrait/sprite can't be loaded (or no appearances match), the NPC will use the default asset based on &lt;samp>TextureName&lt;/samp>.

The NPC rechecks this field each time they change location.

This consists of a list of models with these fields: 
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the current list.
|-
| &lt;samp>Season&lt;/samp>
| ''(Optional)'' The season in which this appearance should be used (one of &lt;samp>spring&lt;/samp>, &lt;samp>summer&lt;/samp>, &lt;samp>fall&lt;/samp>, or &lt;samp>winter&lt;/samp>), or omit for any season. Defaults to any season.
|-
| &lt;samp>Indoors&lt;/samp>&lt;br />&lt;samp>Outdoors&lt;/samp>
| ''(Optional)'' Whether this appearance should be used when indoors and/or outdoors. Both default to true.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry can be selected. Default true.
|-
| &lt;samp>Portrait&lt;/samp>&lt;br />&lt;samp>Sprite&lt;/samp>
| ''(Optional)'' The asset name for the portraits and/or sprites texture to load. If omitted or it can't be loaded, it will default to the default asset per the &lt;samp>Texture&lt;/samp> field.
|-
| &lt;samp>IsIslandAttire&lt;/samp>
| ''(Optional)'' Whether this is island beach attire worn at the resort. Default false.

This is mutually exclusive: NPCs will never wear it in other contexts if it's true, and will never wear it as island attire if it's false.
|-
| &lt;samp>Precedence&lt;/samp>
| ''(Optional)'' The order in which this entry should be checked, where lower values are checked first. This can be a negative value. Default 0.
|-
| &lt;samp>Weight&lt;/samp>
| ''(Optional)'' If multiple entries with the same &lt;samp>Precedence&lt;/samp> match, the relative weight to use when randomly choosing one. Default 1.

For example, let's say two appearance entries match: one has a weight of 2, and the other has a weight of 1. Their probability of being chosen is 2/3 and 1/3 respectively.
|}

'''Note:''' the default textures based on &lt;samp>TextureName&lt;/samp> must still exist, even if you use this field to override them.
|-
| &lt;samp>MugShotSourceRect&lt;/samp>
| ''(Optional)'' The 16x24-pixel area in the character's sprite texture to show as their mug shot icon in the calendar, social menu, and other contexts. Defaults to part of their first sprite.
|-
| &lt;samp>Size&lt;/samp>
| ''(Optional)'' The pixel size of the individual sprites in their overworld sprite spritesheet. Specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. Defaults to &lt;samp>(16, 32)&lt;/samp>.

'''Note:''' sizes bigger than 16×32 will cause issues like broken spawning, pathfinding, misalignment in the [[perfection]] end-game slide show, etc.
|-
| &lt;samp>Breather&lt;/samp>
| ''(Optional)'' Whether the chest on the NPC's overworld sprite puffs in and out as they breathe. Default true&lt;/samp>.
|-
| &lt;samp>BreathChestRect&lt;/samp>
| ''(Optional)'' A [[Modding:Common data field types#Rectangle|rectangle]] pixel area within the spritesheet which expands and contracts to simulate breathing, relative to the top-left corner of the source rectangle for their current sprite. Omit to calculate it automatically. This should be omitted for most NPCs, unless they have a non-standard size.
|-
| &lt;samp>BreathChestPosition&lt;/samp>
| ''(Optional)'' A [[Modding:Common data field types#Point|point]] pixel offset to apply to the NPC's &lt;samp>BreathChestPosition&lt;/samp> when drawn over the NPC. Omit to calculate it automatically. This should be omitted for most NPCs, unless they have a non-standard size.
|-
| &lt;samp>Shadow&lt;/samp>
| ''(Optional)'' The options for the shadow to draw under the NPC, or omit to apply the default shadow behavior.

This consists of a model with these fields:

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Visible&lt;/samp>
| ''(Optional)'' Whether the shadow should be drawn. Default true.
|-
| &lt;samp>Offset&lt;/samp>
| ''(Optional)'' A [[Modding:Common data field types#Point|point]] pixel offset applied to the shadow position. Default zero.
|-
| &lt;samp>Scale&lt;/samp>
| ''(Optional)'' The scale at which to draw the shadow. Default 1.

This is a multiplier applied to the default shadow scale, which can change based on factors like whether the NPC is jumping. For example, &lt;samp>0.5&lt;/samp> means half the size it'd be drawn if you didn't specify a scale.
|}
|-
| &lt;samp>EmoteOffset&lt;/samp>
| ''(Optional)'' A [[Modding:Common data field types#Point|point]] pixel offset applied to emote drawn over the NPC. Default zero.
|-
| &lt;samp>ShakePortraits&lt;/samp>
| ''(Optional)'' The portrait indexes which should shake when displayed. Default none.
|-
| &lt;samp>KissSpriteIndex&lt;/samp>
| ''(Optional)'' If the NPC can be married, the sprite index within their &lt;samp>Texture&lt;/samp> to use when kissing a player. Default 28.
|-
| &lt;samp>KissSpriteFacingDirection&lt;/samp>
| ''(Optional)'' Whether the character is facing right (true) or left (false) in their &lt;samp>KissSpriteIndex&lt;/samp>. The sprite will be flipped as needed to face the player. Default true.
|}
&lt;/dd>

&lt;dt>[[Secrets#Gift Log|Hidden gift log emote]]:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>HiddenProfileEmoteSound&lt;/samp>
| ''(Optional)'' For the [[Secrets#Gift Log|hidden gift log emote]], the [[#Custom audio|cue ID]] for the sound played when clicking the sprite. Defaults to &lt;samp>drumkit6&lt;/samp>.
|-
| &lt;samp>HiddenProfileEmoteDuration&lt;/samp>
| ''(Optional)'' For the [[Secrets#Gift Log|hidden gift log emote]], how long the animation plays measured in milliseconds. Defaults to 4000 (4 seconds).
|-
| &lt;samp>HiddenProfileEmoteStartFrame&lt;/samp>
| ''(Optional)'' For the [[Secrets#Gift Log|hidden gift log emote]], the index within the NPC's overworld sprite spritesheet at which the animation starts. If omitted for a vanilla NPC, the game plays a default animation specific to that NPC; if omitted for a custom NPC, the game just shows them walking while facing down.
|-
| &lt;samp>HiddenProfileEmoteFrameCount&lt;/samp>
| ''(Optional)'' For the [[Secrets#Gift Log|hidden gift log emote]], the number of frames in the animation. The first frame corresponds to &lt;samp>HiddenProfileEmoteStartFrame&lt;/samp>, and each subsequent frame will use the next sprite in the spritesheet. Default 1.

This has no effect if &lt;samp>HiddenProfileEmoteStartFrame&lt;/samp> isn't set.
|-
| &lt;samp>HiddenProfileEmoteFrameDuration&lt;/samp>
| ''(Optional)'' For the [[Secrets#Gift Log|hidden gift log emote]], how long each animation frame is shown on-screen before switching to the next one, measured in milliseconds. Default 200.

This has no effect if &lt;samp>HiddenProfileEmoteStartFrame&lt;/samp> isn't set.
|}
&lt;/dd>

&lt;dt>Advanced:&lt;/dt>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|-
| &lt;samp>FormerCharacterNames&lt;/samp>
| ''(Optional)'' The former NPC names which may appear in save data. If matched, the game will rename the NPC and update related data (e.g. friendship).

A former name is only applied if:
# it doesn't match a current ID in &lt;samp>Data/Characters&lt;/samp>;
# the save has an NPC with the former name;
# the save doesn't already have an NPC with the new name.

For example:
&lt;syntaxhighlight lang="js">
"FormerCharacterNames": [ "SomeOldName" ]
&lt;/syntaxhighlight>

Former names can have any format, but they must be '''globally''' unique. They can't match the ID or &lt;samp>FormerCharacterNames&lt;/samp> of any other NPC in &lt;samp>Data/Characters&lt;/samp> (whether vanilla or custom).
|-
| &lt;samp>FestivalVanillaActorIndex&lt;/samp>
| ''(Optional, Specialized)'' The NPC's index in the &lt;samp>Maps/characterSheet&lt;/samp> tilesheet, if applicable. This is used for placing vanilla NPCs in festivals from the map; custom NPCs should use the &lt;samp>&amp;lt;layer&amp;gt;_additionalCharacters&lt;/samp> field in the festival data instead.
|}
&lt;/dd>
&lt;/dl>

====Examples====
For example, this content pack adds a new ''Amabel'' NPC with full social features:

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Characters",
            "Entries": {
                "{{ModId}}_Amabel": {
                    "DisplayName": "Amabel", // this would normally use {{i18n:}} to support translations
                    "BirthSeason": "Fall",
                    "BirthDay": 14,
                    "HomeRegion": "Town",
                    "Gender": "Female",
                    "Age": "Teen",
                    "Manner": "Rude",
                    "SocialAnxiety": "Outgoing",
                    "Optimism": "Neutral",

                    "CanBeRomanced": true,
                    "LoveInterest": "Abigail",

                    "Home": [
                        {
                            "Id": "Default",
                            "Location": "SeedShop",
                            "Tile": { "X": 1, "Y": 9 },
                            "Direction": "Left"
                        }
                    ]
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

You can also add non-social NPCs which don't have birthdays or friendship points, accept gifts, give quests, etc:
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Characters",
            "Entries": {
                "{{ModId}}_Belwick": {
                    "DisplayName": "Belwick", // this would normally use {{i18n:}} to support translations

                    "SocialTab": "HiddenAlways",
                    "CanSocialize": "FALSE",
                    "IntroductionsQuest": false,
                    "PerfectionScore": false,
                    "EndSlideShow": true
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

===Custom NPC appearance===
{{/doc status|[[Modding:NPC data]]|done=false}}

Each NPC can now have any number of custom portraits/sprites in &lt;samp>Data/Characters&lt;/samp> with arbitrary conditions. This lets mods add features like indoor/outdoor outfits without the performance impact of reloading textures. If multiple outfits apply, the game will choose between them with a day-stable randomization.

For example, you can load indoor/outdoor outfits for a custom NPC to swap between automatically:
&lt;syntaxhighlight lang="js">
// add base indoor/outdoor sprites
{
    "Action": "Load",
    "Target": "Characters/Johnny_Indoor, Characters/Johnny_Outdoor, Portraits/Johnny_Indoor, Portraits/Johnny_Outdoor",
    "FromFile": "assets/{{Target}}.png"
},

// apply any overlays needed
{
    "Action": "EditImage",
    "Target": "Characters/Johnny_Indoor, Portraits/Johnny_Indoor",
    "FromFile": "assets/overlays/{{Target}}_married.png",
    "When": {
        "Spouse": "Johnny"
    }
},

// add NPC
{
    "Action": "EditData",
    "Target": "Data/Characters",
    "Entries": {
        "SomeMod.Id_Johnny": {
            ...,
            "Appearance": [
                {
                    "Id": "Outdoors",
                    "Indoors": false,
                    "Portrait": "Portraits/Johnny_Outdoor",
                    "Sprite": "Characters/Johnny_Outdoor"
                },
                {
                    "Id": "Default",
                    "Portrait": "Portraits/Johnny_Indoor",
                    "Sprite": "Characters/Johnny_Indoor"
                }
            ]
        }
    }
}
&lt;/syntaxhighlight>

See the &lt;samp>Appearance&lt;/samp> field in [[#Custom NPCs|custom NPC data]] for more info.

===Custom farm animals===
{{/doc status|[[Modding:Animal data]]|done=true}}

You can now create and edit [[Animals|farm animals]] by editing the revamped &lt;samp>Data/FarmAnimals&lt;/samp> asset. This changes to a data model, adds built-in support for custom animals, and allows far more customizability per animal (like its size, growth, produce, appearance and sounds, etc).

===Custom pets===
{{/doc status|[[Modding:Pets]]|done=true}}

* You can now create and customize [[Animals#Cat or Dog|pet]]s &amp; pet breeds by editing the new &lt;samp>Data/Pets&lt;/samp> asset.* 
* The pet bowl is now a building which can be constructed or moved. Each pet is assigned to an available pet bowl. For C# mods, each pet now has a &lt;samp>guid&lt;/samp> field populated with a unique ID, and each pet bowl has a &lt;samp>petGuid&lt;/samp> field which tracks its owner (see the &lt;samp>PetBowl::HasPet()&lt;/samp> and &lt;samp>PetBowl::FindPet()&lt;/samp> methods).
* In the [[Modding:Event data#Basic format|event character setup]], you can now use &lt;samp>pet&lt;/samp> to add a pet of the player's selected type. Its actor name will be &lt;samp>PetActor&lt;/samp> in other event commands. This supersedes &lt;samp>cat&lt;/samp> (with name &lt;samp>Cat&lt;/samp>) and &lt;samp>dog&lt;/samp> (with name &lt;samp>Dog&lt;/samp>), though those still work too.
* For C# mods:
** All pets now use a generic &lt;samp>Pet&lt;/samp> class, instead of &lt;samp>Cat&lt;/samp> or &lt;samp>Dog&lt;/samp>. The pet type is tracked by the pet's &lt;samp>petType&lt;/samp> field.
** The player's preferred pet type is tracked by &lt;samp>Game1.player.whichPetType&lt;/samp>. The former &lt;samp>catPerson&lt;/samp> field is now readonly and checks that field.
** Added &lt;samp>Pet.type_cat&lt;/samp> and &lt;samp>Pet.type_dog&lt;/samp> constants for the default pet types.

===Custom monster eradication goals===
{{/doc status|a new doc page|done=false}}

: ''See also: [[#Monster eradication goal flag changes|Monster eradication goal flag changes]].''

You can now add/edit [[Adventurer's Guild]] monster eradication goals by editing the new &lt;samp>Data/MonsterSlayerQuests&lt;/samp> data asset.

This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the monster eradication goal.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>DisplayName&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the goal's display name, shown on the board in the Adventurer's Guild.
|-
| &lt;samp>Targets&lt;/samp>
| A list of [[Modding:Monster data#Monster IDs|monster IDs]] that are counted towards the &lt;samp>Count&lt;/samp>.
|-
| &lt;samp>Count&lt;/samp>
| The total number of monsters (matching the &lt;samp>Targets&lt;/samp>) which must be defeated to complete this goal.
|-
| &lt;samp>RewardItemId&lt;/samp>
| ''(Optional)'' The [[#Custom items|qualified ID]] for the item that can be collected from [[Gil]] when this goal is completed. Default none.
|-
| &lt;samp>RewardItemPrice&lt;/samp>
| ''(Optional)'' The price of the &lt;samp>RewardItemId&lt;/samp> in [[Marlon]]'s shop after the goal is completed, or -1 to disable buying it from Marlon. Default -1.
|-
| &lt;samp>RewardDialogue&lt;/samp>&lt;br />&lt;samp>RewardDialogueFlag&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for custom [[Gil]] dialogue shown when talking to him after completing the goal, and an optional [[Modding:Mail data|mail flag]] to set when the player has seen the dialogue. Both default to none.

If there are reward items, they're shown after this dialogue.

If &lt;samp>RewardDialogue&lt;/samp> is used without &lt;samp>RewardDialogueFlag&lt;/samp>, then this dialogue will be shown each time the reward menu is opened after completing the goal, until the player collects the reward items. If the &lt;samp>RewardItems&lt;/samp> isn't set, this can safely be omitted since the goal will be marked collected immediately.

This doesn't send a letter; see &lt;samp>RewardMail&lt;/samp> or &lt;samp>RewardMailAll&lt;/samp> for that.
|-
| &lt;samp>RewardFlag&lt;/samp>&lt;br />&lt;samp>RewardFlagAll&lt;/samp>
| ''(Optional)'' The [[Modding:Mail data|mail flag ID]] to set for the current player (&lt;samp>RewardFlag&lt;/samp>) or all players (&lt;samp>RewardFlagAll&lt;/samp>) when talking to [[Gil]] after completing the goal. Default none.

Note that &lt;samp>RewardFlag&lt;/samp> is usually not needed, since the game will also set a &lt;samp>Gil_{{t|goal ID}}&lt;/samp> flag regardless.

This doesn't send a letter; see &lt;samp>RewardMail&lt;/samp> or &lt;samp>RewardMailAll&lt;/samp> for that.
|-
| &lt;samp>RewardMail&lt;/samp>&lt;br />&lt;samp>RewardMailAll&lt;/samp>
| ''(Optional)'' The mail letter ID to add to the mailbox tomorrow for the current player (&lt;samp>RewardMail&lt;/samp>) or all players (&lt;samp>RewardMailAll&lt;/samp>). Default none.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

===Custom phone calls===
{{/doc status|a new doc page|done=false}}

Mods can now extend the [[telephone]] with custom calls (both incoming calls, and phone numbers which the player can call).

====Incoming calls====
You can add or customize incoming calls by editing the &lt;samp>Data/IncomingPhoneCalls&lt;/samp> asset.

This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the incoming call data.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Dialogue&lt;/samp>
| The dialogue text to show when the player answers the phone. This can use the full [[Modding:Dialogue|dialogue format]] (including questions and different dialogue based on the selected answer).
|-
| &lt;samp>FromNpc&lt;/samp>
| ''(Optional)'' The internal name of the NPC making the call. If specified, that NPC's name and portrait will be shown.
|-
| &lt;samp>FromPortrait&lt;/samp>
| ''(Optional)'' The asset name for the portrait spritesheet to display (like &lt;samp>Portraits/Abigail&lt;/samp>). If &lt;samp>FromNpc&lt;/samp> is specified too, this overrides the portrait from that NPC. If both &lt;samp>FromNpc&lt;/samp> and &lt;samp>FromDisplayName&lt;/samp> are null, this portrait will be shown with the display name "???".
|-
| &lt;samp>FromDisplayName&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the calling NPC's display name. If &lt;samp>FromNpc&lt;/samp> is specified too, this overrides the display name from that NPC.
|-
| &lt;samp>MaxCalls&lt;/samp>
| ''(Optional)'' The maximum number of times a player can receive this phone call, or &lt;samp>-1&lt;/samp> for no limit. Default 1.
|-
| &lt;samp>TriggerCondition&lt;/samp>&lt;br />&lt;samp>RingCondition&lt;/samp>
| ''(Optional)'' If set, a game state query which indicates whether to trigger this phone call (&lt;samp>TriggerCondition&lt;/samp>) or whether the phone rings when this call is received (&lt;samp>RingCondition&lt;/samp>).

Whether a player receives this call depends on both fields: &lt;samp>TriggerCondition&lt;/samp> is checked on the main player before sending the call to all players, then &lt;samp>RingCondition&lt;/samp> is checked on each player to determine whether the phone rings for them.
|-
| &lt;samp>IgnoreBaseChance&lt;/samp>
| ''(Optional)'' Whether to ignore the 1% base chance when checking whether to trigger an incoming call. If true, the game will check if this call can be received regardless of the base chance. Default false.
|-
| &lt;samp>SimpleDialogueSplitBy&lt;/samp>
| ''(Optional, specialized)'' If set, marks the call as having a simple dialogue string without an NPC name and portrait, with lines split into multiple boxes by this substring. For example, &lt;code>"SimpleDialogueSplitBy": "#"&lt;/code> will split &lt;code>Box A#Box B#Box C&lt;/code> into three consecutive dialogue boxes.

You should omit this in most cases, and use the regular dialogue format in &lt;samp>Dialogue&lt;/samp> to split lines if needed. This is mainly intended to support some older vanilla phone calls.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

====Custom handlers in C#====
C# mods can implement &lt;samp>StardewValley.PhoneCalls.IPhoneHandler&lt;/samp> and add it to &lt;samp>Phone.PhoneHandlers&lt;/samp> for full control over both incoming and outgoing calls:

&lt;syntaxhighlight lang="c#">
/// &lt;summary>The mod entry point.&lt;/summary>
internal sealed class ModEntry : Mod
{
    /// &lt;inheritdoc />
    public override void Entry(IModHelper helper)
    {
        Phone.PhoneHandlers.Add(new CustomPhoneHandler());
    }
}

/// &lt;summary>A custom phone handler.&lt;/summary>
internal sealed class CustomPhoneHandler : IPhoneHandler
{
    ...
}
&lt;/syntaxhighlight>

See &lt;samp>StardewValley.PhoneCalls.DefaultPhoneHandler&lt;/samp> in the [[Modding:Modder Guide/Get Started#decompile|decompiled game code]] for an example implementation.

===Custom shops===
{{/doc status|[[Modding:Shops]]|done=true}}

You can now create and edit shops via the new &lt;samp>Data/Shops&lt;/samp> asset. See [[Modding:Shops]] for documentation and examples.

===Dialogue changes===
{{/doc status|[[Modding:Dialogue]]|done=false}}

&lt;ul>
&lt;li>Added new [[Modding:Dialogue|dialogue]] keys:
{| class="wikitable"
|-
! asset
! key format
! description
|-
|rowspan="22"| &lt;samp>Characters/Dialogue/&amp;lt;name&amp;gt;&lt;/samp>
|-
| &lt;samp>AcceptBirthdayGift_{{t|id}}&lt;/samp>&lt;br />&lt;samp>AcceptBirthdayGift_{{t|tag}}&lt;/samp>&lt;br />&lt;samp>AcceptBirthdayGift_{{t|taste}}&lt;/samp>&lt;br />&lt;samp>AcceptBirthdayGift_Negative&lt;/samp>&lt;br />&lt;samp>AcceptBirthdayGift_Positive&lt;/samp>&lt;br />&lt;samp>AcceptBirthdayGift&lt;/samp>
| Shown when receiving a birthday gift from the player. If omitted, defaults to the generic translations for all NPCs.

The first matching dialogue is used in this order:
# by item ID (like &lt;samp>AcceptBirthdayGift_(O)128&lt;/samp>);
# by context tag (like &lt;samp>AcceptBirthdayGift_category_fish&lt;/samp>);
# by gift taste (one of &lt;samp>AcceptBirthdayGift_Loved&lt;/samp>, &lt;samp>AcceptBirthdayGift_Liked&lt;/samp>, &lt;samp>AcceptBirthdayGift_Neutral&lt;/samp>, &lt;samp>AcceptBirthdayGift_Disliked&lt;/samp>, or &lt;samp>AcceptBirthdayGift_Hated&lt;/samp>);
# &lt;samp>AcceptBirthdayGift_Negative&lt;/samp> (hated or disliked gift) or &lt;samp>AcceptBirthdayGift_Positive&lt;/samp> (neutral, liked, or loved gift);
# for all items (via &lt;samp>AcceptBirthdayGift&lt;/samp>).

|-
| &lt;samp>AcceptBouquet&lt;/samp>
| Shown when the NPC accepts a [[bouquet]] from the player. Defaults to a generic dialogue.
|-
| &lt;samp>AcceptGift_{{t|id}}&lt;/samp>&lt;br />&lt;samp>AcceptGift_{{t|tag}}&lt;/samp>
| Shown when receiving a non-birthday gift from the player. This can be by item ID (like &lt;samp>AcceptGift_(O)128&lt;/samp>) or context tag (like &lt;samp>AcceptGift_category_fish&lt;/samp>). If omitted, defaults to the dialogue in &lt;samp>Data/NPCGiftTastes&lt;/samp>.
|-
| &lt;samp>DumpsterDiveComment&lt;/samp>
| Shown when the NPC catches the player digging through a trash can. Defaults to a generic dialogue based on the NPC's age.
|-
| &lt;samp>HitBySlingshot&lt;/samp>
| Shown when the player shoots them with a [[slingshot]]. Defaults to a generic dialogue.
|-
| &lt;samp>RejectBouquet_Divorced&lt;/samp>&lt;br />&lt;samp>RejectBouquet_NotDatable&lt;/samp>&lt;br />&lt;samp>RejectBouquet_NpcAlreadyMarried&lt;/samp>&lt;br />&lt;samp>RejectBouquet_VeryLowHearts&lt;/samp>&lt;br />&lt;samp>RejectBouquet_LowHearts&lt;/samp>&lt;br />&lt;samp>RejectBouquet&lt;/samp>
| Shown when the NPC rejects a [[bouquet]].

A specific dialogue is shown if possible:
* &lt;samp>RejectBouquet_Divorced&lt;/samp>: the NPC won't accept this bouquet because you divorced them.
* &lt;samp>RejectBouquet_NotDatable&lt;/samp>: the NPC isn't romanceable.
* &lt;samp>RejectBouquet_NpcAlreadyMarried&lt;/samp>: the NPC is already married to another player. You can use &lt;samp>{0}&lt;/samp> in the dialogue for the other player's name.
* &lt;samp>RejectBouquet_VeryLowHearts&lt;/samp>: you have less than 4 hearts with the NPC.
* &lt;samp>RejectBouquet_LowHearts&lt;/samp>: you have less than 8 hearts with the NPC.

If the specific dialogue isn't set, the game will use the &lt;samp>RejectBouquet&lt;/samp> dialogue (if set), else it'll default to generic dialogue for each case.
|-
| &lt;samp>RejectGift_Divorced&lt;/samp>
| Shown when the NPC rejects a gift because you divorced them.
|-
| &lt;samp>RejectItem_{{t|id}}&lt;/samp>&lt;br />&lt;samp>RejectItem_{{t|tag}}&lt;/samp>
| If set, the NPC will refuse to accept any matching item and show this dialogue instead. This can be by item ID (like &lt;samp>RejectItem_(O)128&lt;/samp>) or context tag (like &lt;samp>RejectItem_category_fish&lt;/samp>). This can prevent gifting, movie tickets, bouquets, mermaid pendants, etc. However it won't prevent accepting an item for an active quest or special order.
|-
| &lt;samp>RejectMermaidPendant_Divorced&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_NeedHouseUpgrade&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_NotDatable&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_NpcWithSomeoneElse&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_PlayerWithSomeoneElse&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_Under8Hearts&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_Under10Hearts&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant_Under10Hearts_AskedAgain&lt;/samp>&lt;br />&lt;samp>RejectMermaidPendant&lt;/samp>
| Shown when the NPC rejects a [[Mermaid's Pendant|mermaid's pendant]].

A specific dialogue is shown if possible. The cases are checked in this order:
# &lt;samp>RejectMermaidPendant_PlayerWithSomeoneElse&lt;/samp>: the player is already engaged or married to someone else. You can use &lt;samp>{0}&lt;/samp> in the dialogue for the player's spouse name.
# &lt;samp>RejectMermaidPendant_NotDatable&lt;/samp>: the NPC isn't romanceable.
# &lt;samp>RejectMermaidPendant_Divorced&lt;/samp>: you divorced them, so they won't accept gifts or proposals from you.
# &lt;samp>RejectMermaidPendant_NpcWithSomeoneElse&lt;/samp>: the NPC is already engaged or married to someone else. You can use &lt;samp>{0}&lt;/samp> in the dialogue for the other player's name.
# &lt;samp>RejectMermaidPendant_Under8Hearts&lt;/samp>: you have under 8 hearts with the NPC.
# &lt;samp>RejectMermaidPendant_Under10Hearts&lt;/samp>: you have under 10 hearts with the NPC.
# &lt;samp>RejectMermaidPendant_Under10Hearts_AskedAgain&lt;/samp>: you have under 10 hearts with the NPC, and asked again after they already said no. (Defaults to the previous dialogue if not set.)
# &lt;samp>RejectMermaidPendant_NeedHouseUpgrade&lt;/samp>: you need to upgrade your house before they can accept.

If the specific dialogue isn't set, the game will use the &lt;samp>RejectMermaidPendant&lt;/samp> dialogue (if set), else it'll default to generic dialogue for each case.
|-
| &lt;samp>RejectMovieTicket_AlreadyInvitedBySomeoneElse&lt;/samp>&lt;br />&lt;samp>RejectMovieTicket_AlreadyWatchedThisWeek&lt;/samp>&lt;br />&lt;samp>RejectMovieTicket_Divorced&lt;/samp>&lt;br />&lt;samp>RejectMovieTicket_DontWantToSeeThatMovie&lt;/samp>&lt;br />&lt;samp>RejectMovieTicket&lt;/samp>
| Show when the NPC rejects a [[Movie Ticket|movie ticket]].

A specific dialogue is shown if possible:
* &lt;samp>RejectMovieTicket_AlreadyInvitedBySomeoneElse&lt;/samp>: someone else already invited the NPC to a movie. You can use &lt;samp>{0}&lt;/samp> in the dialogue for the other player's name.
* &lt;samp>RejectMovieTicket_AlreadyWatchedThisWeek&lt;/samp>: the NPC already watched a movie this week.
* &lt;samp>RejectMovieTicket_Divorced&lt;/samp>: you divorced the NPC, so they won't accept gifts from you.
* &lt;samp>RejectMovieTicket_DontWantToSeeThatMovie&lt;/samp>: the movie data marks that NPC as unwilling to watch it (e.g. kids for horror movies).

If the specific dialogue isn't set, the game will use the &lt;samp>RejectMovieTicket&lt;/samp> dialogue (if set), else it'll default to generic dialogue for each case.
|-
| &lt;samp>SpouseFarmhouseClutter&lt;/samp>
| Shown by an NPC spouse when they couldn't pathfind to their kitchen standing spot in the farmhouse.
|-
| &lt;samp>SpouseGiftJealous&lt;/samp>
| Shown by an NPC spouse when you gave a gift to another eligible NPC of the same gender as your spouse (unless it's their birthday). You can use &lt;samp>{0}&lt;/samp> in the dialogue for the other NPC's name, and &lt;samp>{1}&lt;/samp> for the gifted item name.
|-
| &lt;samp>Spouse_MonstersInHouse&lt;/samp>
| Shown by an NPC spouse when they're in the farmhouse and there's a monster close to them.
|-
| &lt;samp>SpouseStardrop&lt;/samp>
| Shown when receiving the [[stardrop]] from your spouse.
|-
| &lt;samp>Fair_Judging&lt;/samp>
| Shown at the [[Stardew Valley Fair]] while Lewis is judging the grange displays. If omitted, the NPC will keep their normal festival dialogue.

If this is set without &lt;samp>Fair_Judged*&lt;/samp>, the NPC will keep this dialogue after judging is done.

''This replaces the previously hardcoded translations in &lt;samp>Strings/StringsFromCSFiles&lt;/samp>: &lt;samp>Event.cs.1602&lt;/samp> (Marnie), &lt;samp>Event.cs.1604&lt;/samp> (Pierre), and &lt;samp>Event.cs.1606&lt;/samp> (Willy).''
|-
| &lt;samp>Fair_Judged_PlayerLost_PurpleShorts&lt;/samp>&lt;br />&lt;samp>Fair_Judged_PlayerLost_Skipped&lt;/samp>&lt;br />&lt;samp>Fair_Judged_PlayerLost&lt;/samp>&lt;br />&lt;samp>Fair_Judged_PlayerWon&lt;/samp>&lt;br />&lt;samp>Fair_Judged&lt;/samp>
| Shown at the [[Stardew Valley Fair]] after Lewis finishes judging the grange displays.

The first matching dialogue is used in this order:
# &lt;samp>Fair_Judged_PlayerLost_PurpleShorts&lt;/samp>: the player put the [[Secrets#Lucky Purple Shorts|lucky purple shorts]] in their display (which is an automatic loss).  Defaults to &lt;samp>Fair_Judged_PlayerLost&lt;/samp> if omitted.
# &lt;samp>Fair_Judged_PlayerLost_Skipped&lt;/samp>: the player didn't put anything in their display. Defaults to &lt;samp>Fair_Judged_PlayerLost&lt;/samp> if omitted.
# &lt;samp>Fair_Judged_PlayerLost&lt;/samp> or &lt;samp>Fair_Judged_PlayerWon&lt;/samp>: the player didn't/did win first place. Defaults to &lt;samp>Fair_Judged&lt;/samp> if omitted.
# &lt;samp>Fair_Judged&lt;/samp>: shown if a more specific dialogue didn't match. If omitted, the NPC will keep their current dialogue.

''These replace the previously hardcoded translations in &lt;samp>Strings/StringsFromCSFiles&lt;/samp>: &lt;samp>Event.cs.1591&lt;/samp> (Pierre when he won), &lt;samp>Event.cs.1593&lt;/samp> (Pierre when the player won), &lt;samp>Event.cs.1595&lt;/samp> (Marnie), &lt;samp>Event.cs.1597&lt;/samp> (Willy), and &lt;samp>Event.cs.1600&lt;/samp> (Marnie for the purple shorts).''
|-
| &lt;samp>FlowerDance_Accept_Roommate&lt;/samp>&lt;br />&lt;samp>FlowerDance_Accept_Spouse&lt;/samp>&lt;br />&lt;samp>FlowerDance_Accept&lt;/samp>
| Shown at the [[Flower Dance]] when the NPC agrees to dance. The game will prefer the &lt;samp>_Roommate&lt;/samp> (if roommates) or &lt;samp>_Spouse&lt;/samp> (if married) variant if applicable, else it'll check for the normal key. If omitted, defaults to a generic accept dialogue.

''This replaces the previously hardcoded translations in &lt;samp>Strings/StringsFromCSFiles&lt;/samp> (&lt;samp>Event.cs.1613&lt;/samp>, &lt;samp>Event.cs.1615&lt;/samp>, &lt;samp>Event.cs.1617&lt;/samp>, &lt;samp>Event.cs.1619&lt;/samp>, &lt;samp>Event.cs.1621&lt;/samp>, &lt;samp>Event.cs.1623&lt;/samp>, &lt;samp>Event.cs.1625&lt;/samp>, &lt;samp>Event.cs.1627&lt;/samp>, &lt;samp>Event.cs.1629&lt;/samp>, and &lt;samp>Event.cs.1631&lt;/samp>).''
|-
| &lt;samp>FlowerDance_Decline&lt;/samp>
| Shown at the [[Flower Dance]] when the NPC declines to dance. This replaces the former &lt;samp>danceRejection&lt;/samp> key (which still works as a fallback).
|-
| &lt;samp>WinterStar_GiveGift_Before_Roommate&lt;/samp>&lt;br />&lt;samp>WinterStar_GiveGift_Before_Spouse&lt;/samp>&lt;br />&lt;samp>WinterStar_GiveGift_Before&lt;/samp>&lt;br />&lt;samp>WinterStar_GiveGift_After_Roommate&lt;/samp>&lt;br />&lt;samp>WinterStar_GiveGift_After_Spouse&lt;/samp>&lt;br />&lt;samp>WinterStar_GiveGift_After&lt;/samp>
| Shown at the [[Feast of the Winter Star]] when the NPC gives the player their gift (before and after the player opens it). The game will prefer the &lt;samp>_Roommate&lt;/samp> (if roommates) or &lt;samp>_Spouse&lt;/samp> (if married) variant if applicable, else it'll check for the normal key. If omitted, the before/after dialogues each separately default to a generic translation for all NPCs.
|-
| &lt;samp>WinterStar_ReceiveGift_{{t|id}}&lt;/samp>&lt;br />&lt;samp>WinterStar_ReceiveGift_{{t|tag}}&lt;/samp>&lt;br />&lt;samp>WinterStar_ReceiveGift&lt;/samp>
| Shown at the [[Feast of the Winter Star]] when receiving their gift from the player. This can be by item ID (like &lt;samp>WinterStar_ReceiveGift_(O)128&lt;/samp>), context tag (like &lt;samp>WinterStar_ReceiveGift_category_fish&lt;/samp>), or for any item (like &lt;samp>WinterStar_ReceiveGift&lt;/samp>). If omitted, defaults to the generic translation for all NPCs.
|-
| &lt;samp>WipedMemory&lt;/samp>
| Shown the first time you talk to the NPC after erasing their memory using the [[Dark Shrine of Memory]].
|}
&lt;/li>
&lt;li>Added new [[Modding:Dialogue|dialogue]] commands:
{| class="wikitable"
|-
! command
! description
|- id="gender-switch"
| &lt;samp>${male^female}$&lt;/samp>&lt;br />&lt;samp>${male^female^non-binary}$&lt;/samp>
| Change text depending on the player's gender. This largely supersedes the &lt;samp>^&lt;/samp> dialogue token (which still works), and is supported in many more places than that token. This is applied before most other commands or parsing, so it can safely be used in cases where &lt;samp>^&lt;/samp> might have a different meaning (e.g. mail text). For example: &lt;code>Ahoy there ${lad^lass}$!&lt;/code> or &lt;code>Ahoy there ${lad^lass^matey}$!&lt;/code>.

You can optionally use &lt;samp>¦&lt;/samp> instead of &lt;samp>^&lt;/samp>, in which case any &lt;samp>^&lt;/samp> characters are left as-is.

Note that the non-binary value is only used if a mod overrides the player's gender, since the in-game UI only allows male or female.
|-
| &lt;samp>$action {{t|action}}&lt;/samp>
| Run a [[Modding:Trigger actions|trigger action string]], like &lt;samp>$action AddMoney 500&lt;/samp> to add {{price|500}} to the current player.
|-
| &lt;samp>$query {{t|query}}#{{t|if true}}&amp;#124;{{t|if false}}&lt;/samp>
| Show different dialogue text depending on the [[Modding:Game state queries|game state query]] in {{t|query}}. For example:
&lt;syntaxhighlight lang="js">
"Mon": "$query !PLAYER_VISITED_LOCATION Current Mine#Did you know there's an old abandoned mine up in the mountain? Apparently it's crawling with monsters!|I heard you went into the old mines up in the mountain!#Did you find anything tasty?$h"
&lt;/syntaxhighlight>
|-
| &lt;samp>$t {{t|topic ID}} {{o|day length}}&lt;/samp>
| Add a [[Modding:Dialogue#Conversation topics|conversation topic]] for the next {{o|day length}} days (default 4 days).
|-
| &lt;samp>$v {{t|event id}} {{o|check preconditions}} {{o|skip if seen}}&lt;/samp>
| Immediately start an [[Modding:Event data|event]] and end the current dialogue, subject to the conditions:
* {{o|check preconditions}}: whether to ignore the command if the [[Modding:Event data#Event preconditions|event's preconditions]] don't match (one of &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>). Default true.
* {{o|skip if seen}}: whether to ignore the command if the player has already seen the given event. Default true.

If the event is not played, the dialogue continues to the next line instead.

For example, &lt;code>$v 60367 false false&lt;/code> will replay the bus arrival event from the start of the game. &lt;code>$v SomeMod.Test true false#$b#Wow! Good timing!$1&lt;/code> will play the event "SomeMod.Test" if the player meets the precondition requirements. If they do not, the dialogue "Wow! Good timing!$1" will play instead.  

Note: The command will only work if it is at the very start of the dialogue. Adding any dialogue or other commands before it will cause it not to trigger the event and display the event commands as dialogue instead. 
|}
&lt;/li>
&lt;li>Improved dialogue commands:
{| class="wikitable"
|-
! command
! changes
|-
| &lt;samp>$p&lt;/samp>
| You can now check multiple answer IDs. For example, this will show the first dialogue if the player chose dialogue answer 17, 18, or 19:
&lt;pre>$p 17|18|19#I guess you think nothing would happen, right?$u|Maybe a wicked ghost would appear!&lt;/pre>
|}&lt;/li>
&lt;li>[[Modding:Dialogue#Response IDs|Dialogue response IDs]] are now [[Modding:Common data field types#Unique string ID|unique string IDs]].&lt;/li>
&lt;li>[[Secrets#Item Spawn Cheat|Item spawn codes]] now use string item IDs. That means you can spawn any item using its [[#Custom items|qualified item ID]] (like &lt;code>[(F)1664]&lt;/code> for a [[Mystic Rug]]), but can no longer prepend zeros (e.g. &lt;code>[128]&lt;/code> is a pufferfish but &lt;code>[0128]&lt;/code> is an error item).&lt;/li>
&lt;li>For C# mods, &lt;samp>Dialogue&lt;/samp> now tracks the translation key used to build it (when applicable). For example, you can detect when the player is rejected at the [[Flower Dance]] (derived from {{github|spacechase0/StardewValleyMods|Three-Heart Dance Partner}}):
&lt;syntaxhighlight lang="c#">
private void OnMenuChanged(object sender, MenuChangedEventArgs e)
{
    bool isDanceRejection =
        Game1.currentLocation?.currentEvent?.FestivalName == "Flower Dance"
        &amp;&amp; e.NewMenu is DialogueBox dialogueBox
        &amp;&amp; dialogueBox.characterDialogue is {} dialogue
        &amp;&amp; dialogue.TranslationKey == $"Characters\\Dialogue\\{dialogue.speaker?.Name}:danceRejection";
}
&lt;/syntaxhighlight>

For C# mods that create &lt;samp>Dialogue&lt;/samp> instances directly, there's a few ways to do it now:
&lt;syntaxhighlight lang="c#">
// from a translation key
var dialogue = new Dialogue(npc, "Strings\\StringsFromCSFiles:Utility.cs.5360");

// from custom text (with or without a translation key)
var dialogue = new Dialogue(npc, null, "Some arbitrary text to show as-is");

// from a translation with tokens
var dialogue = Dialogue.FromTranslation(npc, "Data\\ExtraDialogue:PurchasedItem_2_QualityLow_Willy", whatToCallPlayer, particle, i.DisplayName);
&lt;/syntaxhighlight>

You can also easily add fallback logic using &lt;samp>Dialogue.TryGetDialogue&lt;/samp> or &lt;samp>npc.TryGetDialogue&lt;/samp>. For example:
&lt;syntaxhighlight lang="c#">
Dialogue dialogue =
    npc.TryGetDialogue($"rejection_{itemId}_{locationName}_{x}_{y}")
    ?? npc.TryGetDialogue($"rejection_{itemId}_{locationName}")
    ?? npc.TryGetDialogue($"rejection_{itemId}")
    ?? new Dialogue(npc, "Strings\\StringsFromCSFiles:NPC.cs.3971");
&lt;/syntaxhighlight>
&lt;/li>
&lt;li>For C# mods, added a &lt;samp>dialogue.sideEffects&lt;/samp> field to run code when the dialogue is displayed.&lt;/li>
&lt;li>The 'reveal taste' dialogue command now uses the format &lt;samp>%revealtaste:{{t|npc name}}:{{t|item ID}}&lt;/samp> to support item IDs. (The previous &lt;samp>%revealtaste{{t|npc name}}{{t|item index}}&lt;/samp> format still works to support old content packs, but the item index can only be a number.)&lt;/li>
&lt;li>NPCs no longer override the portrait for a gift taste dialogue that uses a portrait command explicitly.&lt;/li>
&lt;li>Fixed unknown [[Modding:Dialogue|dialogue]] commands starting with &lt;samp>$&lt;/samp> being parsed as a portrait number when not numeric.&lt;/li>
&lt;li>Fixed NPCs only using a &lt;code>{day name}{hearts}_{year}&lt;/code> dialogue if they also have a &lt;code>{day name}{hearts}&lt;/code> one.&lt;/li>
&lt;li>Fixed NPCs only using the &lt;code>MovieInvitation&lt;/code> dialogue key in English.&lt;/li>
&lt;/ul>

===Schedule changes===
{{/doc status|[[Modding:Schedule data]]|done=false}}

&lt;ul>
&lt;li>Schedule keys are now case-insensitive.&lt;/li>
&lt;li>Added a new &lt;samp>{{t|day of week}}_{{t|min hearts}}&lt;/samp> schedule key.&lt;/li>
&lt;li>Added an &lt;samp>NPC.ScheduleKey&lt;/samp> field which always matches their loaded schedule.&lt;/li>
&lt;li>Schedule commands now trim surrounding whitespace, so they can be multilined for readability. For example:
&lt;syntaxhighlight lang="js">"Wed": "
    1000 ArchaeologyHouse 11 9 0/
    1800 Town 47 87 0/
    2200 SeedShop 1 9 3 abigail_sleep
"&lt;/syntaxHighlight>&lt;/li>
&lt;li>Removed an unintended schedule fallback to a &lt;samp>{season}_spring_{hearts}&lt;/samp> key. It'll skip to the &lt;samp>spring&lt;/samp> default instead.&lt;/li>
&lt;li>Schedules are now fault-tolerant:
* Fixed crash if a selected schedule can't be parsed. The NPC now logs an error and continues with the next fallback instead.
* Fixed crash if certain hardcoded schedules aren't present (like Penny's &lt;samp>marriageJob&lt;/samp> or Pam's &lt;samp>bus&lt;/samp>).
* Fixed error if a schedule command is empty.&lt;/li>
&lt;/ul>

===Other NPC changes===
{{/doc status|[[Modding:NPC data]] as needed|done=false}}

&lt;ul>
&lt;li>Added &lt;samp>Game1.characterData&lt;/samp> and &lt;samp>Game1.farmAnimalData&lt;/samp> to read NPC/animal info without constantly reloading the &lt;samp>Data/Characters&lt;/samp> or &lt;samp>Data/FarmAnimals&lt;/samp> asset.&lt;/li>
&lt;li>All translated NPC names are now in &lt;samp>Strings/NPCNames&lt;/samp>.
&lt;li>Added new fields &amp; methods for C# mods:

{| class="wikitable"
|-
! type
! field/method
! effect
|-
|rowspan="2"| &lt;samp>AdventureGuild&lt;/samp>
| &lt;samp>IsComplete(data)&lt;/samp>
| Get whether an [[Adventurer's Guild]] monster eradication goal has been completed, regardless of whether the player collected its rewards yet.
|-
| &lt;samp>HasCollectedReward(player, id)&lt;/samp>
| Get whether a given player has completed an [[Adventurer's Guild]] monster eradication goal and collected its rewards. For example:
&lt;syntaxhighlight lang="c#">
bool isPhoneUnlocked = AdventureGuild.HasCollectedReward(Game1.player, "Gil_FlameSpirits");
&lt;/syntaxhighlight>
|-
| &lt;samp>AnimalHouse&lt;/samp>
| &lt;samp>adoptAnimal&lt;/samp>
| Add an animal to this location and set the location as the animal's home.
|-
| &lt;samp>AnimatedSprite&lt;/samp>
| &lt;samp>Owner&lt;/samp>
| The NPC which owns the sprite.
|-
|rowspan="3"| &lt;samp>Character&lt;/samp>
| &lt;samp>IsVillager&lt;/samp>
| Whether this is an NPC-type villager (i.e. not a monster, horse, pet, player's child, etc). In other words, this checks whether the NPC would use data from &lt;samp>Data/Characters&lt;/samp> (regardless of whether they currently have an entry in the asset).
|-
| &lt;samp>StandingPixel&lt;/samp>
| The character's cached pixel position within the current location, based on the center pixel of their bounding box.
|-
| &lt;samp>Tile&lt;/samp>&lt;br />&lt;samp>TilePoint&lt;/samp>
| The character's cached tile position within their current location. &lt;samp>Tile&lt;/samp> is their exact non-integer position, and &lt;samp>TilePoint&lt;/samp> is their integer tile position.
|-
|rowspan="7"| &lt;samp>FarmAnimal&lt;/samp>
| &lt;samp>isAdult&lt;/samp>
| Get whether the farm animal is fully grown (opposite of &lt;samp>isBaby()&lt;/samp>).
|-
| &lt;samp>CanGetProduceWithTool&lt;/samp>
| Get whether the farm animal's produce can be collected with a given tool (e.g. milk pail for a cow).
|-
| &lt;samp>CanLiveIn&lt;/samp>
| Get whether the animal can be added to a building.
|-
| &lt;samp>GetDisplayName&lt;/samp>&lt;br />&lt;samp>GetShopDescription&lt;/samp>
| Get the translated display name or shop description for this animal.
|-
| &lt;samp>GetHarvestType&lt;/samp>
| Get whether the animal's produce is dropped or collected with a tool.
|-
| &lt;samp>growFully&lt;/samp>
| Instantly age the animal to adulthood if it's still a baby.
|-
| &lt;samp>ReloadTextureIfNeeded&lt;/samp>
| Update the animal sprite based on the current state + data.
|-
| rowspan="2"| &lt;samp>Farmer&lt;/samp>
| &lt;samp>GetDisplayPants&lt;/samp>&lt;br />&lt;samp>GetDisplayShirt&lt;/samp>
| Get the texture and sprite index to draw for the player's pants or shirt. This accounts for override clothing, worn clothing, and the default clothing drawn when the farmer isn't wearing anything.

For example:
&lt;syntaxhighlight lang="c#">
Game1.player.GetDisplayShirt(out Texture2D texture, out int spriteIndex);
&lt;/syntaxhighlight>
|-
| &lt;samp>CanDyePants&lt;/samp>&lt;br />&lt;samp>CanDyeShirt&lt;/samp>
| Get whether the currently equipped pants or shirt can be [[Dyeing|dyed]].
|-
| &lt;samp>Monster&lt;/samp>
| &lt;samp>GetDisplayName(name)&lt;/samp>
| Get the translated display name for a monster type.
|-
|rowspan="4"| &lt;samp>NPC&lt;/samp>
| &lt;samp>CanReceiveGifts&lt;/samp>
| Get whether this NPC can receive gifts from the player (regardless of whether they've already received one today).
|-
| &lt;samp>GetData&lt;/samp>&lt;br />&lt;samp>NPC.TryGetData&lt;/samp>
| Get the underlying data from &lt;samp>Data/Characters&lt;/samp> for this NPC, if any.
|-
| &lt;samp>NPC.GetDisplayName(name)&lt;/samp>
| Get the translated display name in the current language for an NPC by their internal name.
|-
| &lt;samp>hasDarkSkin&lt;/samp>
| Whether this character has dark skin for the purposes of child genetics.
|-
| &lt;samp>Pet&lt;/samp>
| &lt;samp>GetPetData&lt;/samp>&lt;br />&lt;samp>TryGetData&lt;/samp>
| Get the underlying data from &lt;samp>Data/Pets&lt;/samp> for this pet, if any.
|-
| &lt;samp>ShopMenu&lt;/samp>
| &lt;samp>ShopId&lt;/samp>
| A key which identifies the current shop. This may be the unique shop ID in &lt;samp>Data/Shops&lt;/samp> for a standard shop, &lt;samp>Dresser&lt;/samp> or &lt;samp>FishTank&lt;/samp> for furniture, etc. This is guaranteed to be set to a relevant shop ID.

This replaces the former &lt;samp>shopContext&lt;/samp> field, and will usually have the same value in cases where that was set to a unique shop ID.
|-
| &lt;samp>Utility&lt;/samp>
| &lt;samp>getAllVillagers&lt;/samp>
| Get all villager NPCs (excluding horses, pets, monsters, player children, etc). This works just like &lt;samp>getAllCharacters&lt;/samp> with an added filter.
|}
&lt;/li>
&lt;li>NPCs now update on save loaded when their home data changes.&lt;/li>
&lt;li>&lt;samp>NPC.reloadSprite()&lt;/samp> now has an argument to only reload the appearance, without changing other data.&lt;/li>
&lt;li>&lt;samp>Utility.getAllCharacters()&lt;/samp> now returns a plain &lt;samp>List&amp;lt;NPC&amp;gt;&lt;/samp> value instead of a custom &lt;samp>DisposableList&amp;lt;NPC&amp;gt;&lt;/samp>, so you can use normal LINQ querying on it.&lt;/li>
&lt;li>&lt;samp>Utility.GetHorseWarpRestrictionsForFarmer(player)&lt;/samp> now returns an enum (which is more efficient and easier for mods to patch), and added a new &lt;samp>Utility.GetHorseWarpErrorMessage(restrictions)&lt;/samp> method to get the error message to show for it.&lt;/li>
&lt;li>&lt;samp>Farmer.hasAFriendWithHeartLevel&lt;/samp> now has an optional max-hearts argument.&lt;/li>
&lt;li>Removed most &lt;samp>FarmAnimal&lt;/samp> fields/properties which just mirror the underlying data.&lt;/li>
&lt;li>Removed invalid item IDs in &lt;samp>Data/NPCGiftTastes&lt;/samp>.&lt;/li>
&lt;li>Fixed NPCs sometimes duplicated on save load (particularly if their home location changed).&lt;/li>
&lt;li>Fixed child NPCs like [[Jas]] or [[Vincent]] ignoring relative titles like "mom" in &lt;samp>Data/NPCDispositions&lt;/samp> (now &lt;samp>Data/Characters&lt;/samp>) for reveal-gift-taste dialogues.&lt;/li>
&lt;li>Fixed custom NPCs ignoring dialogue when they use a subclass of &lt;samp>NPC&lt;/samp>.&lt;/li>
&lt;li>Fixed monsters not loading their display name from &lt;samp>Data/Monsters&lt;/samp> for English players.&lt;/li>
&lt;li>Fixed player children not applying the &lt;samp>IsInvisible&lt;/samp> flag.&lt;/li>
&lt;/ul>

==What's new for everything else==
===Buff overhaul===
{{/doc status|a new doc page|done=false}}

: ''See also: [[#Custom buffs|custom buffs]].''

1.6 rewrites buffs to work more consistently and be more extensible:

* Buff logic is unified into &lt;samp>Game1.player.buffs&lt;/samp>, which is the single source of truth for buff data. This replaces the previous &lt;samp>player.added*&lt;/samp> and &lt;samp>player.appliedBuffs&lt;/samp> fields, &lt;samp>BuffsDisplay&lt;/samp> logic, enchantment stat bonuses, and boots/ring attribute changes on (un)equip.
* This also removes limitations on buff types (e.g. buffs can add weapon bonuses and weapons can add attribute buffs) and buffable equipment (e.g. equipped tools can have buffs too).
* Buff effects are now fully recalculated when they change, to fix a range of longstanding bugs like attribute drift and double-debuffs. Just like before, the buffs are managed locally; only the buff IDs and aggregate attribute effects are synced.

'''For C# mods:'''
* Each buff now has a unique string ID. You can apply a new buff with the same ID to replace it (so you no longer need to manually find and remove previous instances of the buff).
* The buff duration can now be set to &lt;samp>Buff.ENDLESS&lt;/samp> to remove the duration. It'll last all day until the player sleeps.
* You can add standard buff effects to any equipment by overriding &lt;samp>Item.AddEquipmentEffects&lt;/samp>, or add custom behaviour/buffs by overriding &lt;samp>Item.onEquip&lt;/samp> and &lt;samp>Item.onUnequip&lt;/samp>.
* You can add custom food or drink buffs by overriding &lt;samp>Item.GetFoodOrDrinkBuffs()&lt;/samp>.
* The &lt;samp>Buff&lt;/samp> constructor now supports a custom icon texture, sprite index, display name, description, and millisecond duration to fully support custom buffs.
* You can change how buff attributes are displayed (or add new attributes) by extending the &lt;samp>BuffsDisplay.displayAttributes&lt;/samp> list.
* You can have invisible buffs by setting &lt;samp>buff.visible = false&lt;/samp>.

For example, here's how to add a custom buff which adds +3 speed:

&lt;syntaxhighlight lang="c#">
Buff buff = new Buff(
    id: "Example.ModId_ZoomZoom",
    displayName: "Zoom Zoom", // can optionally specify description text too
    iconTexture: this.Helper.ModContent.Load&lt;Texture2D>("assets/zoom.png"),
    iconSheetIndex: 0,
    duration: 30_000, // 30 seconds
    effects: new BuffEffects()
    {
        Speed = { 10 } // shortcut for buff.Speed.Value = 10
    }
);
Game1.player.applyBuff(buff);
&lt;/syntaxhighlight>

You can also implement your own custom effects in code by checking if the buff is active, like &lt;code>Game1.player.hasBuff("Example.ModId_ZoomZoom")&lt;/code>.

===Custom audio===
{{/doc status|[[Modding:Audio]]|done=true}}

You can now add or edit music tracks or sound effects by editing the new &lt;samp>Data/AudioChanges&lt;/samp> asset. New cues are added to the game's soundbank, so they can be used anywhere normal audio can be used (e.g. the &lt;samp>Music&lt;/samp> [[Modding:Maps|map property]]). This supports &lt;samp>.ogg&lt;/samp> and &lt;samp>.wav&lt;/samp> files, and the vanilla audio features (e.g. randomizing audio from one ID).

Audio is also more fault-tolerant in 1.6: the game no longer crashes when playing audio which doesn't exist, it now logs an error and returns a default quiet click sound instead. (If you use &lt;code>try..catch&lt;/code> to check if an audio cue exists, you should check &lt;code>Game1.soundbank.Exists(name)&lt;/code> instead.)

===Custom buffs===
{{/doc status|a new doc page|done=false}}

: ''See also: [[#Buff overhaul|buff overhaul]].''

You can now define custom buffs by editing the new &lt;samp>Data/Buffs&lt;/samp> asset. You can then use the buff from other places like &lt;samp>Data/Object&lt;/samp>'s &lt;samp>Buff&lt;/samp> field or the C# &lt;samp>Buff&lt;/samp> constructor.

This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the buff.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! purpose
|-
| &lt;samp>DisplayName&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the buff name.
|-
| &lt;samp>Description&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the buff name. Default none.
|-
| &lt;samp>IsDebuff&lt;/samp>
| ''(Optional)'' >Whether this buff counts as a debuff, so its duration should be halved when wearing a [[Sturdy Ring|sturdy ring]]. Default false.
|-
| &lt;samp>GlowColor&lt;/samp>
| ''(Optional)'' The glow color to apply to the player. See [[#Color fields|color format]]. Default none.
|-
| &lt;samp>Duration&lt;/samp>
| The duration in milliseconds for which the buff should be active. This can be set to value &lt;samp>-2&lt;/samp> for a buff that should last for the rest of the day.
|-
| &lt;samp>MaxDuration&lt;/samp>
| ''(Optional)'' The maximum buff duration in milliseconds. If specified and larger than &lt;samp>Duration&lt;/samp>, a random value between &lt;samp>Duration&lt;/samp> and &lt;samp>MaxDuration&lt;/samp> will be selected for each buff. Default none.
|-
| &lt;samp>IconTexture&lt;/samp>
| The asset name for the texture containing the buff's sprite.
|-
| &lt;samp>IconSpriteIndex&lt;/samp>
| ''(Optional)'' The sprite index for the buff icon within the &lt;samp>IconTexture&lt;/samp>. Default 0.
|-
| &lt;samp>Effects&lt;/samp>
| ''(Optional)'' The buff attributes to apply. Default none.

This consists of a model with any combination of these fields:
{| class="wikitable"
|-
! field
! purpose
|-
| &lt;samp>FarmingLevel&lt;/samp>&lt;br />&lt;samp>FishingLevel&lt;/samp>&lt;br />&lt;samp>ForagingLevel&lt;/samp>&lt;br />&lt;samp>LuckLevel&lt;/samp>&lt;br />&lt;samp>MiningLevel&lt;/samp>
| ''(Optional)'' An amount applied to the matching [[Skills|skill level]] while the buff is active. This can be negative for a debuff. Default 0.
|-
| &lt;samp>Attack&lt;/samp>&lt;br />&lt;samp>Defense&lt;/samp>&lt;br />&lt;samp>MagneticRadius&lt;/samp>&lt;br />&lt;samp>MaxStamina&lt;/samp>&lt;br />&lt;samp>Speed&lt;/samp>
| ''(Optional)'' An amount applied to the player's [[attack]], [[defense]], [[Magnetism|magnetic radius]], maximum [[Energy|stamina]], or [[speed]] while the buff is active. This can be negative for a debuff. Default 0.
|}
|-
| &lt;samp>ActionsOnApply&lt;/samp>
| ''(Optional)'' Run any number of [[Modding:Trigger actions|trigger action strings]] when the buff is applied to the current player. For example, this increments a player stat:
&lt;syntaxhighlight lang="js">
"ActionsOnApply": [
    "IncrementStat {{ModId}}_NumberEaten 1"
]
&lt;/syntaxhighlight>
|-
| &lt;samp>CustomFields&lt;/samp>
| ''(Optional)'' The [[#Custom data fields|custom fields]] for this entry. 
|}

===Custom data fields===
{{/doc status|[[Modding:Common data field types#Custom fields]]|done=true}}

Many data assets now have a &lt;samp>CustomFields&lt;/samp> field. This is ignored by the game, but lets mods add their own data (e.g. to enable mod framework features).

For example, a content pack can [[#Custom crops|add a crop]] with custom fields:
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Crops",
            "Entries": {
                "Example.Id_CucumberSeeds": {
                    "Seasons": [ "summer" ],
                    "DaysInPhase": [ 1, 2, 2, 2 ],
                    "HarvestItemId": "Example.Id_Cucumber",
                    "Texture": "{{InternalAssetKey: assets/crops.png}}",
                    "SpriteIndex": 0,

                    "CustomFields": {
                        "Example.FrameworkMod/WetTexture": "{{InternalAssetKey: assets/crops-wet.png}}"
                    }
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

And then a C# mod could handle the custom field if it's set:
&lt;syntaxhighlight lang="c#">
if (Game1.currentLocation.IsRainingHere())
{
    CropData data = crop.GetData();
    if (data != null &amp;&amp; data.CustomFields.TryGetValue("Example.FrameworkMod/WetTexture", out string textureName))
    {
        // do magic
    }
}
&lt;/syntaxhighlight>

See &lt;samp>CustomFields&lt;/samp> in the docs for each asset type to see if it's supported. Besides the sections listed on this page, custom fields were also added to &lt;samp>Data/AdditionalFarms&lt;/samp>, &lt;samp>Data/AdditionalLanguages&lt;/samp>, &lt;samp>Data/FishPondData&lt;/samp>, &lt;samp>Data/HomeRenovations&lt;/samp>, &lt;samp>Data/Movies&lt;/samp>, and &lt;samp>Data/SpecialOrders&lt;/samp>.

See [[Modding:Common data field types#Custom fields]] for the main docs.

===Custom giant crops===
{{/doc status|a new doc page|done=false}}

You can now add/edit [[Crops#Giant Crops|giant crops]] by editing the &lt;samp>Data/GiantCrops&lt;/samp> data asset.

This consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the giant crop.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>FromItemId&lt;/samp>
| The [[#Custom items|item ID]] (qualified or unqualified) for the harvest ID of the regular crop which can turn into this giant crop. For example, &lt;samp>(O)254&lt;/samp> is [[melon]].

Any number of giant crops can use the same &lt;samp>FromItemId&lt;/samp> value. The first giant crop whose other fields match (if any) will spawn.
|-
| &lt;samp>HarvestItems&lt;/samp>
| The items which can be dropped when you break the giant crop. If multiple items match, they'll all be dropped.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields supported for harvest items.

If set to an [[Modding:Item queries|item query]] which returns multiple items, one of them will be selected at random.
|-
| &lt;samp>Chance&lt;/samp>
| ''(Optional)'' The probability that this entry is selected, as a value between 0 (never drops) and 1 (always drops). Default 1 (100% chance).
|-
| &lt;samp>ForShavingEnchantment&lt;/samp>
| ''(Optional)'' Whether this item is only dropped for [[Enchantments#Tool enchantments|Shaving enchantment]] drops (&lt;samp>true&lt;/samp>), only when the giant crop is broken (&lt;samp>false&lt;/samp>), or both (&lt;samp>null&lt;/samp>). Default both.
|-
| &lt;samp>ScaledMinStackWhenShaving&lt;/samp>&lt;br />&lt;samp>ScaledMaxStackWhenShaving&lt;/samp>
| ''(Optional)'' If set, the min/max stack size when this item is dropped due to the [[Forge#Enchantments|shaving enchantment]], scaled to the tool's power level.

This value is multiplied by the health deducted by the tool hit which triggered the enchantment. For example, an iridium axe which reduced the giant crop's health by 3 points will produce three times this value per hit.

If both fields are set, the stack size is randomized between them. If only one is set, it's applied as a limit after the generic fields. If neither is set, the generic &lt;samp>MinStack&lt;/samp>/&lt;samp>MaxStack&lt;/samp> fields are applied as usual without scaling.
|}
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture containing the giant crop's sprite.
|-
| &lt;samp>TexturePosition&lt;/samp>
| ''(Optional)'' The top-left pixel position of the sprite within the &lt;samp>Texture&lt;/samp>, specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. Defaults to (0, 0).
|-
| &lt;samp>TileSize&lt;/samp>
| ''(Optional)'' The area in tiles occupied by the giant crop, specified as a model with &lt;samp>X&lt;/samp> and &lt;samp>Y&lt;/samp> fields. This affects both its sprite size (which should be 16 pixels per tile) and the grid of crops needed for it to grow. Note that giant crops are drawn with an extra tile's height. Defaults to (3, 3).
|-
| &lt;samp>Health&lt;/samp>
| ''(Optional)'' The health points that must be depleted to break the giant crop. The number of points depleted per [[axe]] chop depends on the axe power level. Default 3.
|-
| &lt;samp>Chance&lt;/samp>
| ''(Optional)'' The percentage chance that a given grid of crops will grow into the giant crop each night, as a value between 0 (never) and 1 (always). Default 0.01 (1%).

Note that the chance is checked for each giant crop that applies. If three giant crops each have a 1% chance of spawning for the same crop, then there's a 3% chance that one of them will spawn.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this giant crop is available to spawn. Defaults to always true.
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[#Custom data fields|custom fields]] for this entry.
|}

===Custom jukebox tracks===
{{/doc status|a new doc page|done=false}}

You can now change [[jukebox]] audio tracks by editing the new &lt;samp>Data/JukeboxTracks&lt;/samp> data asset.

This consists of a string → model lookup, where...
* The key is the [[#Custom audio|audio cue ID]] to play (case-sensitive).
* The value is a model with the fields listed below.

If the player has heard a music track not listed in &lt;samp>Data/JukeboxTracks&lt;/samp>, it's automatically available with the title set to the cue name. To disable a track, add an entry with &lt;samp>"Available": false&lt;/samp>.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Name&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the music track's in-game title. Defaults to the ID.
|-
| &lt;samp>Available&lt;/samp>
| ''(Optional)'' Whether the track should be shown in the jukebox menu. This can be &lt;samp>true&lt;/samp> (always shown), &lt;samp>false&lt;/samp> (never shown), or &lt;samp>null&lt;/samp> (show if the player has heard it before). Default &lt;samp>null&lt;/samp>.

Tracks with &lt;samp>"Available": true&lt;/samp> are listed first in the jukebox menu.
|-
| &lt;samp>AlternativeTrackIds&lt;/samp>
| ''(Optional)'' A list of other cue names for this audio track (not case-sensitive). If the player has heard any of these track IDs, this entry is available in the menu. Default none.

For example, this can be used when renaming a track to keep it unlocked for existing players:
&lt;syntaxhighlight lang="js">
"{{ModId}}_TrackName": {
    "Name": "{{i18n: track-name}}",
    "AlternativeTrackIds": [ "OldTrackName" ]
}
&lt;/syntaxhighlight>
|}

===Custom movies===
{{/doc status|[[Modding:Movie theater data]]|done=false}}

: ''See also: [[#Custom movie concessions|custom movie concessions]].''

[[Modding:Movie theater data#Movie data|Movie data]] was previously very limited and prone to mod conflicts, since (a) we needed incrementing movie IDs like &lt;samp>spring_movie_3&lt;/samp>, (b) we were limited to one movie per season, and (c) all sprites for each movie had to be in the vanilla &lt;samp>LooseSprites/Movies&lt;/samp> spritesheet.

Stardew Valley 1.6 revamps how movies work to address those limitations.

&lt;dl>
&lt;dt>Movie selection&lt;/dt>
&lt;dd>&lt;p>Movies were previously selected based on a specific ID pattern: &lt;samp>spring_movie_0&lt;/samp> would play in spring the year you built the movie theater, &lt;samp>spring_movie_1&lt;/samp> would play in spring the next year, etc. That meant it'd take two in-game years to see the first custom movie, and ID conflicts had to be managed manually.&lt;/p>

In 1.6, we can now have multiple movies per month based on the new fields listed below. If multiple movies can play in the same season, each movie will be shown for an equal block of days within the month (e.g. four movies will each play for seven consecutive days). If there are more movies than days, 28 movies will be chosen at random to play that month.&lt;/dd>

&lt;dt>New data fields&lt;/dd>
&lt;dd>
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Seasons&lt;/samp>
| ''(Optional)'' The seasons when the movie should play, or omit for any season. For example:
&lt;syntaxhighlight lang="js">"Seasons": [ "Spring", "Summer" ]&lt;/syntaxhighlight>
|-
| &lt;samp>YearModulus&lt;/samp>&lt;br />&lt;samp>YearRemainder&lt;/samp>
| ''(Optional)'' If set, plays the movie on alternating years based on the formula &lt;samp>theater_age % modulus == remainder&lt;/samp>, where &lt;samp>theater_age&lt;/samp> is the number of years since the movie theater was built. If omitted, the movie plays in any year.

For example:

&lt;syntaxhighlight lang="js">
// play in the first year, and every second year thereafter
"YearModulus": 2,
"YearRemainder": 0
&lt;/syntaxhighlight>
&lt;syntaxhighlight lang="js">
// play in the second year, and every second year thereafter
"YearModulus": 2,
"YearRemainder": 1
&lt;/syntaxhighlight>
|-
| &lt;samp>Texture&lt;/samp>
| ''(Optional)'' The asset name for the movie poster and screen images, or omit to use &lt;samp>LooseSprites\Movies&lt;/samp>.

This must be a spritesheet with one 490×128 pixel row per movie. A 13×19 area in the top-left corner of the row should contain the movie poster. With a 16-pixel offset from the left edge, there should be two rows of five 90×61 pixel movie screen images, with a six-pixel gap between each image. (The movie doesn't need to use all of the image slots.)
|-
| &lt;samp>CranePrizes&lt;/samp>
| ''(Optional)'' The items to add to the [[Movie Theater#Crane Game|crane game]] prize pool on days when this movie is playing, if any.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| ''common fields''
| See [[Modding:Item queries#Item spawn fields|item spawn fields]] for the generic item fields supported for ammo items.

If set to an [[Modding:Item queries|item query]] which returns multiple items, one of them will be selected at random.
|-
| &lt;samp>Rarity&lt;/samp>
| ''(Optional)'' The prize pool to add the item to. The possible values are &lt;samp>1&lt;/samp> (common), &lt;samp>2&lt;/samp> (rare), and &lt;samp>3&lt;/samp> (deluxe). Default &lt;samp>1&lt;/samp>.
|}
|-
| &lt;samp>ClearDefaultCranePrizeGroups&lt;/samp>
| ''(Optional)'' The prize pools whose default items to discard, so only those specified by &lt;samp>CranePrizes&lt;/samp> are available. Default none.

For example:
&lt;syntaxhighlight lang="js">"ClearDefaultCranePrizeGroups": [ 2, 3 ]&lt;/syntaxhighlight>
|}
&lt;/dd>

&lt;dt>Other changes&lt;/dt>
&lt;dd>
* &lt;samp>Data/Movies&lt;/samp>, &lt;samp>Data/Concessions&lt;/samp>, and &lt;samp>Data/MoviesReactions&lt;/samp> no longer have language variants. Instead translations were moved into &lt;samp>Strings/*&lt;/samp> assets, and the data assets use [[Modding:Tokenizable strings|tokenizable strings]] to get text.
* &lt;samp>Data/Movies&lt;/samp> is now a list instead of a dictionary. The order determines the order movies are shown within a season. Content packs can edit them the same way as before.
* Added a &lt;samp>debug movieSchedule {{o|year}}&lt;/samp> command to help troubleshoot movie selection.
* Added methods for C# mods: &lt;samp>MovieTheater.GetMovieToday()&lt;/samp>, &lt;samp>GetUpcomingMovie()&lt;/samp>, and &lt;samp>GetUpcomingMovie(afterDate)&lt;/samp>.
&lt;/dd>
&lt;/dl>

For example, this content pack adds a new 'Pufferchick II' movie which plays in winter every third year:
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/Movies",
            "Entries": {
                "{{ModId}}_PufferchickII": {
                    "Id": "{{ModId}}_PufferchickII", // must specify ID again when creating a new entry

                    "Seasons": [ "winter" ],
                    "YearModulus": 3,
                    "YearRemainder": 0,

                    "Title": "Pufferchick II", // display text should usually use {{i18n}} for translations in actual usage
                    "Description": "A sequel to the breakthrough adventure anime Pufferchick. The world is saved; what happens next?",
                    "Tags": [ "family", "adventure" ],

                    "Texture": "{{InternalAssetKey: assets/movie.png}}", // an image in your content pack
                    "SheetIndex": 0,

                    "Scenes": [ ... ]
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

===Custom wedding event===
{{/doc status|a new doc page|done=false}}

The [[Marriage#The Wedding|wedding]] event can now be changed by editing the &lt;samp>Data\Weddings&lt;/samp> data asset, which consists of a data model with two relevant fields (listed below).

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>EventScript&lt;/samp>
| The [[Modding:Event data|event scripts]] which play the wedding. The game will use the script for the spouse NPC/player if it exists, otherwise it'll use the default script.

This consists of a string → string dictionary, where...
* The key is an NPC internal name (like &lt;samp>Abigail&lt;/samp>), unique player ID, or &lt;samp>default&lt;/samp> for the default script (which handles marrying either an NPC or player);
* The value is a [[Modding:Tokenizable strings|tokenizable strings]] for the event script to play.

The event scripts also have access to three extra tokens:
{| class="wikitable"
|-
! token
! effect
|-
| &lt;samp>[SetupContextualWeddingAttendees]&lt;/samp>
| The concatenated &lt;samp>Setup&lt;/samp> values for each of the &lt;samp>Attendees&lt;/samp> present in the wedding.
|-
| &lt;samp>[ContextualWeddingCelebrations]&lt;/samp>
| The concatenated &lt;samp>Celebration&lt;/samp> values for each of the &lt;samp>Attendees&lt;/samp> present in the wedding.
|-
| &lt;samp>[SpouseActor]&lt;/samp>
| The actor ID for the NPC or other player being married (like &lt;samp>Abigail&lt;/samp> for an NPC or &lt;samp>farmer2&lt;/samp> for a player). This can be used in event commands like &lt;code>faceDirection [SpouseActor] 1&lt;/code>.

(You can also use &lt;samp>spouse&lt;/samp> as an actor ID, but that will only work when marrying an NPC.)
|}
|-
| &lt;samp>Attendees&lt;/samp>
| The other NPCs which should attend the wedding (unless they're the spouse). This consists of a string → model lookup, where the key is the internal NPC name, and the value is a model with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>ID&lt;/samp>
| The internal NPC name.
|-
| &lt;samp>Setup&lt;/samp>
| The NPC's tile position and facing direction when they attend. This is equivalent to field index 2 in the [[Modding:Event data#Basic format|event basic data]].
|-
| &lt;samp>Celebration&lt;/samp>
| ''(Optional)'' The [[Modding:Event data|event script]] to run during the celebration, like &lt;samp>faceDirection Pierre 3 true&lt;/samp> which makes Pierre turn to face left. This can contain any number of script commands.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the NPC should attend. Defaults to true.
|-
| &lt;samp>IgnoreUnlockConditions&lt;/samp>
| ''(Optional)'' Whether to add the NPC even if their entry in &lt;samp>Data/Characters&lt;/samp> has an &lt;samp>UnlockConditions&lt;/samp> field which doesn't match. Default false.
|}
|}

===Game state queries===
{{/doc status|[[Modding:Game state queries]]|done=true}}

A ''game state query'' is a new vanilla way to specify conditions for some content like [[#Custom shops|shop data]], inspired by [[Modding:Content Patcher|Content Patcher]]'s conditions.

===Gender changes===
{{/doc status|[[Modding:Dialogue]]|done=false}}

* Added an [[#gender-switch|''inline gender-switch token'']] to change text depending on the player's gender. This reduces duplicate text, works in more places than the &lt;samp>^&lt;/samp> dialogue token, works in mail and other places where &lt;samp>^&lt;/samp> has a different meaning, and supports non-binary gender.
* For C# mod authors, added a unified &lt;samp>Gender&lt;/samp> field for players and NPCs with the possible values &lt;samp>Male&lt;/samp>, &lt;samp>Female&lt;/samp>, and &lt;samp>Unspecified&lt;/samp>. This replaces &lt;samp>Farmer.isMale&lt;/samp> and the numeric NPC gender constants. Note that vanilla still only sets players to male or female, though mods can override it.
* Gender-specific clothing variants can now be worn by any gender.
* Removed French-only support for using &lt;samp>^&lt;/samp> dialogue token in non-dialogue text. This is superseded by the new inline gender-switch command.

===Item queries===
{{/doc status|[[Modding:Item queries]]|done=true}}

''Item queries'' are a new built-in way to choose one or more items dynamically, instead of specifying a single item ID. These are used in various places like [[#Custom machines|machine data]] and [[#Custom shops|shop data]].

For example, a shop can sell a random [[House Plant|house plant]] using the &lt;samp>RANDOM_ITEMS&lt;/samp> query:
&lt;syntaxhighlight lang="js">
{
    "ItemId": "RANDOM_ITEMS (F) 1376 1390",
    "MaxItems": 1
}
&lt;/syntaxhighlight>

===Item spawn fields===
{{/doc status|[[Modding:Item queries#Item spawn fields]]|done=true}}

Several data assets (like [[#Custom machines|machines]] and [[#Custom shops|shops]]) let you configure items to create using item queries. For consistency, these all share a set of common fields.

===Color fields===
{{/doc status|[[Modding:Common data field types#Color]]|done=true}}

1.6 adds a standardized color format used in various data fields. This can be a color name, hexadecimal color code, or 8-bit RGB color code.

For example, you can set debris color in [[#Custom wild trees|&lt;samp>Data/WildTrees&lt;/samp>]]:
&lt;syntaxhighlight lang="js">
"DebrisColor": "White"
&lt;/syntaxhighlight>

===&lt;samp>modData&lt;/samp> field changes===
The &lt;samp>modData&lt;/samp> fields are dictionaries of arbitrary string values which are synchronized in multiplayer and persisted in the save file, so mods can store custom data about the instances. The game already has the field for buildings, characters (including NPCs and players), items, locations, and terrain features.

Stardew Valley 1.6...
* Adds &lt;samp>modData&lt;/samp> fields to the &lt;samp>Crop&lt;/samp>, &lt;samp>Projectile&lt;/samp>, and &lt;samp>Quest&lt;/samp> types too.
* Moves &lt;samp>ModDataDictionary&lt;/samp> into the &lt;samp>StardewValley.Mods&lt;/samp> namespace.
* Fixes &lt;samp>Item.modData&lt;/samp> not copied when performing special equipment replacement (e.g. for the [[Pans|copper pan]] work as a hat).

===Quantity modifiers===
{{/doc status|[[Modding:Common data field types#Quantity_modifiers]]|done=true}}

''Quantity modifiers'' apply dynamic changes to a numeric field in a data asset like [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]] or [[#Custom machines|&lt;samp>Data/Machines&lt;/samp>]]. For example, you can multiply a shop item's price or increase a machine output's quality. You can specify any number of modifiers for the same field.

===Tokenizable string format===
{{/doc status|[[Modding:Tokenizable strings]]|done=true}}

Stardew Valley 1.6 adds ''tokenizable strings'', which support any combination of literal text and token values. That includes a set of built-in tokens like &lt;samp>FarmName&lt;/samp>, &lt;samp>LocalizedText&lt;/samp>, etc.

For example, previously you often needed to load text from a [[Modding:Common data field types#Translation key|translation key]]. With this new format, you can use the literal text directly in the asset instead (including [[Modding:Content Patcher|Content Patcher]] tokens):

&lt;syntaxhighlight lang="js">
// before
"Dialogue": "Strings\\StringsFromCSFiles:ShopMenu.cs.11488",

// after: any combination of literal text and tokens
"Dialogue": "Welcome to Pierre's, {{PlayerName}}! How is [FarmName] doing?",
&lt;/syntaxhighlight>

Tokenizable strings are only usable in specific fields (as indicated in their wiki or code docs).

See [[Modding:Tokenizable strings]] for usage.

===[[Modding:Event data|Event]] changes===
{{/doc status|[[Modding:Event data]]|done=false}}

====High-level changes====
* Event IDs are now [[Modding:Common data field types#Unique string ID|unique string IDs]], so mods can use a unique key instead of hoping no other mod uses the same number. Unconditional events must have an empty precondition in their key (like &lt;samp>"Example.ModId_EventName/"&lt;/samp>) to distinguish them from forks.
* Event/festival commands with a direction argument now allow both case-insensitive names (like &lt;samp>up&lt;/samp>) and numeric values.
* Event script errors are now logged (in addition to being shown in the chatbox like before).
* For C# mods:
** You can now add custom event preconditions &amp; commands using new &lt;samp>Event&lt;/samp> methods (&lt;samp>RegisterPrecondition&lt;/samp>, &lt;samp>RegisterPreconditionAlias&lt;/samp>, &lt;samp>RegisterCommand&lt;/samp>, and &lt;samp>RegisterCommandAlias&lt;/samp>).
** Added &lt;samp>Event.fromAssetName&lt;/samp>, which indicates which data asset (if any) the event was loaded from.
** Added &lt;samp>Game1.eventsSeenSinceLastLocationChange&lt;/samp> to track the events that played since the player arrived in their current location.

====Precondition changes====
&lt;ul>
&lt;li>Added validation for preconditions. If a format or assumption is invalid, the game now logs a detailed error.&lt;/li>
&lt;li>Added case-insensitive readable names for all preconditions. For example, &lt;code>j 4/t 800 1300/a 0 54/H&lt;/code> can now optionally be written &lt;code>daysPlayed 4/time 800 1300/tile 0 54/isHost&lt;/code>.
{{collapse|list of new names|content=
List of new event precondition names:
&lt;pre>
alias | readable name
----- | ------------------------------
*     | WorldState
*n    | HostOrLocalMail
a     | Tile
b     | ReachedMineBottom
B     | SpouseBed
C     | CommunityCenterOrWarehouseDone
c     | FreeInventorySlots
D     | Dating
e     | SawEvent
f     | Friendship
g     | Gender
H     | IsHost
h     | MissingPet
Hn    | HostMail
i     | HasItem
j     | DaysPlayed
J     | JojaBundlesDone
L     | InUpgradedHouse
m     | EarnedMoney
M     | HasMoney
N     | GoldenWalnuts
n     | LocalMail
O     | Spouse
p     | NpcVisibleHere
q     | ChoseDialogueAnswers
r     | Random
R     | Roommate
S     | SawSecretNote
s     | Shipped
t     | Time
u     | DayOfMonth
v     | NpcVisible
w     | Weather
x     | SendMail
y     | Year
&lt;/pre>
And for deprecated preconditions (e.g. &lt;code>NotSeason&lt;/code> is superseded by &lt;code>!Season&lt;/code>):
&lt;pre>
alias | readable name
----- | ---------------------------------
*l    | NotHostOrLocalMail
A     | NotActiveDialogueEvent
d     | NotDayOfWeek
F     | NotFestivalDay
Hl    | NotHostMail
k     | NotSawEvent
l     | NotLocalMail
o     | NotSpouse
Rf    | NotRoommate
U     | NotUpcomingFestival
X     | NotCommunityCenterOrWarehouseDone
z     | NotSeason
&lt;/pre>
}}
&lt;/li>
&lt;li>Event &amp; preconditions are now quote-aware, so you can escape spaces and slashes in arguments like &lt;code>/G "SEASON Spring"/&lt;/code>.&lt;/li>
&lt;li>Added new preconditions:
{| class="wikitable"
|-
! precondition
! description
|-
| &lt;samp>!&lt;/samp>
| Prefixing &lt;samp>!&lt;/samp> to any other precondition will now invert it. For example, &lt;code>!spouse Abigail&lt;/code> will match if the player is ''not'' married to Abigail.
|-
| &lt;samp>ActiveDialogueEvent {{t|id}}&lt;/samp>
| The special dialogue event with the given ID (including [[Modding:Dialogue#Conversation_topics|Conversation Topics]]) is in progress.
|-
| &lt;samp>DayOfWeek {{t|day}}+&lt;/samp>
| Today is one of the specified days (may specify multiple days). This can be a case-insensitive three-letter abbreviation (like &lt;samp>Mon&lt;/samp>) or full name (like &lt;samp>Monday&lt;/samp>).
|-
| &lt;samp>FestivalDay&lt;/samp>
| Today is a [[Festivals|festival]] day.
|-
| &lt;samp>GameStateQuery {{t|query}}&lt;/samp>
| A [[Modding:Game state queries|game state query]] matches, like &lt;code>G !WEATHER Here Sun&lt;/code> for 'not sunny in this location'.
|-
| &lt;samp>Season {{t|season}}+&lt;/samp>
| The current season is one of the given values (may specify multiple seasons).
|-
| &lt;samp>Skill {{t|skill name}} {{t|min level}}&lt;/samp>
| The current farmer has reached at least {{t|min level}} for the given {{t|skill name}} (one of &lt;samp>Combat&lt;/samp>, &lt;samp>Farming&lt;/samp>, &lt;samp>Fishing&lt;/samp>, &lt;samp>Foraging&lt;/samp>, &lt;samp>Luck&lt;/samp>, or &lt;samp>Mining&lt;/samp>).
|-
| &lt;samp>UpcomingFestival {{t|day offset}}&lt;/samp>
| A [[Festivals|festival]] day will occur within the given number of days.
|}&lt;/li>
&lt;li>Changed specific preconditions:
{| class="wikitable"
|-
! name
! changes
|-
| &lt;samp>ChoseDialogueAnswers&lt;/samp> (&lt;samp>q&lt;/samp>)
| &amp;#32;
* Fixed precondition ignoring every second answer ID.
|-
| &lt;samp>InUpgradedHouse&lt;/samp> (&lt;samp>L&lt;/samp>)
| &amp;#32;
* Added optional argument for the min upgrade level.
|-
| &lt;samp>MissingPet&lt;/samp> (&lt;samp>h&lt;/samp>)
| &amp;#32;
* You can now specify any pet type ID.
* You can now omit the argument to check for a pet of any type.
|-
| &lt;samp>NotDayOfWeek&lt;/samp> (&lt;samp>d&lt;/samp>)
| &amp;#32;
* You can now specify a full name like &lt;samp>Monday&lt;/samp>.
* The day of week is now case-insensitive.
|-
| &lt;samp>NotSeason&lt;/samp> (&lt;samp>z&lt;/samp>)
| &amp;#32;
* You can now list values (like &lt;code>notSeason spring summer fall&lt;/code> instead of &lt;code>notSeason fall/notSeason winter/notSeason fall&lt;/code>).
|-
| &lt;samp>ReachedMineBottom&lt;/samp> (&lt;samp>b&lt;/samp>)
| &amp;#32;
* Argument is now optional (default 1).
|-
| &lt;samp>SendMail&lt;/samp> (&lt;samp>x&lt;/samp>)
| &amp;#32;
* Deprecated; see [[#Send-mail (x) precondition deprecated|''Send-mail (x) precondition deprecated'']] for more info.
|-
| &lt;samp>Tile&lt;/samp> (&lt;samp>a&lt;/samp>)
| &amp;#32;
* Now also works when the player isn't currently warping, in which case it checks their current tile instead of their warp arrival tile.
|}&lt;/li>
&lt;/ul>

====Command changes====
&lt;ul>
&lt;li>Added validation for event commands. If a format or assumption is invalid, the game now logs a detailed error and (if applicable) skips the command, instead of crashing or silently ignoring it. This also means event arguments are stricter (e.g. you can no longer set a true/false field to an invalid value, inner quotes in quoted arguments now need to be escaped, etc).&lt;/li>
&lt;li>Event commands are now quote-aware, so you can escape spaces and slashes in arguments like &lt;code>/speak "I'm running A/B tests"/&lt;/code>.&lt;/li>
&lt;li>Event commands now trim surrounding whitespace, so they can be multilined for readability. Line breaks must be before or after the &lt;samp>/&lt;/samp> delimiter. For example:
&lt;syntaxhighlight lang="js">
"SomeEventId/": "
    none/
    -1000 -1000/
    farmer 5 7 0/
    ...
"
&lt;/syntaxHighlight>
This can be also combined with the [[Modding:Event data#Comments|comment syntax]] to add notes. For example:
&lt;syntaxhighlight lang="js">
"SomeEventId/": "
    none/            -- music/
    -1000 -1000/     -- initial viewport position/
    farmer 5 7 0/    -- actor positions/
    ...
"
&lt;/syntaxHighlight>
&lt;/li>
&lt;li>You can now mark NPCs optional in event commands by suffixing their name with &lt;code>?&lt;/code>. For example, &lt;code>jump Kent?&lt;/code> won't log an error if Kent is missing. When used in the initial event positions, the NPC is only added in they exist in &lt;samp>Data/Characters&lt;/samp> and their &lt;samp>UnlockConditions&lt;/samp> match.&lt;/li>
&lt;li>Added new event commands:
{| class="wikitable"
|-
! command
! description
|-
| &lt;samp>action {{t|action}}&lt;/samp>
| Run a [[Modding:Trigger actions|trigger action string]], like &lt;samp>action AddMoney 500&lt;/samp> to add {{price|500}} to the current player.
|-
| &lt;samp>addItem {{t|item ID}} {{o|count}} {{o|quality}}&lt;/samp>
| Add an item to the player inventory (or open a grab menu if their inventory is full). The {{t|item ID}} is the [[#Custom items|qualified or unqualified item ID]], and {{o|quality}} is a [[Modding:Items#Quality|numeric quality value]].
|-
| &lt;samp>addSpecialOrder {{t|order ID}}&lt;/samp>&lt;br />&lt;samp>removeSpecialOrder {{t|order ID}}&lt;/samp>
| Add or remove a special order to the player team. This affects all players, since special orders are shared.
|-
| &lt;samp>eventSeen {{t|event ID}} {{o|seen}}&lt;/samp>
| Add or remove an event ID from the player's list of seen events, based on {{o|seen}} (default &lt;samp>true&lt;/samp> to add).

An event can mark ''itself'' unseen using &lt;samp>eventSeen {{t|event ID}} false&lt;/samp>. This takes effect immediately (i.e. the event won't be added to the list when it completes), but the game will prevent the event from playing again until the player changes location to avoid event loops. The event will still replay when re-entering the location.
|-
| &lt;samp>mailToday {{t|mail key}}&lt;/samp>
| Adds a letter to the mailbox immediately, given the {{t|mail key}} in &lt;samp>Data/Mail&lt;/samp>.
|-
| &lt;samp>questionAnswered {{t|answer ID}} {{o|answered}}&lt;/samp>
| Add or remove an answer ID from the player's list of chosen dialogue answers, based on {{o|answered}} (default &lt;samp>true&lt;/samp> to add).
|-
| &lt;samp>replaceWithClone {{t|NPC name}}&lt;/samp>
| Replace an NPC already in the event with a temporary copy. This allows changing the NPC for the event without affecting the real NPC.

For example, this event changes Marnie's name/portrait only within the event:
&lt;syntaxhighlight lang="js">
"Some.ModId_ExampleEvent/": "continue/64 15/farmer 64 15 2 Marnie 64 17 0/replaceWithClone Marnie/changeName Marnie Pufferchick/changePortrait Marnie Pufferchick/[...]/end"
&lt;/syntaxhighlight>
|-
| &lt;samp>setSkipActions {{o|actions}}&lt;/samp>
| Set [[Modding:Trigger actions|trigger actions]] that should run if the player skips the event. You can list multiple actions delimited with &lt;samp>#&lt;/samp>, or omit {{o|actions}} so no actions are run. When the player skips, the last &lt;samp>setSkipActions&lt;/samp> before that point is applied.

For example, this adds the [[Garden Pot|garden pot]] recipe and item to the player if the event is skipped, but avoids adding the item if the event already did it:
&lt;pre>
/setSkipActions AddCraftingRecipe Current "Garden Pot"#AddItem (BC)62
/skippable
/...
/addItem (BC)62
/setSkipActions AddCraftingRecipe Current "Garden Pot"
&lt;/pre>

Skip actions aren't applied if the event completes normally without being skipped.
|-
| &lt;samp>stopSound {{t|sound ID}} {{o|immediate}}&lt;/samp>
| Stop a sound started with the &lt;samp>startSound&lt;/samp> command. This has no effect if the sound has already stopped playing on its own (or hasn't been started). If you started multiple sounds with the same ID, this will stop all of them (e.g. &lt;code>startSound fuse/startSound fuse/stopSound fuse&lt;/code>).

By default the sound will stop immediately. For looping sounds, you can pass &lt;samp>false&lt;/samp> to the {{o|immediate}} argument to stop the sound when it finishes playing the current iteration instead (e.g. &lt;code>stopSound fuse false&lt;/code>).
|-
| &lt;samp>temporaryAnimatedSprite ...&lt;/samp>
| Add a temporary animated sprite to the event, using these space-delimited fields:
{| class="wikitable"
|-
! index
! field
! effect
|-
| 0
| &lt;samp>texture&lt;/samp>
| The asset name for texture to draw.
|-
| 1&amp;ndash;4
| &lt;samp>rectangle&lt;/samp>
| The pixel area within the &lt;samp>texture&lt;/samp> to draw, in the form &lt;samp>{{t|x}} {{t|y}} {{t|width}} {{t|height}}&lt;/samp>.
|-
| 5
| &lt;samp>interval&lt;/samp>
| The millisecond duration for each frame in the animation.
|-
| 6
| &lt;samp>frames&lt;/samp>
| The number of frames in the animation.
|-
| 7
| &lt;samp>loops&lt;/samp>
| The number of times to repeat the animation.
|-
| 8&amp;ndash;9
| &lt;samp>tile&lt;/samp>
| The tile position at which to draw the sprite, in the form &lt;samp>{{t|x}} {{t|y}}&lt;/samp>.
|-
| 10
| &lt;samp>flicker&lt;/samp>
| Causes the sprite to flicker in and out of view repeatedly. (one of &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>).
|-
| 11
| &lt;samp>flip&lt;/samp>
| Whether to flip the sprite horizontally when it's drawn (one of &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>).
|-
| 12
| &lt;samp>sort tile Y&lt;/samp>
| The tile Y position to use in the layer depth calculation, which affects which sprite is drawn on top if two sprites overlap. The larger the number, the higher layer the sprite is on.
|-
| 13
| &lt;samp>alpha fade&lt;/samp>
| Fades out the sprite based on alpha set. The larger the number, the faster the fade out. 1 is instant. 
|-
| 14
| &lt;samp>scale&lt;/samp>
| A multiplier applied to the sprite size (in addition to the normal 4× pixel zoom).
|-
| 15
| &lt;samp>scale change&lt;/samp>
| Changes the scale based on the multiplier applied on top of the normal zoom. Continues endlessly.
|-
| 16
| &lt;samp>rotation&lt;/samp>
| The rotation to apply to the sprite, measured in [[wikipedia:radians|radians]].
|-
| 17
| &lt;samp>rotation change&lt;/samp>
| Continuously rotates the sprite, causing it to spin. The speed is determined by input value. 
|-
| 18+
| ''flags''
| Any combination of these space-delimited flags:
* &lt;samp>color {{t|color}}&lt;/samp>: apply a [[#Color fields|standard color]] to the sprite.
* &lt;samp>hold_last_frame&lt;/samp>: after playing the animation once, freeze the last frame as long as the sprite is shown.
* &lt;samp>ping_pong&lt;/samp>: Causes the animation frames to play forwards and backwards alternatingly. Example: An animation with the frames 0, 1, 2 will play "0 1 2 0 1 2" without the ping_pong flag and play "0 1 2 1 0" with the ping_pong flag.
* &lt;samp>motion {{t|x}} {{t|y}}&lt;/samp>: Sprite moves based on the values set. Numbers can be decimals or negative.
* &lt;samp>acceleration {{t|x}} {{t|y}}&lt;/samp>: '''[TODO: document what this does]'''
* &lt;samp>acceleration_change {{t|x}} {{t|y}}&lt;/samp>: '''[TODO: document what this does]'''
|}
|-
| &lt;samp>translateName {{t|actor}} {{t|translation key}}&lt;/samp>
| Set the display name for an NPC in the event to match the given translation key.
|-
| &lt;samp>warpFarmers [{{t|x}} {{t|y}} {{t|direction}}]+ {{t|default offset}} {{t|default x}} {{t|default}} {{t|direction}}&lt;/samp>
| Warps connected players to the given [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] and [[Modding:Event data#Directions|numeric directions]]. The {{t|x}} {{t|y}} {{t|direction}} triplet is repeated for each connected player (e.g. the first triplet is for the main player, second triplet is for the first farmhand, etc). The triplets are followed by an offset direction (one of &lt;samp>up&lt;/samp>, &lt;samp>down&lt;/samp>, &lt;samp>left&lt;/samp>, or &lt;samp>right&lt;/samp>), and a final triplet which defines the default values used by any other player.
|}
&lt;/li>
&lt;li>Fixed some commands assuming a boolean argument is true if present, regardless of its value. This affects the &lt;samp>changeToTemporaryMap&lt;/samp>, &lt;samp>emote&lt;/samp>, &lt;samp>extendSourceRect&lt;/samp>, &lt;samp>faceDirection&lt;/samp>, &lt;samp>globalFade&lt;/samp>, &lt;samp>globalFadeToClear&lt;/samp>, &lt;samp>positionOffset&lt;/samp>, and &lt;samp>warp&lt;/samp> commands.&lt;/li>
&lt;li>Fixed some commands assuming any value except the exact case-sensitive string &lt;samp>true&lt;/samp> is false. This affects the &lt;samp>animate&lt;/samp>, &lt;samp>glow&lt;/samp>, &lt;samp>hideShadow&lt;/samp>, &lt;samp>ignoreMovementAnimation&lt;/samp>, &lt;samp>temporaryAnimatedSprite&lt;/samp>, &lt;samp>temporarySprite&lt;/samp>, and &lt;samp>viewport&lt;/samp> commands.&lt;/li>
&lt;li>Fixed some commands silently ignoring values they can't parse as the expected type. This affects the &lt;samp>addItem&lt;/samp>, &lt;samp>makeInvisible&lt;/samp>, and &lt;samp>removeItem&lt;/samp> commands.&lt;/li>
&lt;li>Fixed crash when some commands are passed &lt;samp>farmer[number]&lt;/samp> for a player who's not available, or &lt;samp>farmer[number]&lt;/samp> when they expect &lt;samp>farmer&lt;/samp>.&lt;/li>
&lt;li>Fixed some commands not taking into account custom farmer actors when checking &lt;samp>farmer*&lt;/samp> actor IDs.&lt;/li>
&lt;li>Fixed warp-out event commands able to use NPC-only or gendered warps. They now use a valid warp for the player if possible.&lt;/li>
&lt;li>Changed specific commands:
{| class="wikitable"
|-
! command
! changes
|-
| &lt;samp>addCookingRecipe&lt;/samp>
| Fixed error if player already knows the recipe.
|-
| &lt;samp>addMailReceived&lt;/samp>
| &amp;#32;
* Renamed to &lt;samp>mailReceived&lt;/samp>. (The old name is now an alias, so it'll still work.)
* You can now remove a mail received by setting the optional third argument to false, like &lt;samp>mailReceived {{t|id}} false&lt;/samp>.
|-
| &lt;samp>addTemporaryActor&lt;/samp>
| &amp;#32;
* Underscores in the asset name are now only replaced with spaces if an exact match wasn't found. You should quote arguments containing spaces instead, like &lt;code>addTemporaryActor "White Chicken" …&lt;/code>.
* Underscores in the display name are no longer replaced with spaces. You should quote arguments containing spaces instead.
* Argument 9 ({{o|animal name}}) is now {{o|override name}}, and can be used to set the name for non-animals too.
|-
| &lt;samp>animate&lt;/samp>
| Underscores in the NPC name are now only replaced with spaces if an exact match wasn't found. You should quote arguments containing spaces instead, like &lt;code>animate "Mr Qi" …&lt;/code>.
|-
| &lt;samp>ambientLight&lt;/samp>
| Removed four-argument form (which was unused and had confusing behavior). The other versions of &lt;samp>ambientLight&lt;/samp> still work like before.
|-
| &lt;samp>awardFestivalPrize&lt;/samp>
| Added support for arbitrary item IDs, like &lt;code>awardFestivalPrize (O)128&lt;/code> for a pufferfish.
|-
| &lt;samp>changeLocation&lt;/samp>
| It now updates the event position offset if needed.
|-
| &lt;samp>changeName&lt;/samp>
| Underscores in the NPC name are no longer replaced with spaces. You should quote arguments containing spaces instead, like &lt;code>changeName Leo "Neo Leo"&lt;/code>.
|-
| &lt;samp>changePortrait&lt;/samp>&lt;br />&lt;samp>changeSprite&lt;/samp>
| You can now omit the suffix argument to reset the NPC back to their normal portrait/sprite.
|-
| &lt;samp>faceDirection&lt;/samp>
| You can now specify the direction in words, like &lt;samp>faceDirection up&lt;/samp>
|-
| &lt;samp>ignoreMovementAnimation&lt;/samp>
| &amp;#32;
* Fixed its ''ignore'' argument being ignored.
* Underscores in the NPC name are now only replaced with spaces if an exact match wasn't found. You should quote arguments containing spaces instead, like &lt;code>ignoreMovementAnimation "Mr Qi" …&lt;/code>.
|-
| &lt;samp>itemAboveHead&lt;/samp>
| Added support for arbitrary item IDs, like &lt;code>itemAboveHead (O)128&lt;/code> for a pufferfish.
|-
| &lt;samp>makeInvisible&lt;/samp>
| Fixed terrain features not hidden when using the default area size.
|-
| &lt;samp>playSound&lt;/samp>
| Sounds started via &lt;samp>playSound&lt;/samp> now stop automatically when the event ends.
|-
| &lt;samp>removeItem&lt;/samp>
| Added argument for an optional count, like &lt;code>removeItem (O)128 10&lt;/code> to remove 10 pufferfish.
|-
| &lt;samp>speak&lt;/samp>
| Fixed friendship &amp; socialize quest not updated when calling it with a translation key.
|}&lt;/li>
&lt;li>Removed some commands:
{| class="wikitable"
|-
! command
! changes
|-
| &lt;samp>addToTable&lt;/samp>
| Removed (it was unused and worked in counterintuitive ways).
|-
| &lt;samp>addTool&lt;/samp>
| Removed (it was unused and only supported the [[Return Scepter|return scepter]]). Use &lt;samp>addItem&lt;/samp> instead, which supports adding tools.
|-
| &lt;samp>grabObject&lt;/samp>
| Removed (it was unused and broken).
|-
| &lt;samp>showRivalFrame&lt;/samp>&lt;br />&lt;samp>taxVote&lt;/samp>
| Removed (they were part of unimplemented features).
|-
| &lt;samp>weddingSprite&lt;/samp>
| Removed (it was broken and unused).
|}
&lt;/ul>

====Festival changes====
* Festivals can now have a custom festival-started notification message by setting the &lt;samp>startedMessage&lt;/samp> field in &lt;samp>Data/Festivals/*&lt;/samp> to a [[Modding:Tokenizable strings|tokenizable string]].
* Festivals now set the event ID to a value like &lt;samp>festival_fall16&lt;/samp>, instead of &lt;samp>-1&lt;/samp>.
* All in-festival data fields now support [[Modding:Festival data#Year variants|year variants]].
* Fixed NPCs getting duplicated in festivals if they're added to the &lt;samp>set-up&lt;/samp> fields multiple times. Subsequent entries now move them instead.
* Fixed [[Modding:Festival data#Year variants|year variants]] for festival &lt;samp>set-up&lt;/samp> field being appended to the main script instead of replacing it.

====Send-mail (&lt;samp>x&lt;/samp>) precondition deprecated====
Using the &lt;samp>x&lt;/samp> event precondition as a way to send mail is now deprecated (but still works). You should use [[#Trigger actions|trigger actions]] instead to perform actions like that.

All vanilla events which used it have been replaced by equivalent trigger actions. This event IDs below no longer exist; if you check them (e.g. via &lt;samp>HasSeenEvent&lt;/samp>), you'll need to check the new action or the mail flag they set instead.
{| class="wikitable"
|-
! old event ID
! new action ID
! mail flag
|-
| &lt;samp>68&lt;/samp>
| &lt;samp>Mail_Mom_5K&lt;/samp>
| &lt;samp>mom1&lt;/samp>
|-
| &lt;samp>69&lt;/samp>
| &lt;samp>Mail_Mom_15K&lt;/samp>
| &lt;samp>mom2&lt;/samp>
|-
| &lt;samp>70&lt;/samp>
| &lt;samp>Mail_Mom_32K&lt;/samp>
| &lt;samp>mom3&lt;/samp>
|-
| &lt;samp>71&lt;/samp>
| &lt;samp>Mail_Mom_120K&lt;/samp>
| &lt;samp>mom4&lt;/samp>
|-
| &lt;samp>72&lt;/samp>
| &lt;samp>Mail_Dad_5K&lt;/samp>
| &lt;samp>dad1&lt;/samp>
|-
| &lt;samp>73&lt;/samp>
| &lt;samp>Mail_Dad_15K&lt;/samp>
| &lt;samp>dad2&lt;/samp>
|-
| &lt;samp>74&lt;/samp>
| &lt;samp>Mail_Dad_32K&lt;/samp>
| &lt;samp>dad3&lt;/samp>
|-
| &lt;samp>75&lt;/samp>
| &lt;samp>Mail_Dad_120K&lt;/samp>
| &lt;samp>dad4&lt;/samp>
|-
| &lt;samp>76&lt;/samp>
| &lt;samp>Mail_Tribune_UpAndComing&lt;/samp>
| &lt;samp>newsstory&lt;/samp>
|-
| &lt;samp>706&lt;/samp>
| &lt;samp>Mail_Pierre_Fertilizers&lt;/samp>
| &lt;samp>fertilizers&lt;/samp>
|-
| &lt;samp>707&lt;/samp>
| &lt;samp>Mail_Pierre_FertilizersHighQuality&lt;/samp>
| &lt;samp>fertilizers2&lt;/samp>
|-
| &lt;samp>909&lt;/samp>
| &lt;samp>Mail_Robin_Woodchipper&lt;/samp>
| &lt;samp>WoodChipper&lt;/samp>
|-
| &lt;samp>2111194&lt;/samp>
| &lt;samp>Mail_Emily_8heart&lt;/samp>
| &lt;samp>EmilyClothingTherapy&lt;/samp>
|-
| &lt;samp>2111294&lt;/samp>
| &lt;samp>Mail_Emily_10heart&lt;/samp>
| &lt;samp>EmilyCamping&lt;/samp>
|-
| &lt;samp>2346091&lt;/samp>
| &lt;samp>Mail_Alex_10heart&lt;/samp>
| &lt;samp>joshMessage&lt;/samp>
|-
| &lt;samp>2346092&lt;/samp>
| &lt;samp>Mail_Sam_10heart&lt;/samp>
| &lt;samp>samMessage&lt;/samp>
|-
| &lt;samp>2346093&lt;/samp>
| &lt;samp>Mail_Harvey_10heart&lt;/samp>
| &lt;samp>harveyBalloon&lt;/samp>
|-
| &lt;samp>2346094&lt;/samp>
| &lt;samp>Mail_Elliott_10heart&lt;/samp>
| &lt;samp>elliottBoat&lt;/samp>
|-
| &lt;samp>2346095&lt;/samp>
| &lt;samp>Mail_Elliott_8heart&lt;/samp>
| &lt;samp>elliottReading&lt;/samp>
|-
| &lt;samp>2346096&lt;/samp>
| &lt;samp>Mail_Penny_10heart&lt;/samp>
| &lt;samp>pennySpa&lt;/samp>
|-
| &lt;samp>2346097&lt;/samp>
| &lt;samp>Mail_Abigail_8heart&lt;/samp>
| &lt;samp>abbySpiritBoard&lt;/samp>
|-
| &lt;samp>3333094&lt;/samp>
| &lt;samp>Mail_Pierre_ExtendedHours&lt;/samp>
| &lt;samp>pierreHours&lt;/samp>
|-
| &lt;samp>3872126&lt;/samp>
| &lt;samp>Mail_Willy_BackRoomUnlocked&lt;/samp>
| &lt;samp>willyBackRoomInvitation&lt;/samp>
|}

===[[Modding:Mail data|Mail]] changes===
{{/doc status|[[Modding:Mail data]]|done=false}}

&lt;ul>
&lt;li>Mail can now have multiple items attached (using multiple &lt;samp>%item&lt;/samp> commands). When the player grabs the top item, the next one will appear in the slot to grab next.&lt;/li>
&lt;li>Added mail commands:
{| class="wikitable"
|-
! command
! effect
|-
| &lt;samp>%action {{t|action}}%%&lt;/samp>
| Run a [[Modding:Trigger actions|trigger action string]], like &lt;samp>%action AddMoney 500%%&lt;/samp> to add {{price|500}} to the current player.
|}&lt;/li>
&lt;li>Improved mail commands:
{| class="wikitable"
|-
! command
! changes
|-
| &lt;samp>%item&lt;/samp>
| &amp;#32;
* Added &lt;samp>%item id {{t|item id}} {{o|count}}&lt;/samp> form which accepts a [[#Custom items|qualified or unqualified item ID]]. If multiple items are listed (''e.g.,'' &lt;samp>%item id (BC)12 3 (O)34 5 %%&lt;/samp>) one set will be picked randomly. This deprecates the &lt;samp>bigobject&lt;/samp>, &lt;samp>furniture&lt;/samp>, &lt;samp>object&lt;/samp>, and &lt;samp>tools&lt;/samp> options.
* Added &lt;samp>%item specialOrder {{t|order id}} {{o|immediately}}&lt;/samp> form to attach a special order to the letter.
* Added optional {{t|key}} argument to &lt;samp>%item cookingRecipe {{t|key}}&lt;/samp>, to learn a specific [[Modding:Recipe data|cooking recipe]]. The previous &lt;samp>%item cookingRecipe&lt;/samp> form (without a key) works the same way as before.
* The type argument is now case-insensitive.
* Fixed &lt;samp>%item craftingRecipe&lt;/samp> not supporting recipe IDs containing underscores. It now checks for an exact match first, then tries replacing underscores with spaces like before, then logs a warning if neither was found instead of adding an invalid recipe.
|}&lt;/li>
&lt;li>All wallet items are now tracked via mail flags. That adds these mail flags: &lt;samp>HasClubCard&lt;/samp>, &lt;samp>HasDarkTalisman&lt;/samp>, &lt;samp>HasDwarvishTranslationGuide&lt;/samp>, &lt;samp>HasMagicInk&lt;/samp>, &lt;samp>HasMagnifyingGlass&lt;/samp>, &lt;samp>HasRustyKey&lt;/samp>, &lt;samp>HasSkullKey&lt;/samp>, &lt;samp>HasSpecialCharm&lt;/samp>, &lt;samp>HasTownKey&lt;/samp>, and &lt;samp>HasUnlockedSkullDoor&lt;/samp>.&lt;/li>
&lt;li>Fixed letter viewer error when opening an invalid letter.&lt;/li>
&lt;/ul>

===Stat changes for C# mods===
The tracked stats API (e.g. &lt;code>Game1.stats&lt;/code> and &lt;code>Game1.player.stats&lt;/code>) has been overhauled.

In particular, all stats are now in the underlying stat dictionary. If you use a stat field directly (like &lt;code>stats.dirtHoed&lt;/code>), you'll need to use the property (like &lt;code>stats.DirtHoed&lt;/code>) or method (like &lt;code>stats.Get(StatsKey.DirtHoed)&lt;/code>). This lets the game or mods access all stats in a standard way without reflection. 1.6 also adds &lt;samp>StatsKey&lt;/samp> constants for all stats tracked by the game.

The &lt;samp>stats&lt;/samp> API has also been redesigned:
{| class="wikitable"
|-
! member
! comments
|-
| &lt;samp>Values&lt;/samp>
| The numeric metrics tracked by the game. This replaces &lt;samp>stats_dictionary&lt;/samp>.
|-
| &lt;samp>Get(key)&lt;/samp>
| Get the value of a tracked stat. This replaces &lt;samp>getStat&lt;/samp>.

For example:
&lt;syntaxhighlight lang="c#">
uint daysPlayed = Game1.stats.Get(StatKeys.DaysPlayed);
&lt;/syntaxhighlight>
|-
| &lt;samp>Set(key, value)&lt;/samp>
| Set the new value of a tracked stat. This method is new.

For example:
&lt;syntaxhighlight lang="c#">
Game1.stats.Set(StatKeys.ChildrenTurnedToDoves, 5);
&lt;/syntaxhighlight>
|-
| &lt;samp>Increment(key)&lt;/samp>&lt;br />&lt;samp>Increment(key, amount)&lt;/samp>
| Add the given amount to the stat (default 1), and return the new stat value. This improves on the original &lt;samp>incrementStat&lt;/samp>.

For example:
&lt;syntaxhighlight lang="c#">
uint stepsTaken = Game1.stats.Increment(StatKeys.StepsTaken);
&lt;/syntaxhighlight>
|}

This can also be used to track custom mod stats, they doesn't need to be stats normally tracked by the game. Custom stats should be prefixed with your mod's unique ID to avoid conflicts:
&lt;syntaxhighlight lang="c#">
Game1.stats.Set("Your.ModId_CustomStat", 5);
&lt;/syntaxhighlight>

And finally, setting a stat to 0 now removes it from the stats dictionary (since that's the default for missing stats).

===New C# utility methods===
Stardew Valley 1.6 adds several new methods to simplify common logic.

====Argument handling====
The new &lt;samp>ArgUtility&lt;/samp> class handles splitting, reading, and validating &lt;samp>string[]&lt;/samp> argument lists. The main methods are:

; Splitting arrays&amp;#58;
: {| class="wikitable"
|-
! &lt;samp>ArgUtility&lt;/samp> method
! effect
|-
| &lt;samp>SplitBySpace&lt;/samp>
| Split space-separated arguments in a string. This automatically ignores extra spaces, so &lt;samp>" x &amp;nbsp;y "&lt;/samp> and &lt;samp>"x y"&lt;/samp> are equivalent. For example:
&lt;syntaxhighlight lang="c#">
string[] fields = ArgUtility.SplitBySpace("a b c");
string secondField = fields[1]; // "b"
&lt;/syntaxhighlight>
|-
| &lt;samp>SplitBySpaceAndGet&lt;/samp>
| Get the value at an index in a space-delimited string (if found), else return the default value. For example:

&lt;syntaxhighlight lang="c#">
string thirdField = ArgUtility.SplitBySpaceAndGet("a b c", 2); // "c"
string invalidFieldA = ArgUtility.SplitBySpaceAndGet("a b c", 5); // null
string invalidFieldB = ArgUtility.SplitBySpaceAndGet("a b c", 5, defaultValue: "boop"); // "boop"
&lt;/syntaxhighlight>

This is more efficient than &lt;samp>SplitBySpace&lt;/samp> when you only need a single value, but it's slower if you need multiple values.
|-
| &lt;samp>SplitBySpaceQuoteAware&lt;/samp>
| Split space-separated arguments in a string, with support for using quotes to protect spaces within an argument. See &lt;samp>SplitQuoteAware&lt;/samp> below for info on quote handling.

For example:
&lt;syntaxhighlight lang="c#">
string buildingName = ArgUtility.SplitBySpaceQuoteAware("BUILDINGS_CONSTRUCTED Here \"Junimo Hut\"")[1]; // Junimo Hut
&lt;/syntaxhighlight>
|-
| &lt;samp>SplitQuoteAware&lt;/samp>
| Split delimited arguments in a string, with support for using quotes to protect delimiters within an argument.

A quote in the text causes any delimiter to be ignored until the next quote, unless it's escaped like &lt;code>\"&lt;/code>. Unescaped quotes are removed from the string. (Remember that backslashes need to be escaped in C# or JSON strings, like &lt;code>"\\"&lt;/code> for a single backslash.)

For example:
&lt;syntaxhighlight lang="c#">
ArgUtility.SplitQuoteAware("A,B,C", ',');        // [ "A", "B", "C" ]
ArgUtility.SplitQuoteAware("A,\"B,C\",D", ','); // [ "A", "B,C", "D" ]
ArgUtility.SplitQuoteAware("A,\\\"B,C", ',');    // [ "A", "\"B", "C" ]
&lt;/syntaxhighlight>

You can also set the optional arguments for more advanced cases. For example, [[Modding:Game state queries|game state queries]] use this to split twice:
&lt;syntaxhighlight lang="c#">
string gameStateQuery = "BUILDINGS_CONSTRUCTED Here \"Junimo Hut\", SEASON Spring";

string[] queries = ArgUtility.SplitQuoteAware(gameStateQuery, ',', StringSplitOptions.RemoveEmptyEntries, keepQuotesAndEscapes: true); // [ "BUILDINGS_CONSTRUCTED Here \"Junimo Hut\"", "SEASON Spring" ]
string buildingName = ArgUtility.SplitBySpaceQuoteAware(queries[0]); // Junimo Hut
&lt;/syntaxhighlight>
|-
| &lt;samp>EscapeQuotes&lt;/samp>
| Escape quotes in a string so they're ignored by methods like &lt;samp>SplitQuoteAware&lt;/samp>.

This isn't idempotent (e.g. calling it twice will result in double-escaped quotes).
|-
| &lt;samp>UnsplitQuoteAware&lt;/samp>
| Combine an array of arguments into a single string with a custom delimiter, using quotes where needed to escape delimiters within an argument. Calling &lt;samp>SplitQuoteAware&lt;/samp> on the resulting string with the same delimiter will produce the original values.

For example:
&lt;syntaxhighlight lang="c#">
string args = ArgUtility.UnsplitQuoteAware(new[] { "A", "B C", "D" }, ' '); // A "B C" D
&lt;/syntaxhighlight>

This isn't idempotent (e.g. calling it twice will result in double-escaped quotes).
|}

; Reading arrays&amp;#58;
: {| class="wikitable"
|-
! &lt;samp>ArgUtility&lt;/samp> method
! effect
|-
| &lt;samp>HasIndex&lt;/samp>
| Get whether an index is within the bounds of the array. For example:
&lt;syntaxhighlight lang="c#">
string[] fields = ArgUtility.SplitByString("10 5");
bool inRange = ArgUtility.HasIndex(fields, 1); // true (index 1 has the value '5')
&lt;/syntaxhighlight>
|-
| &lt;samp>Get&lt;/samp>&lt;br />&lt;samp>GetBool&lt;/samp>&lt;br />&lt;samp>GetDirection&lt;/samp>&lt;br />&lt;samp>GetEnum&lt;/samp>&lt;br />&lt;samp>GetFloat&lt;/samp>&lt;br />&lt;samp>GetInt&lt;/samp>
| Get the value at a position in an array, parsed as the relevant type (e.g. a string, boolean, [[Modding:Event data#Directions|direction]], enum, etc). If the index isn't in the array or the value can't be parsed as the expected type, returns a default value.

For example, code like this:
&lt;syntaxhighlight lang="c#">
int value = fields.Length > 4 &amp;&amp; int.TryParse(fields[4], out int parsed)
    ? parsed
    : -1;
&lt;/syntaxhighlight>

Can now be rewritten like this:
&lt;syntaxhighlight lang="c#">
int value = ArgUtility.GetInt(fields, 4, -1);
&lt;/syntaxhighlight>
|-
| &lt;samp>TryGet&lt;/samp>&lt;br />&lt;samp>TryGetBool&lt;/samp>&lt;br />&lt;samp>TryGetDirection&lt;/samp>&lt;br />&lt;samp>TryGetEnum&lt;/samp>&lt;br />&lt;samp>TryGetFloat&lt;/samp>&lt;br />&lt;samp>TryGetInt&lt;/samp>&lt;br />&lt;samp>TryGetPoint&lt;/samp>&lt;br />&lt;samp>TryGetRectangle&lt;/samp>&lt;br />&lt;samp>TryGetVector2&lt;/samp>
| Try to get a parsed value from an array by its index. If it's not found or can't be converted to the expected value, it sets the &lt;samp>out string error&lt;/samp> argument so you can log an error if needed.

For example, this parses a numeric value from a space-delimited string:
&lt;syntaxhighlight lang="c#">
string[] fields = ArgUtility.SplitByString("10 35");
if (ArgUtility.TryGetInt(fields, 1, out int value, out string error))
    this.Helper.Monitor.Log($"Parsed value: {value}"); // "Parsed value: 35"
else
    this.Helper.Monitor.Log($"Failed parsing value: {error}", LogLevel.Warn);
&lt;/syntaxhighlight>
|-
| &lt;samp>TryGetOptional&lt;/samp>&lt;br />&lt;samp>TryGetOptionalBool&lt;/samp>&lt;br />&lt;samp>TryGetOptionalDirection&lt;/samp>&lt;br />&lt;samp>TryGetOptionalEnum&lt;/samp>&lt;br />&lt;samp>TryGetOptionalFloat&lt;/samp>&lt;br />&lt;samp>TryGetOptionalInt&lt;/samp>&lt;br />&lt;samp>TryGetOptionalRemainder&lt;/samp>
| Equivalent to &lt;samp>TryGet*&lt;/samp>, except that it'll return a default value if the argument is missing. For example:
&lt;syntaxhighlight lang="c#">
string[] fields = ArgUtility.SplitByString("10");
if (ArgUtility.TryGetOptionalInt(fields, 1, out int value, out error, defaultValue: 99))
    this.Helper.Monitor.Log($"Parsed value: {value}"); // "Parsed value: 99"
else
    this.Helper.Monitor.Log($"Failed parsing value: {error}", LogLevel.Warn);
&lt;/syntaxhighlight>
|-
| &lt;samp>GetRemainder&lt;/samp>&lt;br />&lt;samp>TryGetRemainder&lt;/samp>&lt;br />&lt;samp>TryGetOptionalRemainder&lt;/samp>
| Similar to the previous methods, but gets arguments starting from an index as a concatenated string. For example:
&lt;syntaxhighlight lang="c#">
string[] fields = ArgUtility.SplitByString("A B C D E F");
if (ArgUtility.TryGetRemainder(fields, 2, out string remainder, out string error))
    this.Helper.Monitor.Log($"Remainder: {remainder}"); // "Remainder: C D E F"
else
    this.Helper.Monitor.Log($"Failed getting remainder: {error}", LogLevel.Warn);
&lt;/syntaxhighlight>
|-
| &lt;samp>GetSubsetOf&lt;/samp>
| Get a slice of the input array. For example:
&lt;syntaxhighlight lang="c#">
string[] subset1 = ArgUtility.GetSubsetOf(new[] { "A", "B", "C", "D" }, startAt: 1); // B, C, D
string[] subset2 = ArgUtility.GetSubsetOf(new[] { "A", "B", "C", "D" }, startAt: 1, length: 2); // B, C
&lt;/syntaxhighlight>

This is fault-tolerant as long as &lt;samp>startAt&lt;/samp> isn't negative. For example:
&lt;syntaxhighlight lang="c#">
string[] subset2 = ArgUtility.GetSubsetOf(new[] { "A", "B", "C", "D" }, startAt: 100); // &lt;empty array>
string[] subset1 = ArgUtility.GetSubsetOf(new[] { "A", "B", "C", "D" }, startAt: 1, length: 100); // B, C, D
&lt;/syntaxhighlight>
|}

====Content assets====
{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>LocalizedContentManager.DoesAssetExist&lt;/samp>
| Get whether an asset exists in the game's &lt;samp>Content&lt;/samp> folder or is provided through [[Modding:Modder Guide/APIs/Content|SMAPI's content API]]. For example:
&lt;syntaxhighlight lang="c#">
bool exists = Game1.content.DoesAssetExist&lt;Map>("Maps/Town");
&lt;/syntaxhighlight>
|-
| &lt;samp>LocalizedContentManager.IsValidTranslationKey&lt;/samp>
| Get whether a string is a translation key in the form &lt;samp>{{t|asset name}}:{{t|key}}&lt;/samp>, and the asset and key both exist. For example:
&lt;syntaxhighlight lang="c#">
bool exists = Game1.content.IsValidTranslationKey("Strings\\NPCNames:Abigail");
&lt;/syntaxhighlight>
|}

====Filtering====
The game now has an optimized &lt;samp>RemoveWhere&lt;/samp> method for O(n) filtering on &lt;samp>NetCollection&lt;/samp>, &lt;samp>NetDictionary&lt;/samp>, &lt;samp>NetList&lt;/samp>, and (via extension) &lt;samp>IDictionary&lt;/samp>. This also deprecates &lt;samp>Filter&lt;/samp> methods where they existed.

For example:
&lt;syntaxhighlight lang="c#">
int dirtTilesRemoved = Game1.currentLocation.terrainFeatures.RemoveWhere(pair => pair.Value is HoeDirt);
&lt;/syntaxhighlight>

====Game paths====
The game folder paths were previously hardcoded throughout the code. These are now centralized with a few methods:

{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>Program.GetLocalAppDataFolder&lt;/samp>&lt;br />&lt;samp>Program.GetAppDataFolder&lt;/samp>
| Get the absolute path to the game's app data folder (which contains the [[saves|&lt;Samp>Saves&lt;/samp> folder]]) or local app data folder (which contains &lt;samp>ErrorLogs&lt;/samp> and &lt;samp>Screenshots&lt;/samp>). These methods are equivalent on Windows, but different on Linux/macOS.
|-
| &lt;samp>Program.GetSavesFolder&lt;/samp>
| Get the absolute path to the game's [[saves|&lt;samp>Saves&lt;/samp> folder]].
|-
| &lt;samp>Game1.GetScreenshotFolder&lt;/samp>
| Get the absolute path to the game's &lt;samp>Screenshots&lt;/samp> folder.
|-
| &lt;samp>options.GetFilePathForDefaultOptions&lt;/samp>
| Get the absolute path to the game's &lt;samp>default_options&lt;/samp> file.
|}

====Hash sets====
Since the [[#Hash set fields|game now uses hash sets]], it has a few extensions for working with them:

{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>AddRange&lt;/samp>
| Add all the values from a list or enumerable to the set.
|-
| &lt;samp>RemoveWhere&lt;/samp>
| Remove all values matching a condition.
|-
| &lt;samp>Toggle&lt;/samp>
| Add or remove a value in the set based on a boolean. For example:
&lt;syntaxhighlight lang="c#">
public bool hasClubCard
{
    get { return mailReceived.Contains("HasClubCard"); }
    set { mailReceived.Toggle("HasClubCard", value); }
}
&lt;/syntaxhighlight>
|}

====Iteration====
The new &lt;samp>Utility.ForEach*&lt;/samp> methods let you check every thing of a type in the game world quickly and efficiently (with minimal allocations, boxing, etc). These are significantly faster than equivalent code using LINQ or &lt;samp>yield&lt;/samp> methods.

{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>Utility.ForEachBuilding&lt;/samp>
| Perform an action for each building in the game world.
|-
| &lt;samp>Utility.ForEachCharacter&lt;/samp>&lt;br />&lt;samp>Utility.ForEachVillager&lt;/samp>
| Perform an action for each NPC in the game world. &lt;samp>ForEachCharacter&lt;/samp> matches all NPC types (villagers, horses, pets, monsters, player children, etc), while &lt;samp>ForEachVillager&lt;/samp> only matches villager NPCs like [[Abigail]].
|-
| &lt;samp>Utility.ForEachCrop&lt;/samp>
| Perform an action for each crop in the game world planted in the ground or in a [[Garden Pot|garden pot]].
|-
| &lt;samp>Utility.ForEachItem&lt;/samp>
| Perform an action for each item in the game world, including items within items (e.g. in a chest or on a table), hats placed on children, items in player inventories, etc.
|-
| &lt;samp>Utility.ForEachItemIn&lt;/samp>
| Perform an action for each item within a given location, including items within items (e.g. in a chest or on a table).
|-
| &lt;samp>Utility.ForEachLocation&lt;/samp>
| Perform an action for each location in the game world, optionally including building interiors and generated [[The Mines|mine]] or [[Volcano Dungeon|volcano]] levels.
|}

For example, this code counts how many parsnips are planted everywhere in the world:
&lt;syntaxhighlight lang="c#">
int parsnips = 0;
Utility.ForEachCrop(crop =>
{
    if (crop.IndexOfHarvest == "24")
        parsnips++;
    return true; // whether to keep iterating after this crop
});
&lt;/syntaxhighlight>

Or you could replace all instances of an obsolete item with a new one:
&lt;syntaxhighlight lang="c#">
Utility.ForEachItem((item, remove, replaceWith) =>
{
    if (item.QualifiedItemId == "(O)OldId")
    {
        Item newItem = ItemRegistry.Create("(O)NewId", item.Stack, item.Quality);
        replaceWith(newItem);
    }

    return true;
});
&lt;/syntaxhighlight>
C# mods which add custom item types can override &lt;samp>Item.ForEachItem&lt;/samp> to add support for nested items.

====Randomization====
{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>Utility.CreateDaySaveRandom&lt;/samp>
| Creates a &lt;samp>Random&lt;/samp> instance using the most common seed (based on the save ID and total days played).
|-
| &lt;samp>Utility.CreateRandom&lt;/samp>&lt;br />&lt;samp>Utility.CreateRandomSeed&lt;/samp>
| Creates a &lt;samp>Random&lt;/samp> (or seed for a &lt;samp>Random&lt;/samp>) by combining the given seed values, which can be any numeric type.
|-
| &lt;samp>Utility.TryCreateIntervalRandom&lt;/samp>
| Get an RNG which produces identical results for all RNGs created with the same sync key during the given interval (one of &lt;samp>tick&lt;/samp>, &lt;samp>day&lt;/samp>, &lt;samp>season&lt;/samp>, or &lt;samp>year&lt;/samp>), including between players in multiplayer mode.

For example, this will return the same number each time it's called until the in-game day changes:
&lt;syntaxhighlight lang="c#">
public int GetDailyRandomNumber()
{
    Utility.TryCreateIntervalRandom("day", "example sync key", out Random random, out _);
    return random.Next();
}
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.TryGetRandom&lt;/samp>
| Get a random entry from a dictionary.
|-
| &lt;samp>random.Choose&lt;/samp>
| Choose a random option from the values provided:
&lt;syntaxhighlight lang="c#">
string npcName = Game1.random.Choose("Abigail", "Penny", "Sam");
&lt;/syntaxhighlight>
|-
| &lt;samp>random.ChooseFrom&lt;/samp>
| Choose a random option from a list or array:
&lt;syntaxhighlight lang="c#">
string[] names = new[] { "Abigail", "Penny", "Sam" };
string npcName = Game1.random.ChooseFrom(names);
&lt;/syntaxhighlight>
|-
| &lt;samp>random.NextBool&lt;/samp>
| Randomly choose &lt;samp>true&lt;/samp> or &lt;samp>false&lt;/samp>. For example:
&lt;syntaxhighlight lang="c#">
bool flipSprite = Game1.random.NextBool();
&lt;/syntaxhighlight>

You can optionally set the probability of &lt;samp>true&lt;/samp>:
&lt;syntaxhighlight lang="c#">
bool flipSprite = Game1.random.NextBool(0.8);
&lt;/syntaxhighlight>
|}

====Other====
Here are some of the other new methods:

{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>Game1.getOfflineFarmhands()&lt;/samp>
| Get all farmhands who aren't connected to the game.
|-
| &lt;samp>Game1.PerformActionWhenPlayerFree&lt;/samp>
| Calls the provided callback next time the player is free (e.g. no menu or event is up, not using a tool, etc). If the player is already free, it's run immediately.

For example, if you receive your first geode from a fishing chest, this is used to show the geode-received animation &amp; animation when it closes.
|-
| &lt;samp>Game1.createRadialDebris_MoreNatural&lt;/samp>
| Scatter item debris around a position with a more randomized distribution than &lt;samp>createRadialDebris&lt;/samp>.
|-
| &lt;samp>Object.GetCategoryColor&lt;/samp>&lt;br />&lt;samp>Object.GetCategoryDisplayName&lt;/samp>
| Get the color and display name for the given category number when it's shown in a tooltip.
|-
| &lt;samp>Utility.distanceFromScreen&lt;/samp>
| Get the pixel distance between a position in the world and the player's screen viewport, where 0 is within the viewport.
|-
| &lt;samp>Utility.DrawErrorTexture&lt;/samp>
| Draw the game's missing-texture image (🚫) to the screen, stretched to fit a given pixel area.
|-
| &lt;samp>Utility.DrawSquare&lt;/samp>
| Draw a square to the screen with a background color and/or borders.
|-
| &lt;samp>Utility.GetEnumOrDefault&lt;/samp>
| Get an enum value if it's valid, else get a default value. This is mainly used to validate input from data files.

For example:
&lt;syntaxhighlight lang="c#">
NpcGender gender = (NPCGender)999999;
gender = Utility.GetEnumOrDefault(gender, Gender.Male); // returns Gender.Male since there's no enum constant with value 999999
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.getRandomNpcFromHomeRegion&lt;/samp>
| Get a random social NPC based on their &lt;samp>HomeRegion&lt;/samp> value in [[#Custom NPCs|&lt;samp>Data/Characters&lt;/samp>]]. For example, this gets a random NPC for the &lt;samp>Town&lt;/samp> home region:
&lt;syntaxhighlight lang="c#">
NPC npc = Utility.getRandomNpcFromHomeRegion(NPC.region_town);
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.isFestivalDay&lt;/samp>
| This method existed before 1.6, but you can now omit arguments to check today instead of a specific date:
&lt;syntaxhighlight lang="c#">
bool festivalToday = Utility.isFestivalToday();
&lt;/syntaxhighlight>

Or check for a festival in specific location context:
&lt;syntaxhighlight lang="c#">
bool desertFestivalToday = Utility.isFestivalToday(LocationContexts.DesertId);
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.IsPassiveFestivalDay&lt;/samp>
| This method existed before 1.6, but now can now omit arguments to check today instead of a specific date:
&lt;syntaxhighlight lang="c#">
bool passiveFestivalToday = Utility.IsPassiveFestivalDay();
&lt;/syntaxhighlight>

Or check for a specific passive festival:
&lt;syntaxhighlight lang="c#">
bool nightMarketToday = Utility.IsPassiveFestivalDay("NightMarket");
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.TryGetPassiveFestivalData&lt;/samp>&lt;br />&lt;samp>Utility.TryGetPassiveFestivalDataForDay&lt;/samp>
| Get the [[#Custom passive festivals|passive festival data]] for the given ID or date.
|-
| &lt;samp>Utility.TryParseDirection&lt;/samp>
| Parse a string into a direction value (like &lt;samp>Game1.down&lt;/samp>), if it's valid. This supports case-insensitive direction names (one of &lt;samp>down&lt;/samp>, &lt;samp>left&lt;/samp>, &lt;samp>right&lt;/samp>, or &lt;samp>up&lt;/samp>) or [[Modding:Event data#Directions|numeric values]].
|-
| &lt;samp>Utility.TryParseEnum&lt;/samp>
| Parse a string into an enum value if possible, case-insensitively. Unlike [https://learn.microsoft.com/en-us/dotnet/api/system.enum.tryparse &lt;samp>Enum.TryParse&lt;/samp>], an invalid numeric value won't be cast:
&lt;syntaxhighlight lang="c#">
Enum.TryParse("999999", out DayOfWeek day);        // true, even though there's no matching DayOfWeek value
Utility.TryParseEnum("999999", out DayOfWeek day); // false
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.fuzzyCompare&lt;/samp>
| Get whether a term is a fuzzy match for a search query. Returns the numeric match priority (where lower values are a better match), or null if the term doesn't match the query.
|-
| &lt;samp>rectangle.GetPoints&lt;/samp>&lt;br />&lt;samp>rectangle.GetVectors&lt;/samp>
| Get all the integer coordinates within a given &lt;samp>Rectangle&lt;/samp>. For example:
&lt;syntaxhighlight lang="c#">
var tileArea = new Rectangle(0, 0, 2, 2);
Point[] tiles = tileArea.GetPoints(); // (0, 0), (1, 0), (0, 1), (1, 1)
&lt;/syntaxhighlight>
|-
| &lt;samp>Utility.GetDeterministicHashCode&lt;/samp>
| ''(Specialized)'' Get a [https://en.wikipedia.org/wiki/Hash_function hash code] for a string key or numeric values. Unlike [https://learn.microsoft.com/en-us/dotnet/api/system.object.gethashcode &lt;samp>string.GetHashCode&lt;/samp>] or [https://learn.microsoft.com/en-us/dotnet/api/system.hashcode.combine &lt;samp>HashCode.Combine&lt;/samp>], this produces a consistent hash for the same inputs between sessions and connected players.
|-
| &lt;samp>Utility.WrapIndex&lt;/samp>
| Constrain an index to a range by wrapping out-of-bounds values to the other side (e.g. last index + 1 is the first index, and first index - 1 is the last one).

For example:
&lt;syntaxhighlight lang="c#">
string[] values = new[] { "0", "1", "2" };
int index = Utility.WrapIndex(-1, values.Length); // 2
&lt;/syntaxhighlight>
|}

===Static delegate builder===
For C# mods, &lt;samp>StaticDelegateBuilder&lt;/samp> is a specialized class which converts a method name into an optimized delegate which can be called by code. This is used by vanilla code to optimize methods referenced in assets like [[#Custom machines|&lt;samp>Data/Machines&lt;/samp>]].

For example, given a static method like this:
&lt;syntaxhighlight lang="c#">
public static bool OutputDeconstructor(Object machine, Item inputItem, bool probe, MachineItemOutput outputData, out int? overrideMinutesUntilReady) { ... }
&lt;/syntaxhighlight>

And a delegate which matches it:
&lt;syntaxhighlight lang="c#">
public delegate bool MachineOutputDelegate(Object machine, Item inputItem, bool probe, MachineItemOutput outputData, out int? overrideMinutesUntilReady);
&lt;/syntaxhighlight>

You can create an optimized delegate and call it like this:
&lt;syntaxhighlight lang="c#">
if (StaticDelegateBuilder.TryCreateDelegate("StardewValley.Object.OutputDeconstructor", out MachineOutputDelegate method, out string error))
    return method(this, inputItem, probe, outputData, out minutesUntilMorning);
else
    Game1.log.Warn($"Machine {ItemId} has invalid output method: {error}");
&lt;/syntaxhighlight>

The &lt;samp>TryCreateDelegate&lt;/samp> method will cache created delegates, so calling it again will just return the same delegate instance.

===Game logging changes===
The game now writes debug output through an internal &lt;samp>Game1.log&lt;/samp> wrapper, instead of using &lt;samp>Console.WriteLine&lt;/samp> directly. For example:
&lt;syntaxhighlight lang="c#">
// old code
Console.WriteLine("Error playing sound: " + ex);

// new code
Game1.log.Error("Error playing sound.", ex);
&lt;/syntaxhighlight>

This has a few benefits:
* For vanilla players, the game no longer uses time &amp; resources writing to a console that's not visible anyway.
* For modded players, SMAPI can now...
** distinguish between the game's debug/warn/error messages (so many warnings/errors that would previously appear as hidden &lt;samp>TRACE&lt;/samp> messages will now be shown with the correct level);
** apply its formatting rules to exceptions logged by the game too;
** redirect game output much more efficiently without console interception.

===Other changes===
====Audio====
&lt;ul>
&lt;li>Added &lt;samp>Game1.sounds&lt;/samp>, which unifies the high-level sound effect logic (e.g. distance fading and multiplayer sync).&lt;/li>
&lt;li>Added &lt;samp>silence&lt;/samp> [[Modding:Audio|audio cue]] for music. This is different from &lt;samp>none&lt;/samp> in that it suppresses both town music and ambient sounds.&lt;/li>
&lt;li>Added &lt;samp>Game1.soundBank.Exists(cueName)&lt;/samp> method to check if an audio cue exists.&lt;/li>
&lt;li>Added &lt;samp>Game1.playSound&lt;/samp> overloads to get the audio cue being played.&lt;/li>
&lt;li>Added &lt;samp>character.playNearbySoundAll&lt;/samp> and &lt;samp>playNearbySoundAllLocal&lt;/samp> methods to play a sound for players near the player/character.&lt;/li>
&lt;li>Added position argument to &lt;samp>DelayedAction.playSoundAfterDelay&lt;/samp>.&lt;/li>
&lt;li>Removed &lt;samp>NetAudioCueManager&lt;/samp> and &lt;samp>Game1.locationCues&lt;/samp> (unused).&lt;/li>
&lt;li>Unified the methods for playing normal/pitched/positional sounds (which also adds support for pitched non-synced &amp; pitched positional sounds):
{| class="wikitable"
|-
! old methods
! new method
|-
| &lt;samp>Game1.playSound&lt;/samp>&lt;br />&lt;samp>Game1.playSoundAt&lt;/samp>&lt;br />&lt;samp>Game1.playSoundPitched&lt;/samp>
| &lt;samp>Game1.playSound&lt;/samp>
|-
| &lt;samp>GameLocation.playSound&lt;/samp>&lt;br />&lt;samp>GameLocation.playSoundAt&lt;/samp>&lt;br />&lt;samp>GameLocation.playSoundPitched&lt;/samp>
| &lt;samp>GameLocation.playSound&lt;/samp>
|-
| &lt;samp>GameLocation.localSound&lt;/samp>&lt;br />&lt;samp>GameLocation.localSoundAt&lt;/samp>
| &lt;samp>GameLocation.localSound&lt;/samp>
|-
| &lt;samp>NetAudio.Play&lt;/samp>&lt;br />&lt;samp>NetAudio.PlayAt&lt;/samp>&lt;br />&lt;samp>NetAudio.PlayPitched&lt;/samp>
| &lt;samp>NetAudio.Play&lt;/samp>
|-
| &lt;samp>NetAudio.PlayLocal&lt;/samp>&lt;br />&lt;samp>NetAudio.PlayLocalAt&lt;/samp>
| &lt;samp>NetAudio.PlayLocal&lt;/samp>
|}&lt;/li>
&lt;/ul>

====Debug commands====
{{/doc status|[[Modding:Console commands]]|done=true}}

&lt;ul>
&lt;li>All debug commands are now quote-aware, so you can pass spaces in arguments like &lt;code>debug build "Junimo Hut"&lt;/code>.&lt;/li>
&lt;li>Added new [[Modding:Console commands|debug commands]]:
{| class="wikitable"
|-
! command
! description
|-
| &lt;samp>action {{t|action}}&lt;/samp>
| Run a [[Modding:Trigger actions|trigger action string]], like &lt;samp>action AddMoney 500&lt;/samp> to add {{price|500}} to the current player.
|-
| &lt;samp>artifactSpots&lt;/samp>
| Spawn an [[Artifact Spot|artifact spot]] in each empty tile around the player.
|-
| &lt;samp>endEvent&lt;/samp> / &lt;samp>ee&lt;/samp>
| Immediately end the current event or festival, applying the event's skip logic (if any). The event is marked seen, but you can rewatch it using the &lt;samp>eventById&lt;/samp> command if needed.

This replaces the pre-1.6 commands (&lt;samp>ee&lt;/samp>, &lt;samp>endEvent&lt;/samp>/&lt;samp>leaveEvent&lt;/samp>, and &lt;samp>eventOver&lt;/samp>) which worked in different ways and had side-effects like restarting the event or clearing the player's mail.
|-
| &lt;samp>exportShops&lt;/samp>
| Export a summary of what's in every shop in the game, taking into account their current conditions. This is saved to a file on disk, and the file path shown in the console.
|-
| &lt;samp>filterLoadMenu&lt;/samp> / &lt;samp>flm&lt;/samp>
| ''Syntax: &lt;samp>filterLoadMenu {{t|search text}}''

Filter the current list of saves to those whose player name or farm name contains the given text.
|-
| &lt;samp>forcebuild&lt;/samp>
| Equivalent to &lt;samp>build&lt;/samp>, but disables all safety checks so you can build in a location that wouldn't normally allow buildings, build on top of farm animals or placed objects, etc.
|-
| &lt;samp>gamequery&lt;/samp> / &lt;samp>gq&lt;/samp>
| ''Syntax:'' &lt;samp>gq {{t|query}}&lt;/samp>

Check whether the given [[Modding:Game state queries|game state query]] matches in the current context. For example:
&lt;pre>
gq !SEASON Spring, WEATHER Here Sun
> Result: true.
&lt;/pre>
|-
| &lt;samp>itemquery&lt;/samp> / &lt;samp>iq&lt;/samp>
| ''Syntax:'' &lt;samp>iq {{t|query}}&lt;/samp>

Open a shop menu with all the items matching an [[Modding:Item queries|item query]] (all items free). For example:
* &lt;samp>debug iq ALL_ITEMS&lt;/samp> shows all items;
* &lt;samp>debug iq ALL_ITEMS (W)&lt;/samp> shows all weapons;
* &lt;samp>debug iq (O)128&lt;/samp> shows a pufferfish (object 128);
* &lt;samp>debug iq FLAVORED_ITEM Wine (O)128&lt;/samp> shows Pufferfish Wine.
|-
| &lt;samp>logFile&lt;/samp>
| Begin writing debug messages to a log file at &lt;samp>%appdata%/StardewValley/ErrorLogs/game-latest.txt&lt;/samp> to simplify troubleshooting. You can also enter &lt;samp>/logtext&lt;/samp> into the in-game chatbox to enable it.

This does nothing if SMAPI is installed, since the debug messages are already saved to SMAPI's log.
|-
| &lt;samp>logSounds&lt;/samp>
| Log info about each sound effect played to the SMAPI console window.
|-
| &lt;samp>movieSchedule {{o|year}}&lt;/samp>
| Lists the movies that will play in a given {{o|year}} (default this year), with the dates they'll play.
|-
| &lt;samp>qualifiedid&lt;/samp>
| Print the held item's display name and [[#Custom items|qualified item ID]].
|-
| &lt;samp>search&lt;/samp>
| ''Syntax:'' &lt;samp>search {{o|term}}&lt;/samp>

List all debug commands that match the given search term (or all debug commands if the search term is omitted). For example:
&lt;pre>debug search backpack
> Found 2 debug commands matching search term 'backpack':
    - Backpack
    - FillBackpack (fbp, fill, fillbp)&lt;/pre>
|-
| &lt;samp>setFarmEvent&lt;/samp> / &lt;samp>sfe&lt;/samp>
| ''Syntax:'' &lt;samp>setFarmEvent {{t|event id}}&lt;/samp>

Queue an [[Random Events#Farm events|overnight farm event]] if one doesn't plan naturally instead. The {{t|event id}} can be one of...
* &lt;samp>dogs&lt;/samp>;
* [[Random Events#Earthquake|&lt;samp>earthquake&lt;/samp>]];
* [[Random Events#The Crop Fairy|&lt;samp>fairy&lt;/samp>]];
* [[Random Events#Meteorite|&lt;samp>meteorite&lt;/samp>]];
* [[Random Events#Stone Owl|&lt;samp>owl&lt;/samp>]];
* [[Random Events#Strange Capsule|&lt;samp>ufo&lt;/samp>]];
* [[Random Events#The Witch|&lt;samp>witch&lt;/samp>]].

Note that even if the farm event runs, it may exit without doing anything (e.g. rare events like &lt;samp>ufo&lt;/samp> have extra condition checks when the start).
|-
| &lt;samp>shop&lt;/samp>
| ''Syntax:'' &lt;samp>shop {{t|shop ID}} {{o|owner name}}&lt;/samp>

Open a [[#Custom shops|shop defined in &lt;samp>Data/Shops&lt;/samp>]], regardless of whether one of the owners is nearby. Specifying {{o|owner name}} will use that NPC, otherwise the command will find the closest valid NPC if possible (else open with no NPC).
|-
| &lt;samp>skinBuilding&lt;/samp> / &lt;samp>bsm&lt;/samp>
| If the player is standing right under a building, open a menu to change the building appearance.
|-
| &lt;samp>testwedding&lt;/samp>
| Immediately play the [[Marriage#The Wedding|wedding]] event. This requires the player to be married first - to test specific NPCs, &lt;samp>debug marry&lt;/samp> the NPC followed by this command.
|-
| &lt;samp>thishouseupgrade&lt;/samp> / &lt;samp>thishouse&lt;/samp> / &lt;samp>thu&lt;/samp>
| Equivalent to &lt;samp>houseupgrade&lt;/samp>, but can be used to upgrade another player's house by running it from inside or just south of its exterior.
|-
| &lt;samp>toggleCheats&lt;/samp>
| Enable or disable entering debug commands into the in-game chat (prefixed with &lt;samp>/&lt;/samp>).
|-
| &lt;samp>tokens&lt;/samp>
| ''Syntax:'' &lt;samp>tokens {{t|tokenized string}}&lt;/samp>

Parses a [[Modding:Tokenizable strings|tokenizable string]] and prints its output. For example:
&lt;pre>
tokens [LocalizedText Strings\StringsFromCSFiles:MapPage.cs.11064 [EscapedText [FarmName]]]
> Result: "Lon Lon Farm"
&lt;/pre>
|-
| &lt;samp>worldMapLines&lt;/samp>
| Toggles the [[Modding:World map#Debug view|world map's debug view]].
|}&lt;/li>
&lt;li>Improved existing debug commands:
{| class="wikitable"
|-
! command
! changes
|-
| &lt;samp>build&lt;/samp>
| Removed custom space handling; quote arguments with spaces instead of replacing them with 9 (e.g. &lt;code>Junimo9Hut&lt;/code> → &lt;code>"Junimo Hut"&lt;/code>).
|-
| &lt;samp>clearFurniture&lt;/samp>
| Now works outside the farmhouse too.
|-
| &lt;samp>dialogue&lt;/samp>
| Removed custom space handling; quote NPC names containing spaces instead, with all text after the first argument treated as part of the dialogue (e.g. &lt;code>debug dialogue "Some NPC" Some dialogue text$h&lt;/code>).
|-
| &lt;samp>ebi&lt;/samp>
| Fixed event not played correctly if called from the same location as the event.
|-
| &lt;samp>fish&lt;/samp>
| Fixed error if you're not holding a fishing rod. It now opens the fishing minigame with no tackle instead.
|-
| &lt;samp>frameOffset&lt;/samp>
| &amp;#32;
* Simplified usage. You can now pass negative offsets directly (like &lt;samp>debug frameOffset -5 -10&lt;/samp>) instead of using the &lt;samp>s&lt;/samp> number prefix.
* Fixed command only taking the last digit in each number.
|-
| &lt;samp>getStat&lt;/samp>&lt;br />&lt;samp>setStat&lt;/samp>
| Added argument validation.
|-
| &lt;samp>grass&lt;/samp>
| Now applies to the current location, instead of the farm.
|-
| &lt;samp>growAnimals&lt;/samp>&lt;br />&lt;samp>growAnimalsFarm&lt;/samp>
| Merged into one &lt;samp>growAnimals&lt;/samp> command that supports any location and doesn't reset the age of animals which are already adults.
|-
| &lt;samp>growCrops&lt;/samp>
| Fixed error growing mixed seeds or giant crops.
|-
| &lt;samp>itemNamed&lt;/samp>
| Removed custom space handling; quote arguments with spaces instead of removing them (e.g. &lt;code>EelRoe&lt;/code> → &lt;code>"Eel Roe"&lt;/code>).
|-
| &lt;samp>junimoGoodbye&lt;/samp>&lt;br />&lt;samp>&lt;samp>junimoStar&lt;/samp>
| Added validation to check that you're inside the community center.
|-
| &lt;samp>killAll&lt;/samp>&lt;br />&lt;samp>killAllHorses&lt;/samp>&lt;br />&lt;samp>killNpc&lt;/samp>
| These now remove matching NPCs inside constructed buildings too.
|-
| &lt;samp>killMonsterStat&lt;/samp>
| Removed custom space handling; quote arguments with spaces instead of replacing them with 0 (e.g. &lt;code>Dust0Spirit&lt;/code> → &lt;code>"Dust Spirit"&lt;/code>).
|-
| &lt;samp>mailForTomorrow&lt;/samp>
| Fixed zeros in the mail ID getting replaced with underscores.
|-
| &lt;samp>monster&lt;/samp>
| Added validation for the monster name.
|-
| &lt;samp>moveBuilding&lt;/samp>
| Now applies to the current location, instead of the farm.
|-
| &lt;samp>movie&lt;/samp>
| Rewritten; it's now simpler, applies the normal game logic, defaults to today's movie, and avoids depending on NPC indexes in &lt;samp>Data/NPCDispositions&lt;/samp> since those can change with custom NPCs.

New usage:
: ''&lt;samp>debug movie {{o|movie ID}} {{o|invite NPC name}}''
: ''&lt;samp>debug movie current {{o|invite NPC name}}''

The movie ID defaults to today's movie, and the NPC name can be omitted to watch the movie without an invitee. Specifying &lt;samp>current&lt;/samp> as the movie uses the default value.
|-
| &lt;samp>panMode&lt;/samp>
| The command no longer overrides debug command handling while it's active. Instead you can now turn it back off by running &lt;samp>debug panMode&lt;/samp> again, clear with &lt;samp>debug panMode clear&lt;/samp>, or set a time with &lt;samp>debug panMode {time}&lt;/samp>.
|-
| &lt;samp>paintBuilding&lt;/samp>
| &amp;#32;
* Now applies to the current location, instead of the farm.
* Added validation for the target building.
|-
| &lt;samp>playSound&lt;/samp>
| Added an optional pitch argument, like &lt;samp>debug playSound barrelBreak 1200&lt;/samp>. The pitch is a value from 1 (low pitch) to 2400 (high pitch) inclusively.
|-
| &lt;samp>question&lt;/samp>
| You can now forget a selected answer (instead of adding it) by setting the second argument to false, like &lt;samp>question {{t|id}} false&lt;/samp>.
|-
| &lt;samp>runTestEvent&lt;/samp>
| Fixed support for Unix line endings.
|-
| &lt;samp>seenEvent&lt;/samp>
| You can now forget an event (instead of adding it) by setting the second argument to false, like &lt;samp>seenEvent {{t|id}} false&lt;/samp>.
|-
| &lt;samp>seenMail&lt;/samp>
| You can now remove a mail received (instead of adding it) by setting the second argument to false, like &lt;samp>seenMail {{t|id}} false&lt;/samp>.
|-
| &lt;samp>skinBuilding&lt;/samp>
| &amp;#32;
* Now applies to the current location, instead of the farm.
* Added validation for the target building.
|-
| &lt;samp>skullGear&lt;/samp>
| &amp;#32;
* Fixed command setting 32 slots instead of 36.
* Fixed command not adding empty inventory slots as expected by some game code.
|-
| &lt;Samp>setupFishPondFarm&lt;/samp>
| Fixed error if the farm already has non-fish-pond buildings constructed.
|-
| &lt;samp>speech&lt;/samp>
| Removed custom space handling; quote NPC names containing spaces instead, with all text after the first argument treated as part of the dialogue (e.g. &lt;code>debug speech "Some NPC" Some dialogue text$h&lt;/code>).
|-
| &lt;samp>spreadDirt&lt;/samp>
| Now applies to the current location, instead of the farm.
|-
| &lt;samp>spreadSeeds&lt;/samp>
| Now applies to the current location, instead of the farm.
|-
| &lt;samp>thisHouseUpgrade&lt;/samp>
| Now applies to the current location, instead of the farm.
|-
| &lt;samp>warpToPlayer&lt;/samp>
| Removed custom space handling; quote arguments with spaces instead of removing them (e.g. &lt;code>JohnSmith&lt;/code> → &lt;code>"John Smith"&lt;/code>).
|-
| &lt;samp>whereIs&lt;/samp>
| &amp;#32;
* Now lists all matching NPCs instead of the first one.
* Now searches the current event or festival, if any.
|}&lt;/li>

&lt;li>Removed some debug commands:
{| class="wikitable"
|-
! command
! notes
|-
| &lt;samp>ax&lt;/samp>&lt;br />&lt;samp>bigItem&lt;/samp>/&lt;samp>b&lt;/samp>/&lt;samp>bi&lt;/samp>/&lt;samp>big&lt;/samp>&lt;br />&lt;samp>boots&lt;/samp>&lt;br />&lt;samp>clothes&lt;/samp>&lt;br />&lt;samp>hoe&lt;/samp>&lt;br />&lt;samp>milkPail&lt;/samp>/&lt;samp>mp&lt;/samp>&lt;br />&lt;samp>pan&lt;/samp>&lt;br />&lt;samp>pickaxe&lt;/samp>/&lt;samp>pick&lt;/samp>/&lt;samp>pickax&lt;/samp>&lt;br />&lt;samp>ring&lt;/samp>/&lt;samp>addRing&lt;/samp>&lt;br />&lt;samp>shears&lt;/samp>/&lt;samp>scissors&lt;/samp>&lt;br />&lt;samp>slingshot&lt;/samp>&lt;br />&lt;samp>tool&lt;/samp>&lt;br />&lt;samp>wateringCan&lt;/samp>/&lt;samp>can&lt;/samp>&lt;br />&lt;samp>wand&lt;/samp>&lt;br />&lt;samp>weapon&lt;/samp>
| These are replaced by more general commands like &lt;code>item (O)128&lt;/code> (spawn item by ID), &lt;code>fuzzyItemNamed pufferfish&lt;/code> (spawn by item name), or &lt;code>itemQuery FLAVORED_ITEM Wine (O)128&lt;/code> (spawn by [[Modding:Item queries|item query]]).
|-
| &lt;samp>addQuartz&lt;/samp>&lt;br />&lt;samp>blueBook&lt;/samp>&lt;br />&lt;samp>blueprint&lt;/samp>&lt;br />&lt;samp>end&lt;/samp>
| These were part of unused features removed in 1.6.
|-
| &lt;samp>changeStat&lt;/samp>
| Removed; use &lt;samp>setStat&lt;/samp> instead.
|-
| &lt;samp>ee&lt;/samp>&lt;br />&lt;samp>endEvent&lt;/samp>/&lt;samp>leaveEvent&lt;/samp>&lt;br />&lt;samp>eventOver&lt;/samp>
| Replaced by the new &lt;samp>endEvent&lt;/samp> command.
|-
| &lt;samp>everythingshop&lt;/samp>
| Removed. You can get all items like &lt;code>debug iq ALL_ITEMS&lt;/code>, or all items of a given type like &lt;code>debug iq ALL_ITEMS (O)&lt;/code>.
|-
| &lt;samp>oldMineGame&lt;/samp>
| Removed along with the pre-1.4 [[Junimo Kart]] code.
|-
| &lt;samp>pathSpouseToMe&lt;/samp>/&lt;samp>pstm&lt;/samp>
| Removed along with the unimplemented farm activities code.
|}&lt;/li>

&lt;li>Added alternative names for some debug commands (new names in parentheses): &lt;samp>bpm&lt;/samp> + &lt;samp>bsm&lt;/samp> (&lt;samp>paintBuilding&lt;/samp> + &lt;samp>skinBuilding&lt;/samp>), &lt;samp>craftingRecipe&lt;/samp> (&lt;/samp>addCraftingRecipe&lt;/samp>), &lt;samp>db&lt;/samp> (&lt;/samp>speakTo&lt;/samp>), &lt;samp>dialogue&lt;/samp> (&lt;/samp>addDialogue&lt;/samp>), &lt;samp>pdb&lt;/samp> (&lt;/samp>printGemBirds&lt;/samp>), &lt;samp>r&lt;/samp> (&lt;/samp>resetForPlayerEntry&lt;/samp>), &lt;samp>removeLargeTf&lt;/samp> (&lt;/samp>removeLargeTerrainFeature&lt;/samp>), &lt;samp>sb&lt;/samp> (&lt;/samp>showTextAboveHead&lt;/samp>), &lt;samp>sl&lt;/samp> + &lt;samp>sr&lt;/samp> (&lt;samp>shiftToolbarLeft&lt;/samp> + &lt;/samp>shiftToolbarRight&lt;/samp>), &lt;samp>sn&lt;/samp> (&lt;/samp>secretNote&lt;/samp>), and &lt;samp>tls&lt;/samp> (&lt;/samp>toggleLightingScale&lt;/samp>).&lt;/li>
&lt;li>Reworked how debug commands log output. This fixes an issue where they don't always log to the right place (e.g. a command run through the chatbox might log to the console or vice-versa), and lets mods pass a custom logger to capture or redirect output.&lt;/li>
&lt;/ul>

====Location logic====
* The [[desert]] no longer assumes the player arrived by bus unless their previous location was the [[Bus Stop|bus stop]].
* The ticket price for the bus and Willy's boat can now be edited by C# mods via &lt;samp>BusStop.TicketPrice&lt;/samp> and &lt;samp>BoatTunnel.TicketPrice&lt;/samp> respectively.

====Menus &amp; UI====
* Rewrote calendar menu (&lt;samp>Billboard&lt;/samp>) to simplify custom events &amp; event types. C# mods can now edit &lt;samp>billboard.calendarDayData&lt;/samp> or patch &lt;samp>billboard.GetEventsForDay&lt;/samp> to add new events.
* Added &lt;samp>Game1.textShadowDarkerColor&lt;/samp> field for the colors previously hardcoded in &lt;samp>Utility.drawTextWithShadow&lt;/samp>.
* Added &lt;samp>MoneyDial.ShouldShakeMainMoneyBox&lt;/samp> field to simplify custom dials.
* Partly de-hardcoded &lt;samp>ShopMenu&lt;/samp> filter tabs. You can now change filter tabs by setting the &lt;samp>shopMenu.tabButtons&lt;/samp> field with arbitrary &lt;samp>Func&amp;lt;ISalable, bool&amp;gt; Filter&lt;/samp> values, or by using a predefined set of tabs like &lt;samp>shopMenu.UseDresserTabs()&lt;/samp>.
* The &lt;samp>SpriteText&lt;/samp> methods now accept arbitrary &lt;samp>Color&lt;/samp> tints instead of a few predefined color IDs.
* The &lt;samp>DiscreteColorPicker.getColorFromSelection&lt;/samp> methods are now static for reuse.
* Fixed &lt;samp>DiscreteColorPicker&lt;/samp> constructor ignoring the initial color argument, and added a constructor which takes a &lt;samp>Color&lt;/samp> value.
* Fixed an edge case where a custom language's fonts wouldn't be loaded when switching language.

====[[Modding:Modder Guide/Game Fundamentals#Net fields|Net fields]]====
* Removed implicit conversion operators for most types due to their sometimes counter-intuitive behavior. The only ones left are &lt;samp>NetBool&lt;/samp>, &lt;samp>NetInt&lt;/samp>, and &lt;samp>NetString&lt;/samp>; those are now marked obsolete and will raise build warnings on use.
* &lt;samp>NetLocationRef&lt;/samp> now has a public &lt;samp>LocationName&lt;/samp> and &lt;samp>IsStructure&lt;/samp>, and its &lt;samp>Update&lt;/samp> method allows forcing an update.

====Quests====
{{/doc status|[[Modding:Quest data]]|done=false}}

* Quests now have string IDs, to simplify custom quest frameworks.
* Added validation for quest data parsing.
* In [[Modding:Special orders|&lt;samp>Data/SpecialOrders&lt;/samp>]], the &lt;samp>Duration&lt;/samp> and &lt;samp>Repeatable&lt;/samp> fields are now strongly-typed and case-insensitive.
* For C# mods, fixed &lt;samp>DescriptionElement&lt;/samp> not allowing more than four translation token substitutions.

====Dates &amp; seasons====
* Added a &lt;samp>Season&lt;/samp> enum for strongly-typed, case-insensitive season checks (like &lt;code>Game1.season == Season.Spring&lt;/code> instead of &lt;code>Game1.currentSeason == "spring"&lt;/code>).
* Added &lt;samp>Game1.season&lt;/samp>, &lt;samp>Game1.GetSeasonForLocation&lt;/samp>, &lt;samp>Game1.WorldDate.Season&lt;/samp>, and &lt;samp>location.GetSeason()&lt;/samp> to get the season enum.
* Added &lt;samp>Utility.getSeasonKey&lt;/samp> to get the key form from a season enum.
* Improved &lt;samp>WorldDate&lt;/samp>:
** added &lt;samp>Now()&lt;/samp> to get a new instance matching the current date;
** added &lt;samp>WorldDate.Equals&lt;/samp> and &lt;samp>GetHashCode&lt;/samp> implementations;
** added code docs;
** &lt;samp>TotalDays&lt;/samp> is no longer written to the save file.
* Renamed some members for clarity (&lt;samp>Game1.GetSeasonForLocation&lt;/samp> → &lt;samp>GetSeasonKeyForLocation&lt;/samp>, &lt;samp>location.GetSeasonForLocation&lt;/samp> → &lt;samp>GetSeasonKey&lt;/samp>, &lt;samp>WorldDate.Season&lt;/samp> → &lt;samp>SeasonKey&lt;/samp>).
* Fixed &lt;samp>location.GetSeasonKey()&lt;/samp> not applying the greenhouse logic.

====Time====
* For C# mods, the &lt;samp>Game1.realMilliSecondsPerGame&lt;/samp> and &lt;samp>Game1.realMilliSecondsPerGameTenMinutes&lt;/samp> fields are no longer marked &lt;samp>const&lt;/samp>, and the &lt;samp>GameLocation.getExtraMillisecondsPerInGameMinuteForThisLocation()&lt;/samp> method has been replaced with a settable &lt;samp>ExtraMillisecondsPerInGameMinute&lt;/samp> property. That lets you change the time rate used by the vanilla game code, but you should be careful doing this since it may cause unintended effects.

====Other====
* Error stack traces on Linux/macOS now have line numbers.
* All space-delimited fields now ignore extra spaces instead of crashing. This affects map/tile properties, data assets, event commands, game state queries, etc.
* All players and NPCs now have &lt;samp>Tile&lt;/samp> &amp; &lt;samp>TilePoint&lt;/samp> properties (their cached tile position) and a &lt;samp>StandingPixel&lt;/samp> property (the cached pixel coordinate at the center of their bounding box). These [[#Other breaking API changes|replace various deleted methods]].
* All terrain features now have &lt;samp>Tile&lt;/samp> and &lt;samp>Location&lt;/samp> properties, and their methods no longer have location/tile parameters in most cases.
* All [[Modding:Modder Guide/Game Fundamentals#Net fields|net fields]] now have &lt;samp>Name&lt;/samp> and &lt;samp>Owner&lt;/samp> fields, which are used to show informative error messages when there's a sync issue and validate common mistakes (e.g. a net field not added to the &lt;samp>NetFields&lt;/samp> collection).
* The game now tracks the locations a player has visited. Mods can check the list in C# (via &lt;samp>Game1.player.locationsVisited&lt;/samp>) or [[Modding:Game state queries|game state queries]] (via &lt;samp>PLAYER_VISITED_LOCATION&lt;/samp>). For pre-existing saves, the list is retroactively populated based on accessible locations, events seen, mail flags set, etc.
* Added menu queuing (via &lt;samp>Game1.nextClickableMenu&lt;/samp> in C#). For example, this applies if you try to take an item from a mail letter when your inventory is full.
* Added C# code docs in many places.
* Added &lt;samp>Id&lt;/samp> fields to simplify content pack edits in fish pond, movie concession, random bundle, and tailoring recipe data.
* Added &lt;samp>Game1.Multiplayer&lt;/samp> to get the game's low-level handler. (Most code should still use [[Modding:Modder Guide/APIs/Multiplayer|SMAPI's multiplayer API]] though.)
* Added &lt;samp>Game1.versionBuildNumber&lt;/samp> with the build number (like &lt;samp>26039&lt;/samp>).
* Added field-changed events to &lt;samp>NetPosition&lt;/samp>.
* Added &lt;samp>LocalizedContentManager.CurrentLanguageString&lt;/samp>, which caches the language code like &lt;samp>pt-BR&lt;/samp>).
* The game now uses &lt;samp>[XmlInclude]&lt;/samp> on its types more consistently. That means the default save serializer can handle more types (e.g. all monsters), and it's easier to create custom serializers.
* Refactored many parts of the code to make it more moddable for C# mods. This includes marking all classes public, changing &lt;samp>private&lt;/samp> members to &lt;samp>protected&lt;/samp> or &lt;samp>public&lt;/samp>, marking members &lt;samp>virtual&lt;/samp>, rewriting or splitting code so it's easier to extend, etc.
* The &lt;samp>startup_preferences&lt;/samp> file is now formatted to simplify troubleshooting.
* Fixed many cases where the game used &lt;samp>Game1.player&lt;/samp> instead of the provided player.

==Breaking changes for C# mods==
'''This section only describes how this update may break existing mods. See the ''what's new'' sections above for more info, including new functionality mods can use.'''

See also [[#Breaking changes for content packs|''Breaking changes for content packs'']], which affect C# mods too.

===.NET 6===
: ''See also: [[#.NET 6|.NET 6]] under what's new.''

Stardew Valley 1.6 updates from .NET 5 to .NET 6. SMAPI can still load .NET 5 mods fine, but you'll get a build error when compiling them. To update a C# mod:
&lt;ol>
&lt;li>Make sure you have [https://visualstudio.microsoft.com/vs Visual Studio Community 2022] or later. (Compiling .NET 6 with earlier versions of Visual Studio isn't officially supported.)&lt;/li>
&lt;li>In Visual Studio, click ''Help > Check For Updates'' and install the latest version.&lt;/li>
&lt;li>Fully exit Visual Studio.&lt;/li>
&lt;li>Open each mod's &lt;samp>.csproj&lt;/samp> file in a text editor, then find this line:
&lt;syntaxhighlight lang="xml">
&lt;TargetFramework>net5.0&lt;/TargetFramework>
&lt;/syntaxhighlight>

And change it to this:
&lt;syntaxhighlight lang="xml">
&lt;TargetFramework>net6.0&lt;/TargetFramework>
&lt;/syntaxhighlight>
&lt;/li>
&lt;li>Delete your solution's hidden &lt;samp>.vs&lt;/samp> folder, and every project's &lt;samp>bin&lt;/samp> and &lt;samp>obj&lt;/samp> folders.&lt;/li>
&lt;li>Reopen the solution in Visual Studio, click ''Build > Rebuild Solution'', and make sure it still loads into the game fine.&lt;/li>
&lt;/ol>

===Item ID changes===
: ''See also: [[#Custom items|custom items in what's new]].''

The [[#Custom items|main &lt;samp>Item&lt;/samp> properties have changed]]. To migrate existing code:
&lt;ul>
&lt;li>Don't use &lt;samp>ParentSheetIndex&lt;/samp> to compare items. For example, &lt;samp>item.ParentSheetIndex == 0&lt;/samp> will match both [[weeds]] and any custom item whose sprite is the first one in its custom spritesheet. You should compare items using [[#Custom items|their new &lt;samp>ItemId&lt;/samp> and &lt;samp>QualifiedItemId&lt;/samp> properties]] instead. For example, here's how to migrate various common forms:

{| class="wikitable"
|-
! old code
! new code
|-
|-
| &lt;samp>item.ParentSheetIndex == 848&lt;/samp>
| &lt;samp>item.QualifiedItemId == "(O)848"&lt;/samp>
|-
| &lt;samp>IsNormalObjectAtParentSheetIndex(item, 74)&lt;/samp>
| &lt;samp>item.QualifiedItemId == "(O)74"&lt;/samp>
|-
| &lt;samp>!item.bigCraftable &amp;&amp; item.ParentSheetIndex == 128&lt;/samp>
| &lt;samp>item.QualifiedItemId == "(O)128"&lt;/samp>
|-
| &lt;samp>item is Boots &amp;&amp; item.ParentSheetIndex == 505&lt;/samp>
| &lt;samp>item.QualifiedItemId == "(B)505"&lt;/samp>
|}&lt;/li>
&lt;li>Don't assume item sprites are in the vanilla spritesheets. For example, instead of rendering &lt;samp>Game1.objectSpriteSheet&lt;/samp> for an object, call &lt;code>ItemRegistry.GetMetadata(item.QualifiedItemId).GetTexture()&lt;/code> to get its texture.&lt;/li>
&lt;li>Creating items works just like before, except that you now specify the item's &lt;samp>ItemId&lt;/samp> (''not'' &lt;samp>QualifiedItemId&lt;/samp>) instead of its &lt;samp>ParentSheetIndex&lt;/samp>. This is the same value for vanilla items. For example:

&lt;syntaxhighlight lang="c#">
new Object("634", 1);                      // vanilla item
new Object("Example.ModId_Watermelon", 1); // custom item
&lt;/syntaxhighlight>

You can also use the new &lt;samp>ItemRegistry&lt;/samp> API to construct items from their &lt;samp>QualifiedItemId&lt;/samp>:

&lt;syntaxhighlight lang="c#">
Item item = ItemRegistry.Create("(B)505"); // Rubber Boots
&lt;/syntaxhighlight>&lt;/li>
&lt;/ul>

===Other ID changes===
Many other things in the game now have unique string IDs too (including [[#Buff overhaul|buffs]], [[#String event IDs|events]], and fruit trees). To migrate existing code: 

* When referencing numeric IDs, you usually just need to convert them into a string (like &lt;code>Game1.player.hasBuff("1590166")&lt;/code> or &lt;code>Game1.player.eventsSeen.Contains("1590166")&lt;/code>).
* When creating buffs, see [[#Buff overhaul|buff overhaul]] for how to create buffs now.
* For pre-existing content pack data, see migration steps in the ''[[#Unique string IDs|unique string IDs]]'' section.

===Building and animal changes===
: ''See also: [[#Build anywhere|build anywhere in what's new]].''

* Since all locations now allow buildings and animals, mod code which handles &lt;samp>BuildableGameLocation&lt;/samp> and &lt;samp>IAnimalLocation&lt;/samp> won't detect all buildable locations. You can replace them with &lt;samp>location.IsBuildableLocation()&lt;/samp> (or just access &lt;samp>location.buildings&lt;/samp> directly) and &lt;samp>location.animals.Any()&lt;/samp> instead. Mods should no longer have any reference at all to &lt;samp>BuildableGameLocation&lt;/samp> and &lt;samp>IAnimalLocation&lt;/samp>.
* Since buildings can be built anywhere, you can no longer assume a building is on the farm. You can check the new &lt;samp>building.buildingLocation&lt;/samp> field instead.
* You should review direct references to the farm (like &lt;code>Game1.getFarm()&lt;/code> or &lt;code>Game1.getLocationFromName("Farm")&lt;/code>) to see if it needs to be rewritten to allow other locations.
* &lt;code>Utility.numSilos()&lt;/code> should no longer be used to calculate available hay, since it doesn't account for custom buildings with hay storage. Use &lt;code>Game1.getFarm().GetHayCapacity()&lt;/code> instead.
* The &lt;samp>Cat&lt;/samp> and &lt;samp>Dog&lt;/samp> classes are now unused; all pets are now &lt;samp>Pet&lt;/samp> directly.

===Player changes===
: ''See also: [[#Buff overhaul|buff overhaul in what's new]].''

&lt;ul>
&lt;li>Several &lt;samp>Game1.player&lt;/samp> / &lt;samp>Farmer&lt;/samp> fields changed as part of the [[#Buff overhaul|buff overhaul]]:
{| class="wikitable"
|-
! old field
! how to migrate
|-
| &lt;samp>appliedBuffs&lt;/samp>&lt;br />&lt;samp>appliedSpecialBuffs&lt;/samp>
| Use &lt;code>Game1.player.hasBuff(id)&lt;/code> instead.
|-
| &lt;samp>attack&lt;/samp>&lt;br />&lt;samp>immunity&lt;/samp>
| Use &lt;samp>Attack&lt;/samp> and &lt;samp>Immunity&lt;/samp> instead.
|-
| &lt;samp>addedCombatLevel&lt;/samp>&lt;br />&lt;samp>addedFarmingLevel&lt;/samp>&lt;br />&lt;samp>addedFishingLevel&lt;/samp>&lt;br />&lt;samp>addedForagingLevel&lt;/samp>&lt;br />&lt;samp>addedLuckLevel&lt;/samp>&lt;br />&lt;samp>addedMiningLevel&lt;/samp>&lt;br />&lt;samp>attackIncreaseModifier&lt;/samp>&lt;br />&lt;samp>critChanceModifier&lt;/samp>&lt;br />&lt;samp>critPowerModifier&lt;/samp>&lt;br />&lt;samp>knockbackModifier&lt;/samp>&lt;br />&lt;samp>weaponPrecisionModifier&lt;/samp>&lt;br />&lt;samp>weaponSpeedModifier&lt;/samp>
| Use equivalent properties under &lt;samp>Game1.player.buffs&lt;/samp> instead (e.g. &lt;samp>Game1.player.buffs.CombatLevel&lt;/code>).
|-
| &lt;samp>resilience&lt;/samp>
| Use &lt;samp>buffs.Defense&lt;/samp> instead.
|-
| &lt;samp>addedSpeed&lt;/samp>&lt;br />&lt;samp>CombatLevel&lt;/samp>&lt;br />&lt;samp>CraftingTime&lt;/samp>&lt;br />&lt;samp>FarmingLevel&lt;/samp>&lt;br />&lt;samp>FishingLevel&lt;/samp>&lt;br />&lt;samp>ForagingLevel&lt;/samp>&lt;br />&lt;samp>LuckLevel&lt;/samp>&lt;br />&lt;samp>MagneticRadius&lt;/samp>&lt;br />&lt;samp>MaxStamina&lt;/samp>&lt;br />&lt;samp>MiningLevel&lt;/samp>&lt;br />&lt;samp>Stamina&lt;/samp>
| These are now readonly and can't be set directly. You can change them by [[#Buff overhaul|adding a buff]] (which can be invisible), equipment bonus, etc instead.
|}&lt;/li>
&lt;li>Buffs are now recalculated automatically, and you can reset a buff by just reapplying it. See [[#Buff overhaul|buff overhaul]] for more info.&lt;/li>
&lt;li>Buff logic has been centralized into &lt;samp>Game1.player.buffs&lt;/samp>. This replaces a number of former fields/methods like &lt;samp>Game1.buffsDisplay&lt;/samp>.&lt;/li>
&lt;/ul>

===Collision changes===
The game's tile collision logic has been overhauled and merged into a simpler set of methods on &lt;samp>GameLocation&lt;/samp> instances:

{| class="wikitable"
|-
! method
! effect
|-
| &lt;samp>CanSpawnCharacterHere&lt;/samp>
| Get whether NPCs can be placed on the given tile (e.g. it's within the map bounds and tile is walkable), there's no placed object there, and the &lt;samp>NoFurniture&lt;/samp> [[Modding:Maps|tile property]] isn't set.
|-
| &lt;samp>CanItemBePlacedHere&lt;/samp>
| Get whether items can be placed on the given tile in non-floating form (e.g. it's within the map bounds and not blocked by a non-walkable item), and the &lt;samp>NoFurniture&lt;/samp> [[Modding:Maps|tile property]] isn't set.
|-
| &lt;samp>isBuildable&lt;/samp>
| Get whether buildings can be placed on the given tile.
|-
| &lt;samp>IsTilePassable&lt;/samp>
| Get whether the tile can be walked on (ignoring collisions with in-game objects, NPCs, etc).
|-
| &lt;samp>IsTileOccupiedBy&lt;/samp>
| Get whether the tile contains a player, object, NPC/monster/pet/etc, terrain feature, building, etc. You can choose which entities to check, and which ones to ignore if they don't block movement.
|-
| &lt;samp>IsTileBlockedBy&lt;/samp>
| Equivalent to calling both &lt;samp>IsTilePassable&lt;/samp> and &lt;samp>IsTileOccupiedBy&lt;/samp>.
|-
| &lt;samp>IsLocationSpecificOccupantOnTile&lt;/samp>&lt;br />&lt;samp>IsLocationSpecificPlacementRestriction&lt;/samp>
| Generally shouldn't be used directly. Checks for location-specific collisions (e.g. ladders in [[The Mines|the mines]] or parrot platforms on [[Ginger Island]]).
|}

===Other breaking API changes===
''(This section is meant as a quick reference if you have build errors; there's no need to read through it otherwise.)''

====Removed unused code====
1.6 removes a lot of unused code. That includes these classes:
{| class="wikitable"
|-
! namespace
! class name
|-
| &lt;samp>StardewValley&lt;/samp>
| &amp;#32;
* &lt;samp>BuildingUpgrade&lt;/samp>
* &lt;samp>DisposableList&lt;/samp>
* &lt;samp>FurniturePlacer&lt;/samp>
* &lt;samp>ListPool&lt;/samp>
* &lt;samp>OneTimeRandom&lt;/samp>
|-
| &lt;samp>StardewValley.Characters&lt;/samp>
| &amp;#32;
* &lt;samp>BotchedNetBool&lt;/samp>
* &lt;samp>BotchedNetField&lt;/samp>
* &lt;samp>BotchedNetInt&lt;/samp>
* &lt;samp>BotchedNetLong&lt;/samp>
|-
| &lt;samp>StardewValley.Menus&lt;/samp>
| &amp;#32;
* &lt;samp>FarmInfoPage&lt;/samp>
* &lt;samp>MiniatureTerrainFeature&lt;/samp>&lt;!-- not a typo, it really was in StardewValley.Menus -->
|-
| &lt;samp>StardewValley.Monsters&lt;/samp>
| &amp;#32;
* &lt;samp>LavaCrab&lt;/samp>
|-
| &lt;samp>StardewValley.Objects&lt;/samp>
| &amp;#32;
* &lt;samp>ObjectFactory&lt;/samp> (replaced by [[#Custom items|&lt;samp>ItemRegistry&lt;/samp>]])
|-
| &lt;samp>StardewValley.TerrainFeatures&lt;/samp>
| &amp;#32;
* &lt;samp>Quartz&lt;/samp>
|-
| &lt;samp>StardewValley.Tools&lt;/samp>
| &amp;#32;
* &lt;samp>Blueprints&lt;/samp>
* &lt;samp>ToolFactory&lt;/samp> (replaced by [[#Custom items|&lt;samp>ItemRegistry&lt;/samp>]])
|}

And these class members:
{| class="wikitable"
|-
! type
! members
|-
| &lt;samp>Axe&lt;/samp>
| &amp;#32;
* &lt;samp>StumpStrength&lt;/samp>
|-
| &lt;samp>Bush&lt;/samp>
| &amp;#32;
* &lt;samp>alpha&lt;/samp>
* &lt;samp>lastPlayerToHit&lt;/samp>
|-
| &lt;samp>Chest&lt;/samp>
| &amp;#32;
* &lt;samp>chestType&lt;/samp>
* &lt;samp>coins&lt;/samp>
|- 
| &lt;samp>CosmeticPlant&lt;/samp>
| &amp;#32;
* &lt;samp>scale&lt;/samp>
|-
| &lt;samp>CraftingRecipe&lt;/samp>
| &amp;#32;
* &lt;samp>itemType&lt;/samp>
|-
| &lt;samp>Critter&lt;/samp>
| &amp;#32;
* &lt;samp>InitShared()&lt;/samp>
|-
| &lt;samp>Crop&lt;/samp>
| &amp;#32;
* &lt;samp>daysOfUnclutteredGrowth&lt;/samp>
|-
| &lt;samp>Dialogue&lt;/samp>
| &amp;#32;
* &lt;samp>dialogueToBeKilled&lt;/samp>
|-
| &lt;samp>Farm&lt;/samp>
| &amp;#32;
* &lt;samp>GetSpouseOutdoorAreaSpritesheetIndex()&lt;/samp>
|-
| &lt;samp>FarmAnimal&lt;/samp>
| &amp;#32;
* &lt;samp>homeLocation&lt;/samp>
|-
| &lt;samp>Farmer&lt;/samp>
| &amp;#32;
* &lt;samp>barnUpgradeLevel&lt;/samp> and &lt;samp>BarnUpgradeLevel&lt;/samp>
* &lt;samp>blueprints&lt;/samp>
* &lt;samp>coalPieces&lt;/samp> and &lt;samp>CoalPieces&lt;/samp>
* &lt;samp>coopUpgradeLevel&lt;/samp> and &lt;samp>CoopUpgradeLevel&lt;/samp>
* &lt;samp>copperPieces&lt;/samp> and &lt;samp>CopperPieces&lt;/samp>
* &lt;samp>eyeColor&lt;/samp>
* &lt;samp>feed&lt;/samp> and &lt;samp>Feed&lt;/samp>
* &lt;samp>furnitureOwned&lt;/samp>
* &lt;samp>goldPieces&lt;/samp> and &lt;samp>GoldPieces&lt;/samp>
* &lt;samp>hasBusTicket&lt;/samp>
* &lt;samp>hasGreenhouse&lt;/samp>
* &lt;samp>iridiumPieces&lt;/samp> and &lt;samp>IridiumPieces&lt;/samp>
* &lt;samp>ironPieces&lt;/samp> and &lt;samp>IronPieces&lt;/samp>
* &lt;samp>newSkillPointsToSpend&lt;/samp>
* &lt;samp>overallsColor&lt;/samp>
* &lt;samp>ownsFurniture&lt;/samp>
* &lt;samp>quartzPieces&lt;/samp> and &lt;samp>QuartzPieces&lt;/samp>
* &lt;samp>shirtColor&lt;/samp>
* &lt;samp>skinColor&lt;/samp>
* &lt;samp>stonePieces&lt;/samp> and &lt;samp>StonePieces&lt;/samp>
* &lt;samp>theaterBuildDate&lt;/samp>
* &lt;samp>woodPieces&lt;/samp> and &lt;samp>WoodPieces&lt;/samp>
|-
| &lt;samp>Game1&lt;/samp>
| &amp;#32;
* &lt;samp>boardingBus&lt;/samp>
* &lt;samp>chanceToRainTomorrow&lt;/samp>
* &lt;samp>checkForNewLevelPerks&lt;/samp>
* &lt;samp>cloud&lt;/samp>
* &lt;samp>coopDwellerBorn&lt;samp>
* &lt;samp>cropsOfTheWeek&lt;/samp>
* &lt;samp>currentBarnTexture&lt;/samp>
* &lt;samp>currentBillboard&lt;/samp>
* &lt;samp>currentCoopTexture&lt;/samp>
* &lt;samp>currentFloor&lt;/samp>
* &lt;samp>currentHouseTexture&lt;/samp>
* &lt;samp>currentWallpaper&lt;/samp>
* &lt;samp>dealerCalicoJackTotal&lt;/samp>
* &lt;samp>FarmerFloor&lt;/samp>
* &lt;samp>farmerWallpaper&lt;/samp>
* &lt;samp>fertilizer&lt;/samp>
* &lt;samp>floorPrice&lt;/samp>
* &lt;samp>greenhouseTexture&lt;/samp>
* &lt;samp>inMine&lt;samp>
* &lt;samp>jukeboxPlaying&lt;/samp>
* &lt;samp>keyHelpString&lt;/samp>
* &lt;samp>listeningForKeyControlDefinitions&lt;samp>
* &lt;samp>littleEffect&lt;/samp>
* &lt;samp>logoScreenTexture&lt;/samp>
* &lt;samp>mailboxTexture&lt;/samp>
* &lt;samp>menuChoice&lt;/samp>
* &lt;samp>menuUp&lt;samp>
* &lt;samp>nameSelectUp&lt;samp>
* &lt;samp>nameSelectType&lt;/samp>
* &lt;samp>numberOfSelectedItems&lt;/samp>
* &lt;samp>particleRaining&lt;samp>
* &lt;samp>pickingTool&lt;/samp>
* &lt;samp>pickToolDelay&lt;/samp>
* &lt;samp>pickToolInterval&lt;/samp>
* &lt;samp>priceOfSelectedItem&lt;/samp>
* &lt;samp>progressBar&lt;/samp>
* &lt;samp>removeSquareDebrisFromTile(…)&lt;/samp>
* &lt;samp>selectedItemsType&lt;/samp>
* &lt;samp>shiny&lt;/samp>
* &lt;samp>shippingTax&lt;/samp>
* &lt;samp>showKeyHelp&lt;samp>
* &lt;samp>slotResult&lt;/samp>
* &lt;samp>startedJukeboxMusic&lt;/samp>
* &lt;samp>tinyFontBorder&lt;/samp>
* &lt;samp>toolHeld&lt;/samp>
* &lt;samp>toolIconBox&lt;/samp>
* &lt;samp>tvStation&lt;/samp>
* &lt;samp>tvStationTexture&lt;/samp>
* &lt;samp>wallpaperPrice&lt;/samp>
|-
| &lt;samp>GameLocation&lt;/samp>
| &amp;#32;
* &lt;samp>boardBus(…)&lt;/samp>
* &lt;samp>checkForMapChanges()&lt;/samp>
* &lt;samp>getWallDecorItem(…)&lt;/samp>
* &lt;samp>removeBatch(…)&lt;/samp>
* &lt;samp>removeDirt(…)&lt;/samp>
* &lt;samp>removeStumpOrBoulder(…)&lt;/samp>
* &lt;samp>tryToBuyNewBackpack()&lt;/samp>
|-
| &lt;samp>GiantCrop&lt;/samp>
| &amp;#32;
* &lt;samp>forSale&lt;/samp>
|-
| &lt;samp>IClickableMenu&lt;/samp>
| &amp;#32;
* &lt;samp>currentRegion&lt;/samp>
|-
| &lt;samp>MeleeWeapon&lt;/samp>
| &amp;#32;
* &lt;samp>attackSwordCooldownTime&lt;/samp>
* &lt;samp>doStabbingSwordFunction(…)&lt;/samp>
|-
| &lt;samp>Monster&lt;/samp>
| &amp;#32;
* &lt;samp>doHorizontalMovement(…)&lt;/samp>
* &lt;samp>durationOfRandomMovements&lt;/samp>
* &lt;samp>coinsToDrop&lt;/samp>
|-
| &lt;samp>NPC&lt;/samp>
| &amp;#32;
* &lt;samp>idForClones&lt;/samp>
|-
| &lt;samp>Object&lt;/samp>
| &amp;#32;
* &lt;samp>attachToSprinklerAttachment(…)&lt;/samp>
* &lt;samp>canBePlacedInWater()&lt;/samp>
* &lt;samp>consumeRecipe(…)&lt;/samp>
* &lt;samp>copperBar&lt;/samp>
* &lt;samp>goldBar&lt;/samp>
* &lt;samp>iridiumBar&lt;/samp>
* &lt;samp>ironBar&lt;/samp>
* &lt;samp>isHoeDirt&lt;/samp> and &lt;samp>IsHoeDirt&lt;/samp>
|-
| &lt;samp>PathFindController&lt;/samp>
| &amp;#32;
* &lt;samp>CheckClearance(…)&lt;/samp>
* &lt;samp>limit&lt;/samp>
|-
| &lt;samp>SaveGame&lt;/samp>
| &amp;#32;
* &lt;samp>cropsOfTheWeek&lt;/samp>
* &lt;samp>currentFloor&lt;/samp>
* &lt;samp>currentWallpaper&lt;/samp>
* &lt;samp>FarmerFloor&lt;/samp>
* &lt;samp>farmerWallpaper&lt;/samp>
* &lt;samp>shippingTax&lt;/samp>
|-
| &lt;samp>Spiker&lt;/samp>
| &amp;#32;
* &lt;samp>GetSpawnPosition&lt;/samp>
|-
| &lt;samp>Stats&lt;/samp>
| &amp;#32;
* &lt;samp>barsSmelted&lt;/samp> and &lt;samp>BarsSmelted&lt;/samp>
* &lt;samp>coalFound&lt;/samp> and &lt;samp>CoalFound&lt;/samp>
* &lt;samp>coinsFound&lt;/samp> and &lt;samp>coinsFound&lt;/samp>
* &lt;samp>starLevelCropsShipped&lt;/samp> and &lt;samp>starLevelCropsShipped&lt;/samp>
|-
| &lt;samp>Tool&lt;/samp>
| &amp;#32;
* &lt;samp>batteredSwordSpriteIndex&lt;/samp>
* &lt;samp>copperColor&lt;/samp>
* &lt;samp>GetSecondaryEnchantmentCount()&lt;/samp>
* &lt;samp>goldColor&lt;/samp>
* &lt;samp>iridiumColor&lt;/samp>
* &lt;samp>nonUpgradeable&lt;/samp>
* &lt;samp>parsnipSpriteIndex&lt;/samp>
* &lt;samp>Stackable&lt;/samp>
* &lt;samp>startOfNegativeWeaponIndex&lt;/samp>
* &lt;samp>steelColor&lt;/samp>
|-
| &lt;samp>Utility&lt;/samp>
| &amp;#32;
* &lt;samp>buyFloor()&lt;/samp>
* &lt;samp>buyWallpaper()&lt;/samp>
* &lt;samp>cropsOfTheWeek()&lt;/samp>
* &lt;samp>facePlayerEndBehavior(…)&lt;/samp>
* &lt;samp>getRandomSlotCharacter()&lt;/samp>
* &lt;samp>plantCrops(…)&lt;/samp>
* &lt;samp>showLanternBar()&lt;/samp>
|}

====Renamed classes====
These classes were renamed in 1.6:
{| class="wikitable"
|-
! old name
! new name
|-
| &lt;samp>Game1.MusicContext&lt;/samp>
| &lt;samp>MusicContext&lt;/samp> (in &lt;samp>StardewValley.GameData&lt;/samp>)
|-
| &lt;samp>LocationContext&lt;/samp>
| &lt;samp>LocationContexts&lt;/samp>
|-
| &lt;samp>SpecialOrder.QuestStatus&lt;/samp>
| &lt;samp>SpecialOrderStatus&lt;/samp> (in &lt;samp>StardewValley.SpecialOrders&lt;/samp>)
|}

And these were moved to a different namespace:
{| class="wikitable"
|-
! type
! old namespace
! new namespace
|-
| &lt;samp>AmethystEnchantment&lt;/samp>&lt;br />&lt;samp>AquamarineEnchantment&lt;/samp>&lt;br />&lt;samp>ArchaeologistEnchantment&lt;/samp>&lt;br />&lt;samp>ArtfulEnchantment&lt;/samp>&lt;br />&lt;samp>AutoHookEnchantment&lt;/samp>&lt;br />&lt;samp>AxeEnchantment&lt;/samp>&lt;br />&lt;samp>BaseEnchantment&lt;/samp>&lt;br />&lt;samp>BaseWeaponEnchantment&lt;/samp>&lt;br />&lt;samp>BottomlessEnchantment&lt;/samp>&lt;br />&lt;samp>BugKillerEnchantment&lt;/samp>&lt;br />&lt;samp>CrusaderEnchantment&lt;/samp>&lt;br />&lt;samp>DiamondEnchantment&lt;/samp>&lt;br />&lt;samp>EfficientToolEnchantment&lt;/samp>&lt;br />&lt;samp>EmeraldEnchantment&lt;/samp>&lt;br />&lt;samp>FishingRodEnchantment&lt;/samp>&lt;br />&lt;samp>GalaxySoulEnchantment&lt;/samp>&lt;br />&lt;samp>GenerousEnchantment&lt;/samp>&lt;br />&lt;samp>HaymakerEnchantment&lt;/samp>&lt;br />&lt;samp>HoeEnchantment&lt;/samp>&lt;br />&lt;samp>JadeEnchantment&lt;/samp>&lt;br />&lt;samp>MagicEnchantment&lt;/samp>&lt;br />&lt;samp>MasterEnchantment&lt;/samp>&lt;br />&lt;samp>MilkPailEnchantment&lt;/samp>&lt;br />&lt;samp>PanEnchantment&lt;/samp>&lt;br />&lt;samp>PickaxeEnchantment&lt;/samp>&lt;br />&lt;samp>PowerfulEnchantment&lt;/samp>&lt;br />&lt;samp>PreservingEnchantment&lt;/samp>&lt;br />&lt;samp>ReachingToolEnchantment&lt;/samp>&lt;br />&lt;samp>RubyEnchantment&lt;/samp>&lt;br />&lt;samp>ShavingEnchantment&lt;/samp>&lt;br />&lt;samp>ShearsEnchantment&lt;/samp>&lt;br />&lt;samp>SwiftToolEnchantment&lt;/samp>&lt;br />&lt;samp>TopazEnchantment&lt;/samp>&lt;br />&lt;samp>VampiricEnchantment&lt;/samp>&lt;br />&lt;samp>WateringCanEnchantment&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.Enchantments&lt;/samp>
|-
| &lt;samp>Extensions&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.Extensions&lt;/samp>
|-
| &lt;samp>ModDataDictionary&lt;/samp>&lt;br />&lt;samp>ModHooks&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.Mods&lt;/samp>
|-
| &lt;samp>PathFindController&lt;/samp>&lt;br />&lt;samp>PathNode&lt;/samp>&lt;br />&lt;samp>PriorityQueue&lt;/samp>&lt;br />&lt;samp>SchedulePathDescription&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.Pathfinding&lt;/samp>
|-
| &lt;samp>SpecialOrder&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.SpecialOrders&lt;/samp>
|-
| &lt;samp>CollectObjective&lt;/samp>&lt;br />&lt;samp>DeliverObjective&lt;/samp>&lt;br />&lt;samp>DonateObjective&lt;/samp>&lt;br />&lt;samp>FishObjective&lt;/samp>&lt;br />&lt;samp>GiftObjective&lt;/samp>&lt;br />&lt;samp>JKScoreObjective&lt;/samp>&lt;br />&lt;samp>OrderObjective&lt;/samp>&lt;br />&lt;samp>ReachMineFloorObjective&lt;/samp>&lt;br />&lt;samp>ShipObjective&lt;/samp>&lt;br />&lt;samp>SlayObjective&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.SpecialOrders.Objectives&lt;/samp>
|-
| &lt;samp>FriendshipReward&lt;/samp>&lt;br />&lt;samp>GemsReward&lt;/samp>&lt;br />&lt;samp>MailReward&lt;/samp>&lt;br />&lt;samp>MoneyReward&lt;/samp>&lt;br />&lt;samp>OrderReward&lt;/samp>&lt;br />&lt;samp>ResetEventReward&lt;/samp>
| &lt;samp>StardewValley&lt;/samp>
| &lt;samp>StardewValley.SpecialOrders.Rewards&lt;/samp>
|}

====Other API changes====
These class members changed in 1.6:

{| class="wikitable"
|-
! type
! member
! migration
|-
| &lt;samp>BigSlime&lt;/samp>
| &lt;samp>heldObject&lt;/samp>
| Replaced by &lt;samp>heldItem&lt;/samp>, which allows non-object items too.
|-
|rowspan="3"| &lt;samp>Bush&lt;/samp>
| &lt;samp>overrideSeason&lt;/samp>
| Removed; use &lt;code>bush.Location.GetSeason()&lt;/code> instead.
|-
| &lt;samp>greenhouseBush&lt;/samp>
| Removed; use &lt;code>bush.IsSheltered()&lt;/code> or &lt;code>bush.currentLocation.IsGreenhouse&lt;/code> instead.
|-
| &lt;samp>inBloom&lt;/samp>
| Remove the arguments, like &lt;code>bush.inBloom(Game1.currentSeason, Game1.dayOfMonth)&lt;/code> → &lt;code>bush.inBloom()&lt;/code>.
|-
|rowspan="3"| &lt;samp>Character&lt;/samp>
| &lt;samp>getStandingX&lt;/samp>&lt;br />&lt;samp>getStandingY&lt;/samp>&lt;br />&lt;samp>getStandingXY&lt;/samp>
| Removed; use &lt;samp>character.StandingPixel&lt;/samp> instead.
|-
| &lt;samp>getTileLocation&lt;/samp>&lt;br />&lt;samp>getTileX&lt;/samp>&lt;br />&lt;samp>getTileY&lt;/samp>&lt;br />
| Removed; use &lt;samp>character.Tile&lt;/samp> instead.
|-
| &lt;samp>getTileLocationPoint&lt;/samp>
| Removed; use &lt;samp>character.TilePoint&lt;/samp> instead.
|-
| &lt;samp>Chest&lt;/samp>
| &lt;samp>MoveToSafePosition&lt;/samp>
| Replaced by the simpler &lt;samp>TryMoveToSafePosition&lt;/samp>
|-
|rowspan="2"| &lt;samp>Dialogue&lt;/samp>
| &lt;samp>dialogues&lt;/samp>
| Changed from &lt;code>List&amp;lt;string&amp;gt;&lt;/code> to &lt;code>List&amp;lt;DialogueLine&amp;gt;&lt;/code>. The &lt;samp>Text&lt;/samp> field on each dialogue line is equivalent to the old value.
|-
| &lt;samp>isOnFinalDialogue()&lt;/samp>
| This now indicates whether it's showing the last dialogue ''with message text''; there may still be entries in &lt;samp>dialogues&lt;/samp> which apply side-effects without message text.
|-
|rowspan="3"| &lt;samp>Farmer&lt;/samp>
| &lt;samp>changePants(…)&lt;/samp>
| Renamed to &lt;samp>changePantsColor(…)&lt;/samp> for consistency with &lt;samp>change[Eye&amp;#124;Hair&amp;#124;Shoe]Color&lt;/samp>.
|-
| &lt;samp>isMarried()&lt;/samp>
| Renamed to &lt;samp>isMarriedOrRoommates()&lt;/samp> for clarity.
|-
| &lt;samp>visibleQuestCount&lt;/samp>
| Replaced by &lt;samp>hasVisibleQuests&lt;/samp>.
|-
| &lt;samp>Flooring&lt;/samp>
| &lt;samp>GetFloorPathLookup&lt;/samp>
| Use &lt;samp>Game1.floorPathData&lt;/samp> instead.
|-
| &lt;samp>Forest&lt;/samp>
| &lt;samp>log&lt;/samp>
| Moved into &lt;samp>Forest.resourceClumps&lt;/samp>.
|-
| &lt;samp>FruitTree&lt;/samp>
| &lt;samp>GreenHouseTree&lt;/samp>
| Replaced by &lt;samp>IgnoresSeasonsHere()&lt;/samp>.
|-
|rowspan="3"| &lt;samp>Game1&lt;/samp>
| &lt;samp>bigCraftableInformation&lt;/samp>
| Overhauled into [[#Custom big craftables|&lt;samp>Game1.bigCraftableData&lt;/samp>]].
|-
| &lt;samp>clothingInformation&lt;/samp>
| Overhauled into [[#Custom shirts|&lt;samp>Game1.shirtData&lt;/samp>]] and [[#Custom pants|&lt;samp>Game1.pantsData&lt;/samp>]].
|-
| &lt;samp>objectInformation&lt;/samp>
| Overhauled into [[#Custom objects|&lt;samp>Game1.objectData&lt;/samp>]].
|-
|rowspan="3"| &lt;samp>GameLocation&lt;/samp>
| &lt;samp>getCharacters&lt;/samp>
| Removed; use the &lt;samp>characters&lt;/samp> field instead.
|-
| &lt;samp>GetMapPropertyPosition&lt;/samp>
| Replaced by &lt;samp>TryGetMapPropertyAs&lt;/samp>, which supports multiple data types (not just &lt;samp>Point&lt;/samp>).
|-
| &lt;samp>isTileOccupied&lt;/samp>&lt;br />&lt;samp>isTileOccupiedForPlacement&lt;/samp>&lt;br />&lt;samp>isTileOccupiedIgnoreFloors&lt;/samp>&lt;br />&lt;samp>isTileLocationOpenIgnoreFrontLayers&lt;/samp>&lt;br />&lt;samp>isTileLocationTotallyClearAndPlaceable&lt;/samp>&lt;br />&lt;samp>isTileLocationTotallyClearAndPlaceableIgnoreFloors&lt;/samp>
| Removed. The collision logic has been significantly rewritten and uses a new set of methods (mainly &lt;samp>isTilePassable&lt;/samp>, &lt;samp>IsTileOccupiedBy&lt;/samp>, and &lt;samp>CanItemBePlacedHere&lt;/samp>). Mods should ideally be updated to use the new methods.

Here's a drop-in set of extension methods which re-add the older methods. This lets you temporarily fix code until you can update it properly, but depending on these isn't recommended since they won't be maintained in future versions.
{{collapse|expand for non-recommended code|content=&lt;syntaxhighlight lang="c#">
public static class GameLocationExtensions
{
    public static bool isTileOccupiedForPlacement(this GameLocation location, Vector2 tileLocation, Object toPlace = null)
    {
        return location.CanItemBePlacedHere(tileLocation, toPlace != null &amp;&amp; toPlace.isPassable());
    }

    public static bool isTileOccupied(this GameLocation location, Vector2 tileLocation, string characterToIgnore = "", bool ignoreAllCharacters = false)
    {
        CollisionMask mask = ignoreAllCharacters ? CollisionMask.All &amp; ~CollisionMask.Characters &amp; ~CollisionMask.Farmers : CollisionMask.All;
        return location.IsTileOccupiedBy(tileLocation, mask);
    }

    public static bool isTileOccupiedIgnoreFloors(this GameLocation location, Vector2 tileLocation, string characterToIgnore = "")
    {
        return location.IsTileOccupiedBy(tileLocation, CollisionMask.Buildings | CollisionMask.Furniture | CollisionMask.Objects | CollisionMask.Characters | CollisionMask.TerrainFeatures, ignorePassables: CollisionMask.Flooring);
    }

    public static bool isTileLocationOpenIgnoreFrontLayers(this GameLocation location, Location tile)
    {
        return location.map.RequireLayer("Buildings").Tiles[tile.X, tile.Y] == null &amp;&amp; !location.isWaterTile(tile.X, tile.Y);
    }

    public static bool isTileLocationTotallyClearAndPlaceable(this GameLocation location, int x, int y)
    {
        return location.isTileLocationTotallyClearAndPlaceable(new Vector2(x, y));
    }

    public static bool isTileLocationTotallyClearAndPlaceableIgnoreFloors(this GameLocation location, Vector2 v)
    {
        return location.isTileOnMap(v) &amp;&amp; !location.isTileOccupiedIgnoreFloors(v) &amp;&amp; location.isTilePassable(new Location((int)v.X, (int)v.Y), Game1.viewport) &amp;&amp; location.isTilePlaceable(v);
    }

    public static bool isTileLocationTotallyClearAndPlaceable(this GameLocation location, Vector2 v)
    {
        Vector2 pixel = new Vector2((v.X * Game1.tileSize) + Game1.tileSize / 2, (v.Y * Game1.tileSize) + Game1.tileSize / 2);
        foreach (Furniture f in location.furniture)
        {
            if (f.furniture_type != Furniture.rug &amp;&amp; !f.isPassable() &amp;&amp; f.GetBoundingBox().Contains((int)pixel.X, (int)pixel.Y) &amp;&amp; !f.AllowPlacementOnThisTile((int)v.X, (int)v.Y))
                return false;
        }

        return location.isTileOnMap(v) &amp;&amp; !location.isTileOccupied(v) &amp;&amp; location.isTilePassable(new Location((int)v.X, (int)v.Y), Game1.viewport) &amp;&amp; location.isTilePlaceable(v);
    }
}
&lt;/syntaxhighlight>
}}
|-
| &lt;samp>GiantCrop&lt;/samp>
| &lt;samp>which&lt;/samp>
| Replaced by &lt;samp>itemId&lt;/samp>.
|-
| &lt;samp>Item&lt;/samp>
| &lt;samp>SanitizeContextTag&lt;/samp>
| Replaced by &lt;samp>ItemContextTagManager.SanitizeContextTag&lt;/samp>.
|-
| &lt;samp>LocalizedContentManager&lt;/samp>
| &lt;samp>LanguageCodeString&lt;/samp>
| Now static.
|-
| &lt;samp>LocationContextData&lt;/samp>
| &lt;samp>Name&lt;/samp>
| Removed; use its dictionary key in &lt;samp>Game1.locationContextData&lt;/samp> instead.
|-
| &lt;samp>NetFields&lt;/samp>
| &lt;samp>AddFields&lt;/samp>
| Removed; use &lt;samp>AddField&lt;/samp> instead. For example:
&lt;syntaxhighlight lang="c#">
// old code
NetFields.AddFields(textureName, spriteWidth, spriteHeight);

// new code
NetFields
    .AddField(textureName)
    .AddField(spriteWidth)
    .AddField(spriteHeight);
&lt;/syntaxhighlight>
Note that the second argument (&lt;samp>name&lt;/samp>) should usually be omitted, since it'll be auto-populated from the value passed to the first argument.
|-
|rowspan="7"| &lt;samp>NPC&lt;/samp>
| &lt;samp>canReceiveThisItemAsGift(…)&lt;/samp>
| Removed. The closest equivalent is &lt;code>item.canBeGivenAsGift()&lt;/code>, or you can check if the NPC will accept the player's held object (as a gift or otherwise) using &lt;code>npc.tryReceiveActiveObject(Game1.player, probe: true)&lt;/code>.
|-
| &lt;samp>Gender&lt;/samp>&lt;br />&lt;samp>female&lt;/samp>&lt;br />&lt;samp>male&lt;/samp>&lt;br />&lt;samp>undefined&lt;/samp>
| The &lt;samp>Gender&lt;/samp> field now uses a &lt;samp>Gender&lt;/samp> enum instead of numeric constants. For example, &lt;code>npc.Gender == NPC.female&lt;/code> becomes &lt;code>npc.Gender == Gender.Female&lt;/code> in 1.6.
|-
| &lt;samp>homeRegion&lt;/samp>
| Removed; use &lt;samp>npc.GetData()?.HomeRegion&lt;/samp> instead. Change &lt;samp>0&lt;/samp> to &lt;samp>"Other"&lt;/samp> or &lt;samp>NPC.region_other&lt;/samp>, &lt;samp>1&lt;/samp> to &lt;samp>"Desert"&lt;/samp> or &lt;samp>NPC.region_desert&lt;/samp>, and &lt;samp>2&lt;/samp> to &lt;samp>"Town"&lt;/samp> or &lt;samp>NPC.region_town&lt;/samp>.
|-
| &lt;samp>isBirthday&lt;/samp>
| Remove the arguments, like &lt;code>npc.isBirthday(Game1.currentSeason, Game1.dayOfMonth)&lt;/code> → &lt;code>npc.isBirthday()&lt;/code>.
|-
| &lt;samp>isVillager()&lt;/samp>
| Deprecated; use the &lt;samp>character.IsVillager&lt;/samp> property instead.
|-
| &lt;samp>populateRoutesFromLocationToLocationList&lt;/samp>
| Replaced by &lt;samp>WarpPathfindingCache.PopulateCache&lt;/samp>.
|-
| &lt;samp>Schedule&lt;/samp>
| No longer assignable, use one of the &lt;samp>TryLoadSchedule&lt;/samp> overloads instead.
|-
|rowspan="3"| &lt;samp>Object&lt;/samp>
| &lt;samp>GetContextTagList()&lt;/samp>
| Replaced by &lt;samp>GetContextTags()&lt;/samp>, which returns a hash set instead of a list.
|-
| &lt;samp>HasBeenPickedUpByPlayer&lt;/samp>
| Removed; use &lt;samp>HasBeenInInventory&lt;/samp> instead.
|-
| &lt;samp>isPotentialBasicShippedCategory&lt;/samp>
| The second argument should now be an integer (like &lt;samp>-75&lt;/samp> or &lt;samp>Object.VegetableCategory&lt;/samp>) instead of a string (like &lt;samp>"-75"&lt;/samp>).
|-
|rowspan="9"| &lt;samp>Utility&lt;/samp>
| &lt;samp>doesItemWithThisIndexExistAnywhere&lt;/samp>
| Replace with &lt;samp>Utility.doesItemExistAnywhere&lt;/samp>, which takes a string item ID. For example:
* &lt;code>Utility.doesItemWithThisIndexExistAnywhere(128)&lt;/code> &amp;rarr; &lt;code>Utility.doesItemExistAnywhere("(O)128")&lt;/code>;
* &lt;code>Utility.doesItemWithThisIndexExistAnywhere(128, true)&lt;/code> &amp;rarr; &lt;code>Utility.doesItemExistAnywhere("(BC)128")&lt;/code>.
|-
| &lt;samp>ForAllLocations&lt;/samp>&lt;br />&lt;samp>iterateAllCrops&lt;/samp>&lt;br />&lt;samp>iterateAllItems&lt;/samp>
| Removed; use the equivalent &lt;samp>Utility.ForEach*&lt;/samp> methods instead.
|-
| &lt;samp>GetHorseWarpRestrictionsForFarmer&lt;/samp>
| This now returns a flag enum instead of a list of integer values. The equivalent values are 1 → &lt;samp>NoOwnedHorse&lt;/samp>, 2 → &lt;samp>Indoors&lt;/samp>, 3 → &lt;samp>NoRoom&lt;/samp>, and 4 → &lt;samp>InUse&lt;/samp>.

For example:
&lt;syntaxhighlight lang="c#">
// old code
bool inUse = Utility.GetHorseWarpRestrictionsForFarmer(player).Any(p => p == 4);

// new code
bool inUse = Utility.GetHorseWarpRestrictionsForFarmer(player).HasFlag(Utility.HorseWarpRestrictions.InUse);
&lt;/syntaxhighlight>

Or to check if no restrictions apply:
&lt;syntaxhighlight lang="c#">
bool canSummon = Utility.GetHorseWarpRestrictionsForFarmer(player) == Utility.HorseWarpRestrictions.None;
&lt;/syntaxhighlight>

C# mods can patch &lt;samp>Utility.GetHorseWarpErrorMessage&lt;/samp> if they need to add an error message for a custom restriction value.
|-
| &lt;samp>getRandomTownNPC(…)&lt;/samp>
| Replaced by either &lt;code>Utility.GetRandomWinterStartParticipant(…)&lt;/code> or &lt;code>Utility.getRandomNpcFromHomeRegion(NPC.region_town)&lt;/code>.
|-
| &lt;samp>getTodaysBirthdayNPC&lt;/samp>
| Remove the arguments, like &lt;code>Utility.getTodaysBirthdayNPC(Game1.currentSeason, Game1.dayOfMonth)&lt;/code> → &lt;code>Utility.getTodaysBirthdayNPC()&lt;/code>.
|-
| &lt;samp>getPooledList&lt;/samp>&lt;br />&lt;samp>returnPooledList&lt;/samp>
| The game no longer uses a list pool. In most cases you should use the [[#Iteration|&lt;samp>Utility.ForEach*&lt;/samp> methods]] instead, which don't need it.
|-
| &lt;samp>numObelisksOnFarm&lt;/samp>
| Renamed to &lt;samp>GetObeliskTypesBuilt&lt;/samp>, which searches all locations.
|-
| &lt;samp>numSilos&lt;/samp>
| Removed.

If you're using this to calculate hay capacity, it's a bit more complicated in 1.6 since hay storage can be enabled for custom buildings and building construction can be enabled for any location. To get capacity for the current location, use &lt;samp>Game1.currentLocation.GetHayCapacity()&lt;/samp> instead. To get total hay capacity in the world, use &lt;samp>Utility.ForEachLocation&lt;/samp> to call it on every location.

If you actually need the number of silos, use &lt;samp>location.getNumberBuildingsConstructed("Silo")&lt;/samp> (one location) or &lt;samp>Game1.GetNumberBuildingsConstructed("Silo")&lt;/samp> (all locations).
|-
| &lt;samp>removeThisCharacterFromAllLocations&lt;/samp>
| Removed; use &lt;samp>Game1.removeCharacterFromItsLocation&lt;/samp> instead.
|-
| &lt;samp>ShopMenu&lt;/samp>
| &lt;samp>storeContext&lt;/samp>
| Replaced by &lt;samp>ShopId&lt;/samp>.
|-
|rowspan="3"| &lt;samp>Stats&lt;/samp>
| &lt;samp>averageBedtime&lt;/samp>&lt;br />&lt;samp>beveragesMade&lt;/samp>&lt;br />&lt;samp>bouldersCracked&lt;/samp>&lt;br />&lt;samp>caveCarrotsFound&lt;/samp>&lt;br />&lt;samp>cheeseMade&lt;/samp>&lt;br />&lt;samp>chickenEggsLayed&lt;/samp>&lt;br />&lt;samp>copperFound&lt;/samp>&lt;br />&lt;samp>cowMilkProduced&lt;/samp>&lt;br />&lt;samp>cropsShipped&lt;/samp>&lt;br />&lt;samp>daysPlayed&lt;/samp>&lt;br />&lt;samp>diamondsFound&lt;/samp>&lt;br />&lt;samp>dirtHoed&lt;/samp>&lt;br />&lt;samp>duckEggsLayed&lt;/samp>&lt;br />&lt;samp>fishCaught&lt;/samp>&lt;br />&lt;samp>geodesCracked&lt;/samp>&lt;br />&lt;samp>giftsGiven&lt;/samp>&lt;br />&lt;samp>goatCheeseMade&lt;/samp>&lt;br />&lt;samp>goatMilkProduced&lt;/samp>&lt;br />&lt;samp>goldFound&lt;/samp>&lt;br />&lt;samp>goodFriends&lt;/samp>&lt;br />&lt;samp>individualMoneyEarned&lt;/samp>&lt;br />&lt;samp>iridiumFound&lt;/samp>&lt;br />&lt;samp>ironFound&lt;/samp>&lt;br />&lt;samp>itemsCooked&lt;/samp>&lt;br />&lt;samp>itemsCrafted&lt;/samp>&lt;br />&lt;samp>itemsForaged&lt;/samp>&lt;br />&lt;samp>itemsShipped&lt;/samp>&lt;br />&lt;samp>monstersKilled&lt;/samp>&lt;br />&lt;samp>mysticStonesCrushed&lt;/samp>&lt;br />&lt;samp>notesFound&lt;/samp>&lt;br />&lt;samp>otherPreciousGemsFound&lt;/samp>&lt;br />&lt;samp>piecesOfTrashRecycled&lt;/samp>&lt;br />&lt;samp>preservesMade&lt;/samp>&lt;br />&lt;samp>prismaticShardsFound&lt;/samp>&lt;br />&lt;samp>questsCompleted&lt;/samp>&lt;br />&lt;samp>rabbitWoolProduced&lt;/samp>&lt;br />&lt;samp>rocksCrushed&lt;/samp>&lt;br />&lt;samp>seedsSown&lt;/samp>&lt;br />&lt;samp>sheepWoolProduced&lt;/samp>&lt;br />&lt;samp>slimesKilled&lt;/samp>&lt;br />&lt;samp>stepsTaken&lt;/samp>&lt;br />&lt;samp>stoneGathered&lt;/samp>&lt;br />&lt;samp>stumpsChopped&lt;/samp>&lt;br />&lt;samp>timesFished&lt;/samp>&lt;br />&lt;samp>timesUnconscious&lt;/samp>&lt;br />&lt;samp>totalMoneyGifted&lt;/samp>&lt;br />&lt;samp>trufflesFound&lt;/samp>&lt;br />&lt;samp>weedsEliminated&lt;/samp>
| Removed; use the equivalent property or methods. For example, &lt;code>Game1.stats.daysPlayed&lt;/code> can be replaced with &lt;code>Game1.stats.DaysPlayed&lt;/code> or methods like &lt;code>Game1.stats.Get(StatKeys.DaysPlayed)&lt;/code>. See [[#Stat changes for C# mods|stat changes for C# mods]].
|-
| &lt;samp>getStat(…)&lt;/samp>&lt;br />&lt;samp>incrementStat(…)&lt;/samp>
| Replaced by &lt;samp>Get(…)&lt;/samp> and &lt;samp>Increment(…)&lt;/samp>. See [[#Stat changes for C# mods|stat changes for C# mods]].
|-
| &lt;samp>stat_dictionary&lt;/samp>
| Renamed to &lt;samp>Values&lt;/samp>. See [[#Stat changes for C# mods|stat changes for C# mods]].
|-
| &lt;samp>Woods&lt;/samp>
| &lt;samp>stumps&lt;/samp>
| Moved into &lt;samp>resourceClumps&lt;/samp>.
|}

===Check for obsolete code===
Perform a full rebuild of your mod (in Visual Studio, click ''Build > Rebuild Solution''), then check the Error List pane for any warnings like "'''X' is obsolete''". Anything from the vanilla game code which is marked obsolete won't work anymore and is only kept for save migrations. Usually the warning will include an explanation of what you should use instead.

==Breaking changes for content packs==
'''This section only describes how this update may break existing mods. See the ''what's new'' sections above for more info, including new functionality mods can use.'''

===Standardized ID fields===
Stardew Valley 1.6 adds an &lt;samp>Id&lt;/samp> field to these assets. For Content Patcher content packs, these replace the previous synthetic ID:

{| class="wikitable"
|-
! asset
! old key
! new key
! migration steps
|-
| &lt;samp>Data/ConcessionTastes&lt;/samp>&lt;br />&lt;samp>Data/MovieReactions&lt;/samp>&lt;br />&lt;samp>Data/RandomBundles&lt;/samp> (area)&lt;br />&lt;samp>Data/RandomBundles&lt;/samp> (bundle)
| &lt;samp>Name&lt;/samp>&lt;br />&lt;samp>NPCName&lt;/samp>&lt;br />&lt;samp>AreaName&lt;/samp>&lt;br />''none''
|&lt;samp>Id&lt;/samp>
| None. The &lt;samp>Id&lt;/samp> field is set automatically to the same value (or &lt;samp>Name&lt;/samp> for bundles), so there's no change for content packs. Omit the new field when creating a new entry.
|-
| &lt;samp>Data/FishPondData&lt;/samp>&lt;br />&lt;samp>Data/RandomBundles&lt;/samp> (bundle set)
| &lt;samp>RequiredTags&lt;/samp>&lt;br />''none''
| &lt;samp>Id&lt;/samp>
| Use the new &lt;samp>Id&lt;/samp> field to target an entry, and add it when creating a new entry. Required.
|-
| &lt;samp>Data/TailoringRecipes&lt;/samp>
| &lt;samp>FirstItemTags&lt;/samp> and &lt;samp>SecondItemTags&lt;/samp>
| &lt;samp>Id&lt;/samp>
| Use the new &lt;samp>Id&lt;/samp> field to target an entry, and add it when creating a new entry. Defaults to the &lt;samp>CraftedItemIds&lt;/samp> (comma-delimited) or &lt;samp>CraftedItemId&lt;/samp> value if omitted, but there's a high chance of conflicts so mods should always specify a unique ID.
|}

For example, let's say you have a patch like this using Content Patcher:
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/TailorRecipes",
            "Entries": {
                "item_cloth|item_pufferchick": {
                    "FirstItemTags": [ "item_cloth" ],
                    "SecondItemTags": [ "item_pufferchick" ],
                    "CraftedItemId": "(S)1260"
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

When updating to Stardew Valley 1.6, replace the synthetic ID (&lt;samp>item_cloth|item_pufferchick&lt;/samp>) with a real one:
* To edit an existing entry, unpack the asset and get its new &lt;samp>Id&lt;/samp> value.
* To add a custom entry, use a [[Modding:Common data field types#Unique string ID|unique string ID]].

For example:
{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        {
            "Action": "EditData",
            "Target": "Data/TailorRecipes",
            "Entries": {
                "ExampleAuthor.ModId_RainCoatFromPufferchick": {
                    "Id": "ExampleAuthor.ModId_RainCoatFromPufferchick", // need to specify ID again when creating it
                    "FirstItemTags": [ "item_cloth" ],
                    "SecondItemTags": [ "item_pufferchick" ],
                    "CraftedItemId": "(S)1260"
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

===Event ID changes===
{{/doc status|[[Modding:Event data]]|done=false}}

: ''See also: [[#String event IDs|string event IDs in what's new]].''

Events now have unique string IDs.

When creating an event:
&lt;ul>
&lt;li>New events should use a globally unique ID in the form &lt;samp>Your.ModId_EventName&lt;/samp>. Existing events should be fine as-is, but it may be worth migrating them to avoid future conflicts.&lt;/li>
&lt;li>Every non-fork event '''must''' have a precondition in its key (even if it's empty). For example, change &lt;code>"Your.ModId_EventName": "..."&lt;/code> to &lt;code>"Your.ModId_EventName/": "..."&lt;/code>. This is needed for the game to distinguish between events and fork scripts.

&lt;syntaxhighlight lang="js">
"Example.ModId_EventName/": "...", // event: loaded automatically by the game
"SomeFork": "..."                  // event fork: ignored unless it's loaded through an event script
&lt;/syntaxhighlight>&lt;/li>
&lt;/ul>

===Monster eradication goal flag changes===
{{/doc status|a new doc page|done=false}}

: ''See also: [[#Custom monster eradication goals|Custom monster eradication goals]].''

The game now tracks [[Adventurer's Guild]] monster eradication goal completion by the goal ID, instead of the produced item. You'll need to replace these mail flags if you check them:

{| class="wikitable"
|-
! old flag
! new flag
|-
| &lt;samp>Gil_Slime Charmer Ring&lt;/samp>
| &lt;samp>Gil_Slimes&lt;/samp>
|-
| &lt;samp>Gil_Savage Ring&lt;/samp>
| &lt;samp>Gil_Shadows&lt;/samp>
|-
| &lt;samp>Gil_Vampire Ring&lt;/samp>
| &lt;samp>Gil_Bats&lt;/samp>
|-
| &lt;samp>Gil_Skeleton Mask&lt;/samp>
| &lt;samp>Gil_Skeletons&lt;/samp>
|-
| &lt;samp>Gil_Insect Head&lt;/samp>
| &lt;samp>Gil_Insects&lt;/samp>
|-
| &lt;samp>Gil_Hard Hat&lt;/samp>
| &lt;samp>Gil_Duggy&lt;/samp>
|-
| &lt;samp>Gil_Burglar's Ring&lt;/samp>
| &lt;samp>Gil_DustSpirits&lt;/samp>
|-
| &lt;samp>Gil_Crabshell Ring&lt;/samp>
| &lt;samp>Gil_Crabs&lt;/samp>
|-
| &lt;samp>Gil_Arcane Hat&lt;/samp>
| &lt;samp>Gil_Mummies&lt;/samp>
|-
| &lt;samp>Gil_Knight's Helmet&lt;/samp>
| &lt;samp>Gil_Dinos&lt;/samp>
|-
| &lt;samp>Gil_Napalm Ring&lt;/samp>
| &lt;samp>Gil_Serpents&lt;/samp>
|-
| &lt;samp>Gil_Telephone&lt;/samp>
| &lt;samp>Gil_FlameSpirits&lt;/samp>
|}

===XNB impact===
====Overview====
This section provides a summary of the XNB files which changed in Stardew Valley 1.6. This doesn't include new files (since they won't impact existing mods), or text changes in non-English files.

[[Modding:Using XNB mods|XNB mods]] are disproportionately affected, since...
# they replace the entire file;
# they're loaded through the MonoGame content pipeline which is less tolerant of format changes;
# they don't benefit from the compatibility rewrites [[Modding:Content Patcher|Content Patcher]] provides for its content packs.

Content Patcher packs are typically unaffected (and Content Patcher will try to rewrite content packs automatically). However if a content pack replaces an entire asset instead of editing, it's more likely to be affected like an XNB mod.

====Changed assets====
Compatibility is broadly grouped into four categories:
* "'''✘ broken'''": mods will remove new content or significant changes, or the mod's intended changes will no longer work. Effects may range from display bugs to crashes, depending how the game uses that specific content.
* "✘ will remove changes": mods will remove minor changes in 1.6 (e.g. typo fixes).
* "✓ mostly unaffected": mods will only be affected if they replace the entire asset, or edit specific entries or fields.
* Blank: no expected impact for the vast majority of mods.

{| class="wikitable"
|-
!rowspan="2"| content asset
!rowspan="2"| changes in 1.6
!colspan="2"| compatibility for pre-1.6 mods
|-
! XNB mods
! Content Patcher packs
|-
| &lt;samp>Buildings/houses&lt;/samp>
| &amp;#32;
* fixed missing pixels
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Abigail&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/Alex&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Caroline&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/Demetrius&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Elliott&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Emily&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
* updated &lt;samp>%revealtaste&lt;/samp> format (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/George&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|Winter Star gift exchange dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Gus&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Haley&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Harvey&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Jas&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/Jodi&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Krobus&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|roommate stardrop dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Leah&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Lewis&lt;/samp>
| &amp;#32;
* updated &lt;samp>%revealtaste&lt;/samp> format (backwards-compatible)
|
|
|-
| &lt;samp>Characters/Dialogue/Linus&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|dumpster dive dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Marnie&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|Stardew Valley Fair dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/MarriageDialogue&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialogueAbigail&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialogueElliott&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/MarriageDialogueEmily&lt;/samp>
| &amp;#32;
* changed &lt;samp>spring_Maru&lt;/samp> key to &lt;samp>spring_Emily&lt;/samp>
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/MarriageDialogueKrobus&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialogueLeah&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialogueMaru&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialoguePenny&lt;/samp>&lt;br />&lt;samp>Characters/Dialogue/MarriageDialogueSam&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Maru&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Penny&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Pierre&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|Stardew Valley Fair dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Robin&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Sam&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Sandy&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Sebastian&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Willy&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|Stardew Valley Fair dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Dialogue/Shane&lt;/samp>
| &amp;#32;
* added [[#Dialogue changes|flower dance dialogue]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Farmer/hats&lt;/samp>
| &amp;#32;
* removed stray pixel on chicken mask
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Characters/schedules/Elliott&lt;/samp>
| &amp;#32;
* fixed order of &lt;samp>Fri_6&lt;/samp> and &lt;samp>Fri&lt;/samp> entries
| '''✘ broken'''
|
|-
| &lt;samp>Characters/schedules/Lewis&lt;/samp>
| &amp;#32;
* fixed &lt;samp>winter_Sun&lt;/samp> schedule
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/schedules/Maru&lt;/samp>
| &amp;#32;
* fixed &lt;samp>summer_Mon&lt;/samp> and &lt;samp>summer_Sun&lt;/samp> schedules
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/schedules/Penny&lt;/samp>
| &amp;#32;
* fixed &lt;samp>summer_Sun&lt;/samp> schedule
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Characters/Schedules/Shane&lt;/samp>
| &amp;#32;
* fixed dialogue key
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/animationDescriptions&lt;/samp>
| &amp;#32;
* fixed frame in Lewis' Saloon drinking animation
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/AquariumFish&lt;/samp>
| &amp;#32;
* [[#Custom items|changed key type]]
* added hat position for [[Sea Urchin]]
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/BigCraftablesInformation&lt;/samp>
| &amp;#32;
* asset replaced by [[#Custom big craftables|&lt;samp>Data/BigCraftables&lt;/samp>]]:
** migrated to data model format
** added new features
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/Blueprints&lt;/samp>
| &amp;#32;
* asset replaced by [[#Custom buildings|&lt;samp>Data/Buildings&lt;/samp>]]:
** migrated to data model format
** added new features
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/Boots&lt;/samp>
| &amp;#32;
* [[#Custom items|changed key type]]
* added display name
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/Bundles&lt;/samp>
| &amp;#32;
* can no longer omit empty fields before display name
* added display name field in English
* removed meat items in animal bundle
| '''✘ broken'''
| '''✘ likely broken'''
|-
| &lt;samp>Data/ClothingInformation&lt;/samp>
| &amp;#32;
* asset replaced by [[#Custom pants|&lt;samp>Data/Pants&lt;/samp>]] and [[#Custom shirts|&lt;samp>Data/Shirts&lt;/samp>]]:
** migrated to data model format
** added new features
| '''✘ broken'''
| '''✘ likely broken'''
|-
| &lt;samp>Data/Concessions&lt;/samp>
| &amp;#32;
* [[#Custom movie concessions|added new required fields (&lt;samp>Texture&lt;/samp> and &lt;samp>SpriteIndex&lt;/samp>)]]
* replaced translations with [[Modding:Tokenizable strings|tokenizable strings]]
* changed IDs to strings
| '''✘ broken'''
| '''✘ likely broken'''
|-
| &lt;samp>Data/ConcessionTastes&lt;/samp>
| &amp;#32;
* added automatic &lt;samp>ID&lt;/samp> field
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/CookingRecipes&lt;/samp>
| &amp;#32;
* replaced translations with [[Modding:Tokenizable strings|tokenizable strings]]
* display names can now be omitted to use item name
| ✘ will remove changes
| ✓ may remove unaffected
|-
| &lt;samp>Data/CraftingRecipes&lt;/samp>
| &amp;#32;
* replaced translations with [[Modding:Tokenizable strings|tokenizable strings]]
* display names can now be omitted to use item name
* added &lt;samp>default&lt;/samp> unlock condition
* fixed typo in Cookout Kit entry
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/Crops&lt;/samp>
| &amp;#32;
* [[#Custom crops|completely overhauled]]
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/Events/AnimalShop&lt;/samp>
| &amp;#32;
* updated command syntax (backwards-compatible)
|
|
|-
| &lt;samp>Data/Events/Farm&lt;/samp>
| &amp;#32;
* replaced send-mail events with [[Modding:Trigger actions|trigger actions]]
* updated pet event to support custom pet types
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(✘ may cause duplicate mail if they edit&lt;br />send-mail events)&lt;/small>
|-
| &lt;samp>Data/Events/FishShop&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/Forest&lt;/samp>
| &amp;#32;
* fixed typos
* updated Jas &lt;samp>faceDirection&lt;/samp> command for sewer event
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/IslandHut&lt;/samp>
| &amp;#32;
* updated how Leo's name is translated
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/IslandNorth&lt;/samp>
| &amp;#32;
* updated quote format
* fixed blank music field (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(✘ likely broken if they edit the &lt;samp>6497421&lt;/samp> event)&lt;/small>
|-
| &lt;samp>Data/Events/IslandSouth&lt;/samp>
| &amp;#32;
* fixed blank music field (backwards-compatible)
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/JoshHouse&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/LeahHouse&lt;/samp>
| &amp;#32;
* fixed &lt;samp>move&lt;/samp> command format in Leah's 2-heart event
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/Mountain&lt;/samp>
| &amp;#32;
* fixed skipped dialogue in Maru's 14-heart event
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/Saloon&lt;/samp>&lt;br />&lt;samp>Data/Events/ScienceHouse&lt;/samp>&lt;br />&lt;samp>Data/Events/SebastianRoom&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/Town&lt;/samp>
| &amp;#32;
* fixed &lt;samp>warp&lt;/samp> command format in community center completed event
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/Events/WizardHouse&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/ExtraDialogue&lt;/samp>
| &amp;#32;
* split &lt;samp>SummitEvent_Dialogue1_Spouse&lt;/samp> entry
* fixed event command formats in some summit dialogue
* moved [[#Dialogue changes|dumpster dive dialogue into NPC files]]
* removed unused entries
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/FarmAnimals&lt;/samp>
| &amp;#32;
* [[#Custom farm animals|completely overhauled]]
| '''✘ broken'''
| '''✘ broken'''
|-
| &lt;samp>Data/Festivals/fall16&lt;/samp>
| &amp;#32;
* updated command syntax (backwards-compatible)
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Festivals/fall27&lt;/samp>
| &amp;#32;
* removed &lt;samp>shop&lt;/samp> field (moved into [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]])
| ✓ mostly unaffected
| ✓ mostly unaffected
|-
| &lt;samp>Data/Festivals/spring13&lt;/samp>
| &amp;#32;
* migrated to new &lt;samp>warpFarmers&lt;/samp> command
* removed &lt;samp>shop&lt;/samp> field (moved into [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]])
* updated &lt;samp>faceDirection&lt;/samp> syntax
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(✘ broken if they edit &lt;samp>mainEvent&lt;/samp> or&lt;br />&lt;samp>afterEggHunt&lt;/samp> fields)&lt;/small>
|-
| &lt;samp>Data/Festivals/spring24&lt;/samp>&lt;br />&lt;samp>Data/Festivals/summer11&lt;/samp>&lt;br />&lt;samp>Data/Festivals/summer28&lt;/samp>
| &amp;#32;
* migrated to new &lt;samp>warpFarmers&lt;/samp> command
* removed &lt;samp>shop&lt;/samp> field (moved into [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]])
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(✘ broken if they edit &lt;samp>mainEvent&lt;/samp> field)&lt;/small>
|-
| &lt;br />&lt;samp>Data/Festivals/winter8&lt;/samp>
| &amp;#32;
* migrated to new &lt;samp>warpFarmers&lt;/samp> command
* removed &lt;samp>shop&lt;/samp> field (moved into [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]])
* removed broken &lt;samp>loadActors MainEvent&lt;/samp> command
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(✘ broken if they edit &lt;samp>mainEvent&lt;/samp> or&lt;br />&lt;samp>afterIceFishing&lt;/samp> field)&lt;/small>
|-
| &lt;samp>Data/Festivals/winter25&lt;/samp>
| &amp;#32;
* removed &lt;samp>shop&lt;/samp> field (moved into [[#Custom shops|&lt;samp>Data/Shops&lt;/samp>]])
| ✓ mostly unaffected
| ✓ mostly unaffected
|-
| &lt;samp>Data/Fish&lt;/samp>
| &amp;#32;
* no longer has per-language versions
* [[#Custom items|changed key type]]
* field 13 now refers to whether fish can be tutorial catch
| '''✘ broken'''
| ✘ likely broken
|-
| &lt;samp>Data/FishPondData&lt;/samp>
| &amp;#32;
* added required &lt;samp>Id&lt;/samp> &amp; optional &lt;samp>Precedence&lt;/samp> fields
* standardized &lt;samp>ID&lt;/samp>→&lt;samp>Id&lt;/samp> naming
* changed to qualified item IDs
* moved fallback entries to bottom
| '''✘ broken'''
| ✘ likely broken
|-
| &lt;samp>Data/fruitTrees&lt;/samp>
| &amp;#32;
* [[#Custom fruit trees|completely overhauled]]
| '''✘ broken'''
| '''✘ broken'''
|-
| &lt;samp>Data/Furniture&lt;/samp>
| &amp;#32;
* [[#Custom items|changed key type]]
* replaced translations with [[Modding:Tokenizable strings|tokenizable strings]]
* [[#Custom items|changed key type]]
* can no longer omit empty fields before display name
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/hats&lt;/samp>
| &amp;#32;
* [[#Custom items|changed key type]]
* can no longer omit empty fields before display name
* added display name field in English
| '''✘ broken'''
| '''✘ likely broken'''
|-
| &lt;samp>Data/Locations&lt;/samp>
| &amp;#32;
* [[#Custom locations|completely overhauled]]
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/mail&lt;/samp>
| &amp;#32;
* migrated to &lt;samp>%item id&lt;/samp> (backwards-compatible)
* removed unused entries
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Monsters&lt;/samp>
| &amp;#32;
* changed ''Dust Spirit'' display name to ''Dust Sprite''
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/Movies&lt;/samp>
| &amp;#32;
* [[#Custom movies|significantly overhauled]]
| '''✘ broken'''
| '''✘ broken'''
|-
| &lt;samp>Data/MoviesReactions&lt;/samp>
| &amp;#32;
* replaced translations with [[Modding:Tokenizable strings|tokenizable strings]]
* standardized &lt;samp>ID&lt;/samp>→&lt;samp>Id&lt;/samp> naming
* fixed typo
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/NPCDispositions&lt;/samp>
| &amp;#32;
* asset replaced by [[#Custom NPCs|&lt;samp>Data/Characters&lt;/samp>]]
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/NPCGiftTastes&lt;/samp>
| &amp;#32;
* removed invalid item IDs
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/ObjectContextTags&lt;/samp>
| &amp;#32;
* asset removed (replaced by &lt;samp>ContextTags&lt;/samp> field in [[#Custom big craftables|&lt;samp>Data/BigCraftables&lt;/samp>]] and [[#Custom objects|&lt;samp>Data/Objects&lt;/samp>]])
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration,&lt;br />except context tags defined&lt;br />before their objects and context&lt;br />tags for bigcraftables.)
&lt;/small>
|-
| &lt;samp>Data/ObjectInformation&lt;/samp>
| &amp;#32;
* asset replaced by [[#Custom objects|&lt;samp>Data/Objects&lt;/samp>]]:
** migrated to data model format
** added new features
** added new entries
** adjusted [[#Other item changes|litter items]]
** fixed typos
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>Data/PaintData&lt;/samp>
| &amp;#32;
* fixed trailing slash in &lt;samp>Deluxe Barn&lt;/samp> entry
|
|
|-
| &lt;samp>Data/Quests&lt;/samp>
| &amp;#32;
* changed key type to string
* migrated to use item IDs (backwards-compatible)
* fixed typo
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/RandomBundles&lt;/samp>
| &amp;#32;
* add optional &lt;samp>Id&lt;/samp> field
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Data/SecretNotes&lt;/samp>
| &amp;#32;
* updated &lt;samp>%revealtaste&lt;/samp> format (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/SpecialOrders&lt;/samp>
| &amp;#32;
* changed type of &lt;samp>Repeatable&lt;/samp> and &lt;samp>Duration&lt;/samp> fields
* added optional &lt;samp>CustomFields&lt;/samp> and &lt;samp>Conditions&lt;/samp> fields
| '''✘ broken'''
| 
|-
| &lt;samp>Data/SpousePatios&lt;/samp>&lt;br />&lt;samp>Data/SpouseRooms&lt;/samp>
| &amp;#32;
* removed asset (merged into [[#Custom NPCs|&lt;samp>Data/Characters&lt;/samp>]])
| '''✘ broken'''
| '''✘ broken'''
|-
| &lt;samp>Data/TailoringRecipes&lt;/samp>
| &amp;#32;
* changed to [[#Custom items|string item IDs]] (backwards-compatible)
* added optional &lt;samp>Id&lt;/samp> and &lt;samp>CraftedItemIdFeminine&lt;/samp> fields
* removed &lt;samp>CraftedItemColor&lt;/samp> field
* adjusted recipes for gender-variant shirts
* standardized &lt;samp>ID&lt;/samp>→&lt;samp>Id&lt;/samp> naming
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(&lt;samp>MoveEntries&lt;/samp> may break, but fallback entries&lt;br />are now checked last automatically)&lt;/small>
|-
| &lt;samp>Data/TV/CookingChannel&lt;/samp>&lt;br />&lt;samp>Data/TV/TipChannel&lt;/samp>
| &amp;#32;
* fixed typos
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Data/weapons&lt;/samp>
| &amp;#32;
* [[#Custom melee weapons|completely overhauled]]
| '''✘ broken'''
| ✓ mostly unaffected&lt;br />&lt;small>(covered by runtime migration)&lt;/small>
|-
| &lt;samp>LooseSprites/Cursors&lt;/samp>
| &amp;#32;
* new sprites in empty area
* moved mailbox to &lt;samp>Buildings/Mailbox&lt;/samp>
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>LooseSprites/Cursors2&lt;/samp>
| &amp;#32;
* new sprite in empty area
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>LooseSprites/map&lt;/samp>
| &amp;#32;
* redrawn to better match in-game locations
* added more detail
| '''✘ broken'''
| ✘ likely broken
|-
| &lt;samp>Maps/AbandonedJojaMart&lt;/samp>&lt;br />&lt;samp>Maps/AdventureGuild&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/AnimalShop&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/ArchaeologyHouse&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
|
|
|-
| &lt;samp>Maps/Backwoods&lt;/samp>&lt;br />&lt;samp>Maps/Backwoods_GraveSite&lt;/samp>&lt;br />&lt;samp>Maps/Backwoods_Staircase&lt;/samp>
| &amp;#32;
* removed unused tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Barn&lt;/samp>&lt;br />&lt;samp>Maps/Barn2&lt;/samp>
| &amp;#32;
* removed unused map properties
|
|
|-
| &lt;samp>Maps/Barn3&lt;/samp>
| &amp;#32;
* added &lt;samp>AutoFeed&lt;/samp> map property
* removed unused map properties
| '''✘ broken'''
|
|-
| &lt;samp>Maps/BathHouse_Entry&lt;/samp>&lt;br />&lt;samp>Maps/BathHouse_MensLocker&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* removed unused pathfinding tiles
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/BathHouse_Pool&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
* removed unused map &amp; tile properties
|
|
|-
| &lt;samp>Maps/BathHouse_WomensLocker&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* removed unused pathfinding tiles
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Beach&lt;/samp>
| &amp;#32;
* removed unused map properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Beach-Jellies&lt;/samp>&lt;br />&lt;samp>Maps/Beach-Luau&lt;/samp>&lt;br />&lt;samp>Maps/Beach-NightMarket&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Blacksmith&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/BoatTunnel&lt;/samp>
| &amp;#32;
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/BugLand&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/BusStop&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* removed unused pathfinding tiles
* changed &lt;samp>Action BusTicket&lt;/samp> to &lt;samp>Action None&lt;/samp>
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Caldera&lt;/samp>
| &amp;#32;
* removed unused map property
|
|
|-
| &lt;samp>Maps/Cellar&lt;/samp>
| &amp;#32;
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Club&lt;/samp>
| &amp;#32;
* added &lt;samp>LocationContext&lt;/samp> map property
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Coop&lt;/samp>&lt;br />&lt;samp>Maps/Coop2&lt;/samp>
| &amp;#32;
* removed unused map properties
|
|
|-
| &lt;samp>Maps/Coop3&lt;/samp>
| &amp;#32;
* added &lt;samp>AutoFeed&lt;/samp> map property
* removed unused map properties
| '''✘ broken'''
|
|-
| &lt;samp>Maps/Desert&lt;/samp>
| &amp;#32;
* added &lt;samp>LocationContext&lt;/samp> map property
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
|
|-
| &lt;samp>Maps/ElliottHouse&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Farm&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Combat&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Fishing&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Foraging&lt;/samp>&lt;br />&lt;samp>Maps/Farm_FourCorners&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Island&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Mining&lt;/samp>
| &amp;#32;
* added new tilesheet
* added cabin positions for players 5–8
* added &lt;samp>PetBowlLocation&lt;/samp> map property (for &lt;samp>Maps/Four_Corners&lt;/samp> and &lt;samp>Farm/Island&lt;/samp> only)
* added &lt;samp>SpouseAreaLocation&lt;/samp> map property (for &lt;samp>Maps/Farm_Island&lt;/samp> only)
* significant tile &amp; tile property changes
* removed farmhouse + pet bowl areas (now moveable)
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✘ may remove changes
|-
| &lt;samp>Maps/Farm_Greenhouse_Dirt&lt;/samp>&lt;br />&lt;samp>Maps/Farm_Greenhouse_Dirt_FourCorners&lt;/samp>
| &amp;#32;
* removed unused map properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/FarmHouse&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_Bedroom_Normal&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_Bedroom_Open&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_Cellar&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_ChildBed_0&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_ChildBed_1&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_CornerRoom_Add&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_CornerRoom_Remove&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_SouthernRoom_Add&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse_SouthernRoom_Remove&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse1&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse1_marriage&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse2&lt;/samp>&lt;br />&lt;samp>Maps/FarmHouse2_marriage&lt;/samp>
| &amp;#32;
* removed unused map properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/FishingGame&lt;/samp>
| &amp;#32;
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/FishShop&lt;/samp>
| &amp;#32;
* fixed broken &lt;samp>DayTiles&lt;/samp> and &lt;samp>NightTiles&lt;/samp> values
* removed unused pathfinding tiles
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Forest&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Forest-FlowerFestival&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Forest-IceFestival&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* fixed warp positions
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Forest-SewerClean&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/HaleyHouse&lt;/samp>&lt;br />&lt;samp>Maps/HarveyRoom&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Hospital&lt;/samp>
| &amp;#32;
* removed deprecated &lt;samp>UniquePortrait&lt;/samp> &amp; &lt;samp>UniqueSprite&lt;/samp> map properties
* removed unused pathfinding tiles
| ✘ will remove changes&lt;br />&lt;small>(This may cause mod conflicts)&lt;/samp>
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_Bridge_Broken&lt;/samp>&lt;br />&lt;samp>Maps/Island_Bridge_Repaired&lt;/samp>&lt;br />&lt;samp>Maps/Island_House_Cave&lt;/samp>
| &amp;#32;
* removed unused map properties
|
|
|-
| &lt;samp>Maps/Island_N&lt;/samp>
| &amp;#32;
* update walnut bush tile so it still works in 1.6
* removed unused tile property
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/IslandNorthCave1&lt;/samp>&lt;br />&lt;samp>Maps/IslandSouthEastCave&lt;/samp>&lt;br />&lt;samp>Maps/IslandSouthEastCave_pirates&lt;/samp>&lt;br />&lt;samp>Maps/IslandWestCave1&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_Bridge_Broken&lt;/samp>&lt;br />&lt;samp>Maps/Island_Bridge_Repaired&lt;/samp>
| &amp;#32;
* removed unused map property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Island_E&lt;/samp>&lt;br />&lt;samp>Maps/IslandFarmCave&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_House_Cave&lt;/samp>
| &amp;#32;
* removed unused map property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Island_Hut&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_N&lt;/samp>
| &amp;#32;
* added a &lt;samp>NowSpawn False&lt;/samp> tile property to fix tree that hides a golden walnut
* removed unused tile property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_N_Trader&lt;/samp>&lt;br />&lt;samp>Maps/Island_Secret&lt;/samp>
| &amp;#32;
* removed unused tile property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Island_Shrine&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Island_W&lt;/samp>
| &amp;#32;
* removed unused tile property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/IslandFarmHouse&lt;/samp>
| &amp;#32;
* removed unused tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/JojaMart&lt;/samp>&lt;br />&lt;samp>Maps/JoshHouse&lt;/samp>&lt;br />&lt;samp>Maps/LeahHouse&lt;/samp>&lt;br />&lt;samp>Maps/ManorHouse&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/MarnieBarn&lt;/samp>
| &amp;#32;
* removed unused map properties
|
|
|-
| &lt;samp>Maps/Mine&lt;/samp>
| &amp;#32;
* updated for [[#Custom minecarts|minecart changes]]
* removed unused map properties
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Mountain&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Mountain-BridgeFixed&lt;/samp>&lt;br />&lt;samp>Maps/Mountain_Shortcuts&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/MovieTheater&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/MovieTheaterScreen&lt;/samp>
| &amp;#32;
* updated for tilesheet changes
| ✘ broken visuals (e.g. missing chairs)
| ✓ mostly unaffected&lt;br />&lt;small>(✘ broken visuals if they edit the affected tiles)&lt;/small>
|-
| &lt;samp>Maps/MovieTheaterScreen_TileSheet&lt;/samp>
| &amp;#32;
* improved light cone
* moved chair sprite to make room for new light cone
| ✘ broken visuals (e.g. missing chairs)
| ✓ mostly unaffected&lt;br />&lt;small>(✘ broken visuals if they edit the affected sprites)&lt;/small>
|-
| &lt;samp>Maps/paths&lt;/samp>
| &amp;#32;
* added icon for [[#Custom wild trees|custom wild tree spawn]]
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/QiNutRoom&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Railroad&lt;/samp>
| &amp;#32;
* removed unused map property
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Saloon&lt;/samp>&lt;br />&lt;samp>Maps/SamHouse&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/SandyHouse&lt;/samp>
| &amp;#32;
* added &lt;samp>LocationContext&lt;/samp> map property
| '''✘ broken'''
|
|-
| &lt;samp>Maps/ScienceHouse&lt;/samp>&lt;br />&lt;samp>Maps/SebastianRoom&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/SeedShop&lt;/samp>
| &amp;#32;
* removed unused tile properties
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Sewer&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Shed&lt;/samp>&lt;br />&lt;samp>Maps/Shed2&lt;/samp>
| &amp;#32;
* added &lt;samp>FloorIDs&lt;/samp> and &lt;samp>WallIDs&lt;/samp> map properties
| '''✘ broken'''
|
|-
| &lt;samp>Maps/SkullCave&lt;/samp>
| &amp;#32;
* added &lt;samp>LocationContext&lt;/samp> map property
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/SlimeHutch&lt;/samp>
| &amp;#32;
* removed unused tile property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/spousePatios&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/spring_outdoorsTileSheet&lt;/samp>&lt;br />&lt;samp>Maps/summer_outdoorsTileSheet&lt;/samp>&lt;br />&lt;samp>Maps/fall_outdoorsTileSheet&lt;/samp>&lt;br />&lt;samp>Maps/winter_outdoorsTileSheet&lt;/samp>
| &amp;#32;
* pet bowl moved to &lt;samp>Buildings/Pet Bowl&lt;/samp>
| ✓ mostly unaffected
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Submarine&lt;/samp>
| &amp;#32;
* removed unused tile property
|
|
|-
| &lt;samp>Maps/Sunroom&lt;/samp>
| &amp;#32;
* added &lt;samp>IsGreenhouse&lt;/samp map property
| '''✘ broken'''
|
|-
| &lt;samp>Maps/Tent&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Town&lt;/samp>
| &amp;#32;
* updated [[#Custom garbage cans|garbage can IDs]] (backwards-compatible)
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Town-Christmas&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Town-DogHouse&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Town-EggFestival&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* fixed Elliott appearing twice during egg hunt
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Town-Fair&lt;/samp>
| &amp;#32;
* removed unused map/tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Town-Halloween&lt;/samp>
| &amp;#32;
* updated for festival shops now in &lt;samp>Data/Shops&lt;/samp>
* removed unused map/tile properties
* removed unused pathfinding tiles
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Town-Theater&lt;/samp>&lt;br />&lt;samp>Maps/Town-TheaterCC&lt;/samp>&lt;br />&lt;samp>Maps/Town-TrashGone&lt;/samp>
| &amp;#32;
* removed unused tile properties
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Maps/Trailer&lt;/samp>
| &amp;#32;
* removed unused tile property
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Trailer_big&lt;/samp>
| &amp;#32;
* removed unused pathfinding tiles
|
|
|-
| &lt;samp>Maps/Tunnel&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* removed unused map property
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/WitchHut&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/WitchSwamp&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/WitchWarpCave&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/WizardHouse&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* removed unused pathfinding tiles
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/WizardHouseBasement&lt;/samp>
| &amp;#32;
* moved &lt;samp>Music&lt;/samp> property into &lt;samp>Data/Locations&lt;/samp>
* removed unused map property
| ✘ will remove changes
| ✓ mostly unaffected
|-
| &lt;samp>Maps/Woods&lt;/samp>
| &amp;#32;
* removed unused tile property
* standardized &lt;samp>T&lt;/samp> for boolean tile property values (backwards-compatible)
|
|
|-
| &lt;samp>Minigames/boatJourneyMap&lt;/samp>
| &amp;#32;
* asset replaced by redrawn seasonal variants like &lt;samp>fall_boatJourneyMap&lt;/samp>
| '''✘ broken'''
| '''✘ broken'''
|-
| &lt;samp>Strings/Characters&lt;/samp>
| &amp;#32;
* added new entries
| '''✘ broken'''
|
|-
| &lt;samp>Strings/BundleNames&lt;/samp>
| &amp;#32;
* removed unused entries
|
|
|-
| &lt;samp>Strings/Characters&lt;/samp>
| &amp;#32;
* added new entries
* removed unused entry
| '''✘ broken'''
|
|-
| &lt;samp>Strings/credits&lt;/samp>
| &amp;#32;
* updated for 1.6
* various changes
| ✘ will remove changes
| ✘ will remove changes
|-
| &lt;samp>Strings/Events&lt;/samp>
| &amp;#32;
* moved [[#Dialogue changes|flower dance dialogue]] for Emily and Shane to their NPC dialogue files
| ✓ mostly unaffected
| ✓ mostly unaffected
|-
| &lt;samp>Strings/FarmAnimals&lt;/samp>
| &amp;#32;
* added new entries
| '''✘ broken'''
|
|-
| &lt;samp>Strings/Lexicon&lt;/samp>
| &amp;#32;
* removed unused entries
|
|
|-
| &lt;samp>Strings/Locations&lt;/samp>
| &amp;#32;
* added new entries
* added placeholder to &lt;samp>BusStop_BuyTicketToDesert&lt;/samp>
* renamed &lt;samp>BoatTunnel_BuyTicket&lt;/samp> to &lt;samp>BuyTicket&lt;/samp>
* updated how Professor Snail's name is translated, removed unused entries
* fixed typos
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Strings/NPCNames&lt;/samp>
| &amp;#32;
* added new entries
* removed unused entry
| '''✘ broken'''
|
|-
| &lt;samp>Strings/Notes&lt;/samp>
| &amp;#32;
* trimmed trailing whitespace
|
|
|-
| &lt;samp>Strings/Objects&lt;/samp>
| &amp;#32;
* added new entries
* removed unused entries
| '''✘ broken'''
|
|-
| &lt;samp>Strings/schedules/Caroline&lt;/samp>
| &amp;#32;
* fixed typo
| ✘ will remove changes 
| ✓ mostly unaffected
|-
| &lt;samp>Strings/SpecialOrderStrings&lt;/samp>
| &amp;#32;
* renamed ''Dust Spirits'' to ''Dust Sprites''
* fixed typos
| ✘ will remove changes 
| ✓ mostly unaffected
|-
| &lt;samp>Strings/StringsFromCSFiles&lt;/samp>
| &amp;#32;
* added new entries
* removed unused entries
* reworked &lt;samp>FarmComputer_*&lt;/samp> translations
* merged some gendered translations
* merged &lt;samp>ItemDeliveryQuest.cs.13533&lt;/samp> into &lt;samp>ItemDeliveryQuest.cs.13534&lt;/samp>–&lt;samp>13536&lt;/samp>
* changed some player names from &lt;samp>{0}&lt;/samp> to &lt;samp>@&lt;/samp>
* fixed typo
| '''✘ broken'''
| ✓ mostly unaffected
|-
| &lt;samp>Strings/StringsFromMaps&lt;/samp>
| &amp;#32;
* fixed typos
* removed unused entries
| ✘ will remove changes
| 
|-
| &lt;samp>Strings/UI&lt;/samp>
| &amp;#32;
* added new entries
* added placeholder for cabin count in &lt;samp>Character_CoopHelpString&lt;/samp>
* fixed typos
* removed unused entries
| '''✘ broken'''
| ✓ mostly unaffected
|}

====Removed unused assets====
Stardew Valley 1.6 deletes assets which weren't used by the game. Mods usually aren't affected by this.

Removed assets:
* &lt;samp>Characters/Dana&lt;/samp>
* &lt;samp>Characters/Dick&lt;/samp>
* &lt;samp>Characters/femaleRival&lt;/samp>
* &lt;samp>Characters/maleRival&lt;/samp>
* &lt;samp>Characters/shirts&lt;/samp>
* &lt;samp>Characters/WeddingOutfits&lt;/samp>
* &lt;samp>Data/TV/InterviewShow&lt;/samp>
* &lt;samp>Effects/BrightWhite&lt;/samp>
* &lt;samp>Fonts/tinyFontBorder&lt;/samp>
* &lt;samp>Maps/Cabin&lt;/samp>
* &lt;samp>Maps/Cabin1&lt;/samp>
* &lt;samp>Maps/Cabin1_marriage&lt;/samp>
* &lt;samp>Maps/Cabin2&lt;/samp>
* &lt;samp>Maps/Cabin2_marriage&lt;/samp>
* &lt;samp>Maps/Island_Boulder_Removed&lt;/samp>
* &lt;samp>Maps/qiNutRoom_tilesheet_0&lt;/samp>
* &lt;samp>Maps/spring_outrdoorsTileSheet_lightergrass&lt;/samp>
* &lt;samp>Portraits/Dobson&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_basic&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_basic_dark&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_frost&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_frost_dark&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_lava&lt;/samp>
* &lt;samp>TerrainFeatures/DiggableWall_lava_dark&lt;/samp>
* &lt;samp>TerrainFeatures/Quartz&lt;/samp>

==Vanilla release notes==
''Moved to [[Version History#1.6]].''

==See also==
* [[User:Pathoschild/Modding wishlist/Completed#Done in Stardew Valley 1.6|Modding wishlist items done in Stardew Valley 1.6]] lists a few specialized changes not mentioned on this page.

[[Category:Modding]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Collapse" title="Template:Collapse">Template:Collapse</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Collapse&amp;action=edit" title="Template:Collapse">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Content_Patcher_version" title="Template:Content Patcher version">Template:Content Patcher version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Content_Patcher_version&amp;action=edit" title="Template:Content Patcher version">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Github" title="Template:Github">Template:Github</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Github&amp;action=edit" title="Template:Github">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Modder_compatibility_header" title="Template:Modder compatibility header">Template:Modder compatibility header</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Modder_compatibility_header&amp;action=edit" title="Template:Modder compatibility header">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Nexus_mod" title="Template:Nexus mod">Template:Nexus mod</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Nexus_mod&amp;action=edit" title="Template:Nexus mod">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:O" title="Template:O">Template:O</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:O&amp;action=edit" title="Template:O">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Price" title="Template:Price">Template:Price</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Price&amp;action=edit" title="Template:Price">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:T" title="Template:T">Template:T</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:T&amp;action=edit" title="Template:T">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:TOC" title="Template:TOC">Template:TOC</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:TOC&amp;action=edit" title="Template:TOC">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:TOC/limit-styles.css" title="Template:TOC/limit-styles.css">Template:TOC/limit-styles.css</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:TOC/limit-styles.css&amp;action=edit" title="Template:TOC/limit-styles.css">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Version" title="Template:Version">Template:Version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Version&amp;action=edit" title="Template:Version">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6/doc_status" title="Modding:Migrate to Stardew Valley 1.6/doc status">Modding:Migrate to Stardew Valley 1.6/doc status</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Migrate_to_Stardew_Valley_1.6/doc_status&amp;action=edit" title="Modding:Migrate to Stardew Valley 1.6/doc status">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6" title="Modding:Migrate to Stardew Valley 1.6">Modding:Migrate to Stardew Valley 1.6</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6">https://stardewvalleywiki.com/Modding:Migrate_to_Stardew_Valley_1.6</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Migrate_to_Stardew_Valley_1.6&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":127});});</script>		</body>
		

</html>

