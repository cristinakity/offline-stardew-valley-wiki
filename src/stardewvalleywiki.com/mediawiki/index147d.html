<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">

<!-- Mirrored from stardewvalleywiki.com/mediawiki/index.php?title=Modding:World_map&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2024 05:50:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:World map - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"f8e59282dcc695a83a92cf6e","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:World_map","wgTitle":"World map","wgCurRevisionId":164761,"wgRevisionId":0,"wgArticleId":14446,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:World_map","wgRelevantArticleId":14446,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0],"wgSiteNoticeId":
"1.0"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="load85db.css?lang=en&amp;modules=ext.dismissableSiteNotice.styles%7Cmediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:World map - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:World_map"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="article:modified_time" content="2024-04-06T18:01:53Z"/>
<meta property="article:published_time" content="2024-04-06T18:01:53Z"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:World map - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:World map - Stardew Valley Wiki","headline":"View source for Modding:World map - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:World map","identifier":"https:\/\/stardewvalleywiki.com\/Modding:World_map","url":"https:\/\/stardewvalleywiki.com\/Modding:World_map","description":"\u2190 Index","dateModified":"2024-04-06T18:01:53Z","datePublished":"2024-04-06T18:01:53Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_World_map rootpage-Modding_World_map stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3AWorld+map&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3AWorld+map" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:World map</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:World_map" title="Modding:World map">Modding:World map</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">← [[Modding:Index|Index]]

This page explains how to edit the world map shown in the game menu.

'''To edit location maps, see [[Modding:Maps]]. See also [[Modding:Index#Creating mods|an intro to making mods]].'''

==Data==
===Overview===
You can change the world map by editing the &lt;samp>Data/WorldMap&lt;/samp> asset. You can add custom maps for certain locations, apply texture overlays, add/edit tooltips, set player marker positioning, etc.

[[File:Modding map area.png|thumb|The default world map. The entire map is the Valley region, and the highlighted portion is an area with its own texture, tooltip/name, and player marker positioning.]]

The game divides the world map into three main concepts (see example at right):

* A '''region''' is a large-scale part of the world containing everything shown on the map. For example, the default world map is the Valley region.
* A '''map area''' is a subset of the world map which optionally add tooltips, scroll text, texture overlays, and player marker positioning info.
* A '''map area position''' matches in-game locations and [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] to the drawn world map. The game uses this to automatically position player markers at a relative position on the world map (e.g. so you can watch other players move across the location on the map).

In the data model:
* each entry is a region;
* each entry's &lt;samp>MapAreas&lt;/samp> are the region's map area;
* and each map area's &lt;samp>WorldPositions&lt;/samp> are the world map positions.

The game will find the first &lt;samp>WorldPositions&lt;/samp> entry which matches the current location, and assume you're in the region and map area which contains it. If there's none found, it defaults to the farm.

===Format===
The &lt;samp>Data/WorldMap&lt;/samp> data asset consists of a string → model lookup, where...
* The key is a [[Modding:Common data field types#Unique string ID|unique string ID]] for the region.
* The value is a model with the fields listed below.

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>BaseTexture&lt;/samp>
| ''(Optional)'' The base texture to draw for the map, if any. The first matching texture is applied. If map areas provide their own texture too, they're drawn on top of this base texture.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the texture entry within the list.
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture to draw.
|-
| &lt;samp>SourceRect&lt;/samp>
| ''(Optional)'' The pixel area within the &lt;samp>Texture&lt;/samp> to draw, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. Defaults to the entire texture image.
|-
| &lt;samp>MapPixelArea&lt;/samp>
| ''(Optional)'' The pixel area within the map which is covered by this area, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. If omitted, draws the entire &lt;samp>SourceRect&lt;/samp> area starting from the top-left corner of the map.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this texture should be selected. Defaults to always selected.
|}
|-
| &lt;samp>MapAreas&lt;/samp>
| The areas to draw on top of the &lt;samp>BaseTexture&lt;/samp>. These can provide tooltips, scroll text, texture overlays, and player marker positioning info.

This consists of a list of models with these fields:

{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the map area within the list.
|-
| &lt;samp>PixelArea&lt;/samp>
| The pixel area within the map which is covered by this area. This is used to set the default player marker position, and is the default value for pixel areas in other fields below.
|-
| &lt;samp>ScrollText&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the scroll text (shown at the bottom of the map when the player is in this area). Defaults to none.
|-
| &lt;samp>Textures&lt;/samp>
| ''(Optional)'' The image overlays to apply to the map. All matching textures are applied.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the texture entry within the area.
|-
| &lt;samp>Texture&lt;/samp>
| The asset name for the texture to draw.

If set to the exact string &lt;samp>MOD_FARM&lt;/samp>, the game will apply the texture for the current farm type (regardless of whether it's a vanilla or mod farm type). This should usually be used with &lt;code>"MapPixelArea": "0 43 131 61"&lt;/code> (the farm area on the default map).
|-
| &lt;samp>SourceRect&lt;/samp>
| ''(Optional)'' The pixel area within the &lt;samp>Texture&lt;/samp> to draw, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. Defaults to the entire texture image.
|-
| &lt;samp>MapPixelArea&lt;/samp>
| ''(Optional)'' The pixel area within the map which is covered by this area, specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. If omitted, defaults to the map area's &lt;samp>PixelArea&lt;/samp>.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this texture should be selected. Defaults to always selected.
|}
|-
| &lt;samp>Tooltips&lt;/samp>
| ''(Optional)'' The tooltips to show when hovering over parts of this area on the world map.

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for the tooltip within the area.
|-
| &lt;samp>Text&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the text to show in a tooltip.
|-
| &lt;samp>PixelArea&lt;/samp>
| ''(Optional)'' The pixel area within the map which can be hovered to show this tooltip. Defaults to the area's &lt;samp>PixelArea&lt;/samp>.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this tooltip should be available. Defaults to always available.
|-
| &lt;samp>KnownCondition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether the area is known by the player, so the &lt;samp>Text&lt;/samp> is shown as-is. If this is false, the tooltip text is replaced with &lt;samp>???&lt;/samp>. Defaults to always known.
|-
| &lt;samp>LeftNeighbor&lt;/samp>&lt;br />&lt;samp>RightNeighbor&lt;/samp>&lt;br />&lt;samp>UpNeighbor&lt;/samp>&lt;br />&lt;samp>DownNeighbor&lt;/samp>
| ''(Optional)'' When navigating the world map with a controller, the tooltip to snap to when the player moves the cursor while it's on this tooltip.

This must specify the area and tooltip formatted like &lt;samp>areaId/tooltipId&lt;/samp> (not case-sensitive). If there are multiple possible neighbors, they can be specified in comma-delimited form; the first valid one will be used.

For example, this will snap to the community center when the user moves the cursor to the right:
&lt;syntaxhighlight lang="js">
"RightNeighbor": "Town/CommunityCenter"
&lt;/syntaxhighlight>

A blank value will be ignored, but the game will log a warning if you specify neighbor IDs and none of them match. To silently ignore them instead (e.g. for a conditional location), you can add 'ignore' as an option:
&lt;syntaxhighlight lang="js">
"RightNeighbor": "Town/SomeOptionalLocation, ignore"
&lt;/syntaxhighlight>

See also the &lt;samp>MapNeighborIdAliases&lt;/samp> field in the region data.
|}
|-
| &lt;samp>WorldPositions&lt;/samp>
| ''(Optional)'' The in-world locations and [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] to match to this map area. The game uses this to automatically position player markers at a relative position on the world map (e.g. so you can watch other players move across the location on the map).

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the area.
|-
| &lt;samp>LocationContext&lt;/samp>
| ''(Optional)'' The location context in which this world position applies. The vanilla contexts are &lt;samp>Default&lt;/samp> (valley) and &lt;samp>Island&lt;/samp> ([[Ginger Island]]).
|-
| &lt;samp>LocationName&lt;/samp>
| ''(Optional)'' The location name to which this world position applies. Any location within [[The Mines|the mines]] and the [[Skull Cavern]] will be &lt;samp>Mines&lt;/samp> and &lt;samp>SkullCave&lt;/samp> respectively, and festivals use the map asset name (like &lt;samp>Town-EggFestival&lt;/samp>).
|-
| &lt;samp>LocationNames&lt;/samp>
| ''(Optional)'' Equivalent to &lt;samp>LocationName&lt;/samp>, but you can specify multiple locations as an array.
|-
| &lt;samp>TileArea&lt;/samp>&lt;br />&lt;samp>MapPixelArea&lt;/samp>
| ''(Optional)'' The [[Modding:Modder Guide/Game Fundamentals#Tiles|tile area]] within the in-game location (&lt;samp>TileArea&lt;/samp>) and the equivalent pixel area on the world map (&lt;samp>MapPixelArea&lt;/samp>). These are used to calculate the position of a character or player within the map view, given their real position in-game. For example, if the player is in the top-right corner of the tile area in-game, they'll be shown in the top-right corner of the drawn area on the world map.

Both are specified as an object with &lt;samp>X&lt;/samp>, &lt;samp>Y&lt;/samp>, &lt;samp>Width&lt;/samp>, and &lt;samp>Height&lt;/samp> fields. &lt;samp>TileArea&lt;/samp> defaults to the entire location, and &lt;samp>MapPixelArea&lt;/samp> defaults to the map area's &lt;samp>PixelArea&lt;/samp>.
|-
| &lt;samp>ScrollText&lt;/samp>
| ''(Optional)'' A [[Modding:Tokenizable strings|tokenizable string]] for the scroll text shown at the bottom of the map when the player is within this position. Defaults to the map area's &lt;samp>ScrollText&lt;/samp>, if any.
|-
| &lt;samp>Condition&lt;/samp>
| ''(Optional)'' A [[Modding:Game state queries|game state query]] which indicates whether this entry should be applied. Defaults to always applied.
|-
| &lt;samp>ScrollTextZones&lt;/samp>
| ''(Optional, specialized)'' Smaller areas within the world map position which have their own scroll text (like "Mountains" vs "Mountain Lake" in the [[The Mountain|mountain area]]).

This consists of a list of models with these fields:
{| class="wikitable"
|-
! field
! effect
|-
| &lt;samp>Id&lt;/samp>
| The [[Modding:Common data field types#Unique string ID|unique string ID]] for this entry within the list.
|-
| &lt;samp>TileArea&lt;/samp>
| The tile area within the position's &lt;samp>TileArea&lt;/samp> for which this entry applies. See details on the parent field.
|-
| &lt;samp>ScrollText&lt;/samp>
| A [[Modding:Tokenizable strings|tokenizable string]] for the scroll text shown at the bottom of the map when the player is within this scroll text zone.
|}
|-
| &lt;samp>ExtendedTileArea&lt;/samp>
| ''(Optional, specialized)'' The [[Modding:Modder Guide/Game Fundamentals#Tiles|tile area]] within the in-game location to which this position applies, including tiles that are outside the &lt;samp>TileArea&lt;/samp>. The &lt;samp>ExtendedTileArea&lt;/samp> must fully contain &lt;samp>TileArea&lt;/samp>, since the latter won't be checked for the initial detection anymore.

For example, let's say we have this &lt;samp>ExtendedTileArea&lt;/samp> (the larger box) and &lt;samp>TileArea&lt;/samp> (the smaller box inside it), and the player is at position X:
&lt;pre>
┌────────────────────┐
│    ┌────────┐      │
│ X  │        │      │
│    │        │      │
│    └────────┘      │
└────────────────────┘
&lt;/pre>

In this case, the entry would be selected (since the player is inside the &lt;samp>ExtendedTileArea&lt;/samp>), and their coordinates would be shifted into the nearest &lt;samp>TileArea&lt;/samp> position:
&lt;pre>
┌────────────────────┐
│    ┌────────┐      │
│    │X       │      │
│    │        │      │
│    └────────┘      │
└────────────────────┘
&lt;/pre>

This is used for complex locations that use multiple tile areas to match a drawn map with a different layout. This can be omitted in most cases.
|}
|-
| &lt;samp>CustomFields&lt;/samp>
| The [[Modding:Common data field types#Custom fields|custom fields]] for this entry.
|}
|-
| &lt;samp>MapNeighborIdAliases&lt;/samp>
| ''(Optional)'' A set of aliases that can be used in tooltip fields like &lt;samp>LeftNeighbor&lt;/samp> instead of the specific values they represent. Aliases can't be recursive.

For example, this lets you use &lt;samp>Beach/FishShop&lt;/samp> in neighbor fields instead of specifying the specific tooltip IDs each time:
&lt;syntaxhighlight lang="js">
"MapNeighborIdAliases": {
    "Beach/FishShop": "Beach/FishShop_DefaultHours, Beach/FishShop_ExtendedHours"
}
&lt;/syntaxhighlight>
|}

===Example===
This [[Modding:Content Patcher|Content Patcher]] content pack adds a new world map for [[Ginger Island]]. If the player unlocked the [[Ginger Island#Beach Resort|beach resort]], it applies the beach resort texture.

{{#tag:syntaxhighlight|&lt;nowiki>
{
    "Format": "&lt;/nowiki>{{Content Patcher version}}&lt;nowiki>",
    "Changes": [
        // add world map edits
        {
            "Action": "EditData",
            "Target": "Data/WorldMap",
            "Entries": {
                "GingerIsland": {
                    "BaseTexture": [
                        {
                            "Id": "Default",
                            "Texture": "{{InternalAssetKey: assets/ginger-island.png}}"
                        }
                    ],
                    "MapAreas": [
                        // the Island South (dock) area
                        {
                            // basic info for the area within the map
                            "Id": "IslandSouth",
                            "PixelArea": { "X": 105, "Y": 105, "Width": 231, "Height": 240 },
                            "ScrollText": "Dock", // example only, should usually be translated

                            // a tooltip shown when hovering over the area on the map
                            "Tooltips": [
                                {
                                    "Id": "Dock",
                                    "Text": "Dock" // example only, should usually be translated
                                }
                            ],

                            // if the resort is unlocked, overlay a custom texture on top of the default Ginger Island map
                            "Textures": [
                                {
                                    "Id": "Resort",
                                    "Texture": "{{InternalAssetKey: assets/resort.png}}",
                                    "Condition": "PLAYER_HAS_FLAG Any Island_Resort"
                                }
                            ],

                            // the in-game locations that are part of this world map area
                            "WorldPositions": [
                                {
                                    "LocationName": "IslandSouth"
                                }
                            ]
                        }
                    ]
                }
            }
        }
    ]
}&lt;/nowiki>|lang=javascript}}

==Real-time positioning==
The world map generally shows players' positions in real-time. There are three main approaches to do this for a custom location.

===Automatic positioning (recommended)===
If the drawn map area closely matches the in-game location, the game can determine positions automatically based on the &lt;samp>PixelArea&lt;/samp> and &lt;samp>LocationName&lt;/samp> fields in &lt;samp>Data/WorldMap&lt;/samp>. For example, a player in the exact center of the in-game location will be drawn in the center of the drawn map area.

To do that:

# [[Options#Screenshots|Take a screenshot]] of the full in-game location.
# Open the screenshot in an image editor like [https://www.getpaint.net/ Paint.NET] or [https://www.gimp.org/ GIMP].
# Crop as needed, then rescale it to the size you want on the world map. Make sure you use 'nearest neighbor' as the scale algorithm.
# Redraw parts if needed to clean it up.

That's it! If you use that as the map area's texture in &lt;samp>Data/WorldMap&lt;/samp>, the game will be able to determine positions automatically. You can omit the &lt;samp>WorldPositions&lt;/samp> field with this approach.

===Manual positioning===
If the in-game layout doesn't match the drawn world map, you can use the &lt;samp>WorldPositions&lt;/samp> field in &lt;samp>Data/WorldMap&lt;/samp> to manually align positions between them. '''This can be tricky; usually [[#Automatic positioning (recommended)|automatic positioning]] is recommended instead.'''

For example, the mountain's map area was very stylized before Stardew Valley 1.6 (the mine and adventure guild were right next to each other, there were no islands, there was no water south of the guild, etc):
[[File:Modding - manual world map positioning 1.png|thumb|500px|none|The pre-1.6 [[mountain]]'s in-game location (top) and world map area (bottom).]]

With manual positioning, you add any number of ''world positions'' with a &lt;samp>TileArea&lt;/samp> (the [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] where the player is standing in the actual location) and &lt;samp>MapPixelArea&lt;/samp> (where that area is on the map). When the player is within the &lt;samp>TileArea&lt;/samp>, they'll be mapped to the relative position within the matching &lt;samp>MapPixelArea&lt;/samp>. For example, if they're in the exact center of the &lt;samp>TileArea&lt;/samp>, they'll be drawn in the center of the &lt;samp>MapPixelArea&lt;/samp>.

For example, you could divide the pre-1.6 mountain into multiple areas like this (see the [[#Format|data format]] for info on each field):
&lt;syntaxhighlight lang="js">
"WorldPositions": [
    {
        "Id": "Quarry",
        "LocationName": "Mountain",
        "TileArea": { "X": 95, "Y": 11, "Width": 36, "Height": 24 },
        "ExtendedTileArea": { "X": 95, "Y": 0, "Width": 255, "Height": 255 },
        "MapPixelArea": { "X": 236, "Y": 29, "Width": 28, "Height": 19 }
    },
    {
        "Id": "Lake_Guild",
        "LocationName": "Mountain",
        "TileArea": { "X": 73, "Y": 5, "Width": 22, "Height": 30 },
        "ExtendedTileArea": { "X": 73, "Y": 0, "Width": 22, "Height": 255 },
        "MapPixelArea": { "X": 227, "Y": 29, "Width": 9, "Height": 19 }
    },
    {
        "Id": "Lake_BetweenGuildAndMine",
        "LocationName": "Mountain",
        "TileArea": { "X": 57, "Y": 5, "Width": 16, "Height": 32 },
        "ExtendedTileArea": { "X": 57, "Y": 0, "Width": 16, "Height": 255 },
        "MapPixelArea": { "X": 224, "Y": 29, "Width": 3, "Height": 19 }
    },
    {
        "Id": "Lake_Mine",
        "LocationName": "Mountain",
        "TileArea": { "X": 52, "Y": 5, "Width": 5, "Height": 30 },
        "ExtendedTileArea": { "X": 52, "Y": 0, "Width": 5, "Height": 255 },
        "MapPixelArea": { "X": 220, "Y": 29, "Width": 4, "Height": 19 }
    },
    {
        "Id": "Lake_MineBridge",
        "LocationName": "Mountain",
        "TileArea": { "X": 44, "Y": 5, "Width": 8, "Height": 30 },
        "ExtendedTileArea": { "X": 44, "Y": 0, "Width": 8, "Height": 255 },
        "MapPixelArea": { "X": 210, "Y": 29, "Width": 10, "Height": 19 }
    },
    {
        "Id": "West",
        "LocationName": "Mountain",
        "TileArea": { "X": 0, "Y": 5, "Width": 44, "Height": 30 },
        "ExtendedTileArea": { "X": 0, "Y": 0, "Width": 44, "Height": 255 },
        "MapPixelArea": { "X": 175, "Y": 29, "Width": 35, "Height": 19 }
    },
    {
        "Id": "Default",
        "LocationName": "Mountain"
    }
]
&lt;/syntaxhighlight>

Here's a visual representation of those areas:
[[File:Modding - manual world map positioning 2.png|thumb|none|500px|The pre-1.6 [[mountain]]'s in-game location with highlighted &lt;samp>TileArea&lt;/samp> positions (top) and world map with highlighted &lt;samp>MapPixelArea&lt;/samp> positions (bottom).]]

Note how the area between the mine and adventurer's guild is wide in the location, but narrow on the drawn world map. When the player is walking across that part of the location, they'll be shown walking slowly across the equivalent location on the drawn map.

If the player is outside a &lt;samp>TileArea&lt;/samp> but within the &lt;samp>ExtendedTileArea&lt;/samp> (if set), their position is snapped to the nearest position within the &lt;samp>TileArea&lt;/samp>. For example, notice how the bottom of the location south of the carpenter shop isn't part of the red area. It ''is'' part of that area's &lt;samp>ExtendedTileArea&lt;/samp> though, so a player there will be snapped to the bottom of the red area on the world map.

===Fixed positions===
For very complex locations, real-time positions on the world map may not be possible (e.g. because the drawn world map is very stylized). In that case you can set a fixed position (or multiple fixed positions) on the world map.

For example, this draws the player marker at one of five world map positions depending where they are in town. The &lt;samp>TileArea&lt;/samp> indicates the [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] where the player is standing in the actual town, and &lt;samp>MapPixelArea&lt;/samp> is where to draw them on the map. Note that the latter is always 1x1 pixel in the code below, which means that anywhere within the &lt;samp>TileArea&lt;/samp> will be placed on that specific pixel on the world map. The last entry has no &lt;samp>TileArea&lt;/samp>, which means it applies to all positions that didn't match a previous entry.
&lt;syntaxhighlight lang="js">
"WorldPositions": [
    {
        "Id": "East_NearJojaMart",
        "LocationName": "Town",
        "TileArea": { "X": 85, "Y": 0, "Width": 255, "Height": 68 },
        "MapPixelArea": { "X": 225, "Y": 81, "Width": 1, "Height": 1 }
    },
    {
        "Id": "East_NearMuseum",
        "LocationName": "Town",
        "TileArea": { "X": 81, "Y": 68, "Width": 255, "Height": 255 },
        "MapPixelArea": { "X": 220, "Y": 108, "Width": 1, "Height": 1 }
    },
    {
        "Id": "West_North",
        "LocationName": "Town",
        "TileArea": { "X": 0, "Y": 0, "Width": 85, "Height": 43 },
        "MapPixelArea": { "X": 178, "Y": 64, "Width": 1, "Height": 1 }
    },
    {
        "Id": "West_Center",
        "LocationName": "Town",
        "TileArea": { "X": 0, "Y": 43, "Width": 85, "Height": 33 },
        "MapPixelArea": { "X": 175, "Y": 88, "Width": 1, "Height": 1 }
    },
    {
        "Id": "West_South",
        "LocationName": "Town",
        "MapPixelArea": { "X": 182, "Y": 109, "Width": 0, "Height": 0 }
    }
]
&lt;/syntaxhighlight>

==Interacting with the world map in C#==
SMAPI mods (written in C#) can use the game's &lt;samp>StardewValley.WorldMaps.WorldMapManager&lt;/samp> class to interact with the world map.

For example, you can get the pixel position on the world map which matches an in-game tile coordinate (if the location appears in &lt;samp>Data/WorldMap&lt;/samp>):

&lt;syntaxhighlight lang="c#">
MapAreaPosition mapAreaPosition = WorldMapManager.GetPositionData(location, tile);
if (mapAreaPosition != null)
    return mapAreaPosition.GetMapPixelPosition(location, tile);
&lt;/syntaxhighlight>

==Debug view==
You can run &lt;samp>debug worldMapLines&lt;/samp> in the SMAPI console window to enable the world map's debug view. This will outline map areas (black), map area positions (blue), and tooltips (green):

[[File:Modding - world map debug mode.png|thumb|500px|none|The world map with the debug view enabled.]]

You can optionally specify which types to highlight, like &lt;samp>debug worldMapLines areas positions tooltips&lt;/samp>.

[[Category:Modding]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Template used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Content_Patcher_version" title="Template:Content Patcher version">Template:Content Patcher version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Content_Patcher_version&amp;action=edit" title="Template:Content Patcher version">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:World_map" title="Modding:World map">Modding:World map</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:World_map">https://stardewvalleywiki.com/Modding:World_map</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:World_map&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":530});});</script>		</body>
		
<!-- Mirrored from stardewvalleywiki.com/mediawiki/index.php?title=Modding:World_map&action=edit by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 11 Apr 2024 05:50:18 GMT -->
</html>
		