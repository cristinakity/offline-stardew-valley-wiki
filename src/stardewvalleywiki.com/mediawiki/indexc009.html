<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">


<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8"/>
<title>View source for Modding:Schedule data - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!0,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"01ea05acae6565011a128c02","wgCSPNonce":!1,"wgCanonicalNamespace":"Modding","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"Modding:Schedule_data","wgTitle":"Schedule data","wgCurRevisionId":152760,"wgRevisionId":0,"wgArticleId":7289,"wgIsArticle":!1,"wgIsRedirect":!1,"wgAction":"edit","wgUserName":null,"wgUserGroups":["*"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"Modding:Schedule_data","wgRelevantArticleId":7289,"wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFMode":"stable","wgMFAmc":!1,"wgMFAmcOutreachActive":!1,
"wgMFAmcOutreachUserEligible":!1,"wgMFLazyLoadImages":!0,"wgMFDisplayWikibaseDescriptions":{"search":!1,"nearby":!1,"watchlist":!1,"tagline":!1},"wgMFIsPageContentModelEditable":!0,"wgCargoMapClusteringMinimum":80,"wgCargoMonthNames":["January","February","March","April","May","June","July","August","September","October","November","December"],"wgCargoMonthNamesShort":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgCargoWeekDays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"wgCargoWeekDaysShort":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"wgMinervaPermissions":{"watch":!0,"talk":!1},"wgMinervaFeatures":{"beta":!1,"donate":!0,"mobileOptionsLink":!0,"categories":!1,"pageIssues":!0,"talkAtTop":!1,"historyInPageActions":!1,"overflowSubmenu":!1,"tabsOnSpecials":!1,"personalMenu":!1,"mainMenuExpanded":!1,"simplifiedTalk":!0},"wgMinervaDownloadNamespaces":[0]};RLSTATE={
"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","mediawiki.ui.input":"ready","mediawiki.ui.checkbox":"ready","skins.minerva.base.styles":"ready","skins.minerva.content.styles":"ready","skins.minerva.content.styles.images":"ready","mediawiki.hlist":"ready","mediawiki.ui.icon":"ready","mediawiki.ui.button":"ready","skins.minerva.icons.wikimedia":"ready","skins.minerva.mainMenu.icons":"ready","skins.minerva.mainMenu.styles":"ready","mobile.init.styles":"ready","mobile.messageBox.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","skins.minerva.options","skins.minerva.scripts","mobile.init"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="loadb780.css?lang=en&amp;modules=mediawiki.hlist%7Cmediawiki.ui.button%2Ccheckbox%2Cicon%2Cinput%7Cmobile.init.styles%7Cmobile.messageBox.styles%7Cskins.minerva.base.styles%7Cskins.minerva.content.styles%7Cskins.minerva.content.styles.images%7Cskins.minerva.icons.wikimedia%7Cskins.minerva.mainMenu.icons%2Cstyles&amp;only=styles&amp;skin=minerva"/>
<script async="" src="loadc82b.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=minerva&amp;target=mobile"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load1154.css?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=minerva"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="description" content="You do not have permission to edit this page, for the following reason:"/>
<meta name="theme-color" content="#eaecf0"/>
<meta name="viewport" content="initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"/>
<link rel="manifest" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/api.php?action=webapp-manifest"/>
<link rel="shortcut icon" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="license" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<meta property="og:title" content="View source for Modding:Schedule data - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://stardewvalleywiki.com/Modding:Schedule_data"/>
<meta property="og:description" content="← Index"/>
<meta property="og:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="article:modified_time" content="2024-01-17T20:35:56Z"/>
<meta property="article:published_time" content="2024-01-17T20:35:56Z"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="View source for Modding:Schedule data - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← Index"/>
<meta property="twitter:image" content="https://stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"View source for Modding:Schedule data - Stardew Valley Wiki","headline":"View source for Modding:Schedule data - Stardew Valley Wiki","mainEntityOfPage":"View source for Modding:Schedule data","identifier":"https:\/\/stardewvalleywiki.com\/Modding:Schedule_data","url":"https:\/\/stardewvalleywiki.com\/Modding:Schedule_data","description":"\u2190 Index","dateModified":"2024-01-17T20:35:56Z","datePublished":"2024-01-17T20:35:56Z","image":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-Modding_Schedule_data rootpage-Modding_Schedule_data stable skin-minerva action-edit skin-vector-legacy">
<div id="mw-mf-viewport">
	<div id="mw-mf-page-center">
		<a class="mw-mf-page-center__mask" href="#"></a>
		<header class="header-container header-chrome">
			<form class="header" action="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php" method="get">
				<nav class="navigation-drawer toggle-list view-border-box">
					<input type="checkbox" id="main-menu-input" class="toggle-list__checkbox" role="button" aria-labelledby="mw-mf-main-menu-button">
					<label for="main-menu-input" id="mw-mf-main-menu-button"
						class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-menu-base20 mw-ui-icon-flush-left toggle-list__toggle"
						title="Open main menu" data-event-name="ui.mainmenu">Open main menu</label>
					<div id="mw-mf-page-left" class="menu toggle-list__list view-border-box">
	<ul id="p-navigation">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-home" data-event-name="menu.home"><span>Home</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Special:Random#/random" class="mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-die " data-event-name="menu.random"><span>Random</span></a>
			</li>
	</ul>
	<ul id="p-personal">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:UserLogin&amp;returnto=Modding%3ASchedule+data&amp;returntoquery=action%3Dedit" class="menu__item--login mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-logIn " data-event-name="menu.login"><span>Log in</span></a>
			</li>
	</ul>
	<ul id="pt-preferences">
			<li class="jsonly">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Special:MobileOptions&amp;returnto=Modding%3ASchedule+data" class="menu__item--settings mw-ui-icon mw-ui-icon-before mw-ui-icon-minerva-settings " data-event-name="menu.settings"><span>Settings</span></a>
			</li>
	</ul>
	<ul class="hlist">
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" class="" data-event-name=""><span>About Stardew Valley Wiki</span></a>
			</li>
			<li class="">
			    <a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" class="" data-event-name=""><span>Disclaimers</span></a>
			</li>
	</ul>
</div>

					<label class="main-menu-mask" for="main-menu-input"></label>
				</nav>
				<div class="branding-box">
					<a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki">
						<span>Stardew Valley Wiki</span>
						
					</a>
				</div>
				<div class="search-box">
					<input class="search mw-ui-background-icon-search skin-minerva-search-trigger" type="search" name="search" id="searchInput"
						autocomplete="off" placeholder="Search Stardew Valley Wiki" aria-label="Search Stardew Valley Wiki"
						value="">
				</div>
				<nav class="minerva-user-navigation" aria-label="User navigation">
					<div><button id="searchIcon" class="mw-ui-icon mw-ui-icon-element mw-ui-icon-wikimedia-search-base20 skin-minerva-search-trigger" type="submit">Search</button></div>
					
				</nav>
			</form>
		</header>
		<main id="content" class="mw-body">
			<div class="banner-container">
			<div id="siteNotice"></div>
			</div>
			
			<div class="pre-content heading-holder">
				<div class="page-heading">
					<h1 id="section_0">View source for Modding:Schedule data</h1>
					<div class="tagline"></div>
				</div>
				
				
				
				<div class="minerva__subtitle">← <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Schedule_data" title="Modding:Schedule data">Modding:Schedule data</a></div>
			</div>
			
			<div id="bodyContent" class="content"><div id="mw-content-text"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><p>You do not have permission to edit this page, for the following reason:
</p>
<div class="permissions-errors">
<p>The action you have requested is limited to users in the group: <a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Stardew_Valley_Wiki:Users&amp;action=edit&amp;redlink=1" class="new" title="Stardew Valley Wiki:Users (page does not exist)">Users</a>.
</p>
</div><hr />
<p>You can view and copy the source of this page.
</p><textarea readonly="" accesskey="," id="wpTextbox1" cols="80" rows="25" style="" class="mw-editfont-monospace mw-ui-input" lang="en" dir="ltr" name="wpTextbox1">← [[Modding:Index|Index]]

This page explains how the game stores and parses NPC schedule data, which determines where NPCs go and what they do when they get there. This is an advanced guide for mod developers.

==Raw data==
Schedule data is stored in &lt;samp>Content/Characters/schedules/*.xnb&lt;/samp> files (one per character), which can be [[Modding:Editing XNB files#unpacking|unpacked for editing]]. Here's the raw data for Abigail as of {{version|1.5.1}} for reference:

{{collapse|Data|content=&lt;syntaxhighlight lang="json">
{
  "rain": "900 SeedShop 9 5 0/1100 SeedShop 13 20 0/1300 SeedShop 39 5 0/1500 SeedShop 7 9 2/1900 SeedShop 6 4 0/2200 SeedShop 1 9 3 abigail_sleep",
  "rain2": "900 SeedShop 34 5 0/1100 SeedShop 9 17 3/1400 Saloon 42 17 2 abigail_sit_down/2000 SeedShop 1 9 3 abigail_sleep",
  "winter_15": "900 SeedShop 39 5 0/1030 ScienceHouse 5 19 1/1430 Beach 30 34 2 \"Strings\\schedules\\Abigail:winter_15.000\"/2400 SeedShop 1 9 3 abigail_sleep",
  "marriage_Mon": "830 SeedShop 6 19 0 \"Strings\\schedules\\Abigail:marriage_Mon.000\"/1300 Town 47 87 0 \"Strings\\schedules\\Abigail:marriage_Mon.001\"/1700 Saloon 33 18 0 \"Strings\\schedules\\Abigail:marriage_Mon.002\"/2030 BusStop -1 23 3",
  "marriage_Fri": "800 SeedShop 36 9 0 \"Strings\\schedules\\Abigail:marriage_Fri.000\"/1100 Mountain 49 31 2 abigail_flute/1500 Saloon 42 17 2 abigail_sit_down \"Strings\\schedules\\Abigail:marriage_Fri.001\"/2030 BusStop -1 23 3",
  "fall_Mon": "900 SeedShop 10 5 0/1100 Beach 13 39 2/1800 SeedShop 1 9 3 abigail_sleep",
  "6": "900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1500 Mountain 46 23 2 abigail_flute/2000 SeedShop 1 9 3 abigail_sleep",
  "16": "GOTO 6",
  "spring_4": "900 SeedShop 11 5 0 \"Strings\\schedules\\Abigail:spring_4.000\"/1230 Hospital 13 14 0 \"Strings\\schedules\\Abigail:spring_4.001\"/1330 Hospital 4 6 1 \"Strings\\schedules\\Abigail:spring_4.002\"/1600 SeedShop 10 5 0/2000 SeedShop 1 9 3 abigail_sleep",
  "Sun": "900 SeedShop 4 5 0/1030 SeedShop 20 5 1 \"Strings\\schedules\\Abigail:Sun.000\"/1300 Forest 14 40 2/2000 SeedShop 1 9 3 abigail_sleep",
  "11_6": "GOTO spring",
  "25_6": "GOTO spring",
  "11": "NOT friendship Sebastian 6/1000 SebastianRoom 5 4 2 abigail_sit_down/1700 SeedShop 1 9 3 abigail_sleep",
  "25": "NOT friendship Sebastian 6/GOTO 11",
  "Wed": "1000 ArchaeologyHouse 11 9 0/1800 Town 47 87 0/2200 SeedShop 1 9 3 abigail_sleep",
  "Fri": "900 SeedShop 34 5 0/1100 SeedShop 9 17 3/1500 Saloon 42 17 2 abigail_sit_down/2100 SeedShop 1 9 3 abigail_sleep",
  "fall": "900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1300 BusStop 22 5 2/1700 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep",
  "winter": "900 SeedShop 39 5 0/1030 ScienceHouse 5 19 1/1430 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep",
  "summer": "900 SeedShop 39 5 0/1030 Railroad 30 45 0/1400 Mountain 49 31 1/1740 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep",
  "spring": "900 SeedShop 39 5 0/1030 SeedShop 2 20 3/1300 Town 73 54 2/1630 SeedShop 3 6 0 abigail_videogames/1930 SeedShop 1 9 3 abigail_sleep"
}
&lt;/syntaxhighlight>}}

==Schedule key==
Each schedule has a key which is used to decide when it applies. The key must be one of the exact formats below (it's not dynamic). If multiple schedules apply, the first match in the order listed here is used.

Notes:
* Most text is case-sensitive (''e.g.,'' &lt;samp>Mon&lt;/samp> is not the same as &lt;samp>mon&lt;/samp>).
* The game's logic for schedule keys is in &lt;samp>NPC::getSchedule&lt;/samp>.

===Marriage schedules===
These apply if the NPC is married to a player (not necessarily the main player). '''Married NPCs don't use any other schedule keys.''' If the marriage keys don't match, they won't have a schedule for that day.

{| class="wikitable"
|-
! syntax
! summary
|-
| &lt;samp>marriage_{{t|season}}_{{t|day of month}}&lt;/samp>
| Applies on the given date.&lt;br />&lt;small>Example: &lt;samp>marriage_spring_26&lt;/samp>&lt;/small>
|-
| &lt;samp>marriageJob&lt;/samp>
| Used by Harvey on Tuesday/Thursday, Maru on Tuesday/Thursday, Penny on Tuesday/Wednesday/Friday.
|-
| &lt;samp>marriage_{{t|day of week}}&lt;/samp>
| Applies on the given day of week when not raining.&lt;br />&lt;small>Example: &lt;samp>marriage_Mon&lt;/samp>&lt;/small>
|}

===Normal schedules===
These schedules apply to any non-marriage NPC. If none of these keys match, they won't have a schedule for that day.

{| class="wikitable"
|-
! syntax
! summary
|-
| &lt;samp>{{t|season}}_{{t|day of month}}&lt;/samp>
| Applies on the given date.&lt;br />&lt;small>Example: &lt;samp>spring_15&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|day of month}}_{{t|hearts}}&lt;/samp>
| Applies on the given day of month if ''any'' player has at least that many [[friendship|hearts]] with the NPC. If multiple schedules apply, the one with the highest heart number is used.&lt;br />&lt;small>Example: &lt;samp>11_6&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|day of month}}&lt;/samp>
| Applies on the given day of month.&lt;br />&lt;small>Example: &lt;samp>16&lt;/samp>&lt;/small>
|-
| &lt;samp>bus&lt;/samp>
| For [[Pam]] only, applies if the bus is repaired.
|-
| &lt;samp>rain2&lt;/samp>
| 50% chance of applying on rainy days.
|-
| &lt;samp>rain&lt;/samp>
| Applies on rainy days.
|-
| &lt;samp>{{t|season}}_{{t|day of week}}_{{t|hearts}}&lt;/samp>
| Applies in the given season and day of week, if ''any'' player has at least that many [[friendship|hearts]] with the NPC. If multiple schedules apply, the one with the highest heart number is used.&lt;br />&lt;small>Example: &lt;samp>spring_Mon_6&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|season}}_{{t|day of week}}&lt;/samp>
| Applies in the given season and day of week.&lt;br />&lt;small>Example: &lt;samp>spring_Mon&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|day of week}}&lt;/samp>
| Applies in the given day of week.&lt;br />&lt;small>Example: &lt;samp>Mon&lt;/samp>&lt;/small>
|-
| &lt;samp>{{t|season}}&lt;/samp>
| Applies in the given season.&lt;br />&lt;small>Example: &lt;samp>spring&lt;/samp>&lt;/small>
|-
| &lt;samp>spring_{{t|day of week}}&lt;/samp>
| Applies (in any season) on the given day of week.&lt;br />&lt;small>Example: &lt;samp>spring_Mon&lt;/samp>&lt;/small>
|-
| &lt;samp>spring&lt;/samp>
| Always applies. This schedule is also used as a default in some cases. DO NOT REMOVE THIS ENTRY. THAT WILL BREAK THE GAME.
|-
| &lt;samp>default&lt;/samp>
| Also used as a default sometimes. It's okay for this one to not exist, spring will be used instead.
|}

==Schedule script==
Each schedule entry value has an arbitrary number of slash-delimited schedule commands matching one of the formats below.

===Initial commands===
A script may have one initial command as the first field in the script, before the first &lt;samp>/&lt;/samp> character. The &lt;samp>GOTO&lt;/samp> command can also appear in the next two fields after &lt;samp>MAIL&lt;/samp>, or the next field after &lt;samp>NOT&lt;/samp>.

{| class="wikitable"
|-
! command
! description
|-
| &lt;samp>GOTO {{t|key}}&lt;/samp>
| (Note: this line only applies if &lt;samp>GOTO&lt;/samp> is the first command. If it's not, see &lt;samp>GOTO&lt;/samp> below.)&lt;br />End the current script and load the schedule with the given key instead. The key does not need to be one of the standard keys and can be any arbitrary string. If the key is "season", the current season name is used instead. If the schedule doesn't exist or can't be parsed, the &lt;samp>spring&lt;/samp> schedule will be used instead.&lt;br />&lt;small>Example: &lt;samp>GOTO spring&lt;/samp>&lt;/small>
|-
| &lt;samp>NOT friendship {{t|npc name}} {{t|hearts}}&lt;/samp>
| End the current script if ''any'' player ''does'' have at least that many [[friendship|hearts]] with any of the named NPCs (can list multiple). If the script is ended, the &lt;samp>spring&lt;/samp> schedule is used instead.&lt;br />&lt;small>Example: &lt;samp>NOT friendship Sebastian 6 Abigail 3&lt;/samp> (script ends if any player has 6+ hearts with Sebastian and/or 3+ hearts with Abigail).&lt;/small>
|-
| &lt;samp>NOT&lt;/samp>
| Command ignored if the next word is not &lt;samp>friendship&lt;/samp>.
|-
| &lt;samp>MAIL {{t|letter ID}}&lt;/samp>
| Runs the next command if the player did ''not'' receive the given letter ID or world state ID (see &lt;samp>HasFlag&lt;/samp> in the [https://github.com/Pathoschild/StardewMods/tree/develop/ContentPatcher Content Patcher documentation]); else continues from the command after that.&lt;br />&lt;small>Example: &lt;samp>MAIL ccVault/GOTO spring/GOTO summer&lt;/samp> (runs &lt;samp>GOTO summer&lt;/samp> if the bus is repaired, or &lt;samp>GOTO spring&lt;/samp> if it isn't; not limited to &lt;samp>GOTO&lt;/samp> commands).&lt;/small>
|-
| &lt;samp>GOTO {{t|key}}&lt;/samp>
| (Note: this line only applies if &lt;samp>GOTO&lt;/samp> is after &lt;samp>NOT&lt;/samp> or &lt;samp>MAIL&lt;/samp>. If it's not, see &lt;samp>GOTO&lt;/samp> above.)&lt;br />End the current script and load the schedule with the given key instead. If the key is "season", the current season name is used instead. If the key is "NO_SCHEDULE", the NPC has no schedule for the day. If the schedule doesn't exist or can't be parsed, the game crashes (or shows an error if playing with SMAPI).&lt;br />&lt;small>Example: &lt;samp>GOTO NO_SCHEDULE&lt;/samp>&lt;/small>
|}

===Schedule points===
The rest of the schedule script consists of slash-delimited entries, each containing space-separated fields which specify a start time, destination, and what to do when the NPC reaches it:
: &lt;samp>{{t|time}} {{o|location}} {{t|tileX}} {{t|tileY}} {{o|facingDirection}} {{o|animation}} {{o|dialogue}}&lt;/samp>

If the &lt;samp>location&lt;/samp> field is omitted, the rest of the fields are parsed as normal. The other optional fields must be in sequential order (''e.g.,'' you can skip &lt;samp>animation&lt;/samp> and &lt;samp>dialogue&lt;/samp>, but you can't skip &lt;samp>facingDirection&lt;/samp> and then specify &lt;samp>animation&lt;/samp> and &lt;samp>dialogue&lt;/samp>). The exception is &lt;samp>dialogue&lt;/samp>. The &lt;samp>dialogue&lt;/samp> can be specified without the &lt;samp>animation&lt;/samp>.

{| class="wikitable"
|-
! field
! description
|-
| &lt;samp>time&lt;/samp>
| The time at which the schedule event begins, in military time (24 hour format, no colon). The time may be preceded with the single character '&lt;samp>a&lt;/samp>' to indicate that the event should end (that is, the NPC should arrive at the destination) at the given time. In this case, the game will calculate when the event needs to begin. However, the event will never begin before the time specified for the previous event.

In the unmodified game, this is only used to synchronise Emily's and Sandy's schedules on Fall 15.
|-
| &lt;samp>location&lt;/samp>
| &lt;p>''(optional)'' The location name the NPC should walk towards. If omitted, defaults to the previous map, or if it's the first, it defaults to the [[Bus Stop|bus stop]] (if married to a player) or their default location.&lt;/p>&lt;p>'''Note:''' the game has special logic for unlockable locations. If this is JojaMart/Railroad and it's not available yet, the game gets the replacement destination from the first entry in the &lt;samp>{{t|location}}_Replacement&lt;/samp> schedule if available; otherwise it switches to the &lt;samp>default&lt;/samp> schedule if available, else &lt;samp>spring&lt;/samp>. If this is CommunityCenter and it's not available yet, the game switches to the &lt;samp>default&lt;/samp> schedule if available, else &lt;samp>spring&lt;/samp>.&lt;/p>&lt;p>'''Note also:''' if the location is &lt;code>bed&lt;/code>, the game will ignore the remaining parameters from this schedule point and attempt to load a "home" destination (map and coordinates): the warp out of &lt;code>BusStop&lt;/code> back to the &lt;code>Farm&lt;/code> for married NPCs, or for unmarried ones, the last schedule entry from the &lt;code>default&lt;/code> or &lt;code>spring&lt;/code> schedule (or the NPC's default location, if neither schedule can be loaded or parsed correctly). The NPC's [[Modding:NPC_data#Sleep_animation|sleeping animation]] (&lt;code>&amp;lt;lowercase name&amp;gt;_sleep&lt;/code>) from &lt;code>Data/animationDescriptions&lt;/code> will be set to play on arrival if it is defined.&lt;/p>
|-
| &lt;samp>tileX&lt;/samp>&lt;br />&lt;samp>tileY&lt;/samp>
| The X and Y [[Modding:Modder Guide/Game Fundamentals#Tiles|tile coordinates]] the NPC should walk towards.
|-
| &lt;samp>facingDirection&lt;/samp>
| ''(optional)'' The direction to face after reaching the destination. The possible values are 0 (up), 1 (right), 2 (down), and 3 (left). Defaults to down.
|-
| &lt;samp>animation&lt;/samp>
| ''(optional)'' The animation to play when the NPC reaches the destination. This must be a key that appears in the &lt;samp>Content/Data/animationDescriptions.xnb&lt;/samp> file. Each key entry has three required parts: entry frames/repeat frames/leaving frames. The numbers on them refer to the [[Modding:NPC data#Overworld sprites|overworld sprite frame]]. The entry frames will play after arriving at the schedule point. Then the repeat frames will loop until the end of schedule time. Finally, the leaving frames will play before moving on to the next schedule point. Note that each frame is around 120ms so duplicates of frame is used to get desired looking animation. &lt;br />&lt;br /> The full format is &lt;samp>entry frames/repeat frames/leaving frames/message key/offset X Y/laying_down&lt;/samp>. If a message key is given, the NPC will repeat that message if you talk to them while they are performing the animation. (TODO: this is likely a "busy chat", which has fewer heart points, crosscheck.) &lt;samp>offset X Y&lt;/samp> lets you offset their sprite (in pixels). &lt;samp>laying_down&lt;/samp> will hide the shadow. If you want to use offset or laying_down without a message, leave that spot empty. Example: offset/laying down without message: &lt;samp>"haley_beach_towel": "20 20 21 21 21 21 21/22/21 21 20//laying_down/offset 0 16"&lt;/samp>&lt;br />&lt;br />Additionally, there are a few special animations. &lt;samp>sleep&lt;/samp> anywhere in an animation name causes the NPC to go to sleep (which, among other things, prevents players from gifting or talking to the NPC while the animation is active.) The specific animation &lt;samp>NPCName_sleep&lt;/samp> (with the NPCName fully lowercased) automatically used by spouses when they turn in for the night, and by NPCs coming home from Ginger Island. &lt;samp>square_X_Y_facing&lt;/samp> causes NPCs to make random movements in a rectangle of at most X by Y (it can be less), centered at the schedule point. They will occasionally pause and face the &lt;samp>facing&lt;/samp> direction. &lt;samp>change_beach&lt;/samp> and &lt;samp>change_normal&lt;/samp> cause NPCs to change into and out of their beach outfits, and is used by Ginger Island resort schedules.
|-
| &lt;samp>dialogue&lt;/samp>
| &lt;p>''(optional)'' The dialogue the NPC should use when they reach their destination. This must be an [[Modding:Modder Guide/APIs/Content|asset name]] and entry key in this exact format (including quotes): &lt;samp>"assetName:key"&lt;/samp>. Any slashes in the asset name should be double backslashes (&lt;samp>\\&lt;/samp>). The format of the entry key doesn't matter, it just needs to match one in the file.&lt;/p>&lt;p>For example, &lt;samp>"Strings\\schedules\\Abigail:Sun.000"&lt;/samp> means "open the file at &lt;samp>Strings\schedules\Abigail.xnb&lt;/samp> and get the text of the &lt;samp>Sun.000&lt;/samp> key".&lt;/p>&lt;p>&lt;small>Tip: If you want schedule dialogue in marriage schedules, include the exact string &lt;samp>marriage&lt;/samp> somewhere in the key, that will only show it to the npc's spouse.&lt;/small>
|}

For example, consider this schedule entry in Abigail's schedule:
&lt;pre>1300 Town 47 87 0 "Strings\\schedules\\Abigail:marriage_Mon.001"&lt;/pre>

At 13:00 (1pm), Abigail will begin walking to tile (47, 87) in the Town location. When she reaches it, she'll face direction 0 (up) and say "''Hey, @. I like to relax here... it's so peaceful.''"

==Potential issues==
* Using a time of 600 (when the day starts) for an event may not work. Try using 610 if you want an event early in the morning and the NPC doesn't move if you use 600.

[[Category:Modding]]

[[es:Modding:Datos de horarios]]
[[ru:Модификации:Расписание]]
</textarea><div class="templatesUsed"><div class="mw-templatesUsedExplanation"><p>Templates used on this page:
</p></div><ul>
<li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Collapse" title="Template:Collapse">Template:Collapse</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Collapse&amp;action=edit" title="Template:Collapse">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:O" title="Template:O">Template:O</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:O&amp;action=edit" title="Template:O">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:T" title="Template:T">Template:T</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:T&amp;action=edit" title="Template:T">view source</a>) </li><li><a href="../../external.html?link=https://stardewvalleywiki.com/Template:Version" title="Template:Version">Template:Version</a> (<a href="../../external.html?link=https://stardewvalleywiki.com/mediawiki/index.php?title=Template:Version&amp;action=edit" title="Template:Version">view source</a>) </li></ul></div><p id="mw-returnto">Return to <a href="../../external.html?link=https://stardewvalleywiki.com/Modding:Schedule_data" title="Modding:Schedule data">Modding:Schedule data</a>.</p>
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="../../external.html?link=https://stardewvalleywiki.com/Modding:Schedule_data">https://stardewvalleywiki.com/Modding:Schedule_data</a>"</div>
</div>
			<div class="post-content" id="page-secondary-actions">
			
			</div>
		</main>
		<footer class="mw-footer minerva-footer">
		
		<div class="post-content footer-content">
			
			<h2>Stardew Valley Wiki</h2>
			<div class="license">Content is available under <a class="external" rel="nofollow" href="../../external.html?link=https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a> unless otherwise noted.</div>
			<ul class="footer-info hlist hlist-separated">
				
			</ul>
			<ul class="footer-places hlist hlist-separated">
				<li id="footer-places-privacy"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:Privacy_policy" title="Stardew Valley Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:About" title="Stardew Valley Wiki:About">About Stardew Valley Wiki</a></li><li id="footer-places-disclaimer"><a href="../../external.html?link=https://stardewvalleywiki.com/Stardew_Valley_Wiki:General_disclaimer" title="Stardew Valley Wiki:General disclaimer">Disclaimers</a></li><li id="footer-places-desktop-toggle"><a id="mw-mf-display-toggle" href="../../external.html?link=http://stardewvalleywiki.com/mediawiki/index.php?title=Modding:Schedule_data&amp;action=edit&amp;mobileaction=toggle_view_desktop">Desktop</a></li>
			</ul>
		</div>
		</footer>
	</div>
</div>
<div class="mw-notification-area" data-mw="interface"></div>
<!-- v:8.3.0 -->

<script src="../../external.html?link=https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(window.NORLQ=window.NORLQ||[]).push(function(){var ns,i,p,img;ns=document.getElementsByTagName('noscript');for(i=0;i<ns.length;i++){p=ns[i].nextSibling;if(p&&p.className&&p.className.indexOf('lazy-image-placeholder')>-1){img=document.createElement('img');img.setAttribute('src',p.getAttribute('data-src'));img.setAttribute('width',p.getAttribute('data-width'));img.setAttribute('height',p.getAttribute('data-height'));img.setAttribute('alt',p.getAttribute('data-alt'));p.parentNode.replaceChild(img,p);}}});</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":79});});</script>		</body>
		

</html>
		


