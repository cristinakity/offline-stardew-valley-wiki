
<!DOCTYPE html>
<html class="client-nojs" lang="zh" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>模组:常用方法 - Stardew Valley Wiki</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"zh","wgMonthNames":["","1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],"wgRequestId":"0a905c927b9ecf60e299227a","wgCSPNonce":!1,"wgCanonicalNamespace":"模组","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":570,"wgPageName":"模组:常用方法","wgTitle":"常用方法","wgCurRevisionId":49422,"wgRevisionId":49422,"wgArticleId":1852,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["待扩充页面"],"wgPageContentLanguage":"zh","wgPageContentModel":"wikitext","wgRelevantPageName":"模组:常用方法","wgRelevantArticleId":1852,"wgUserVariant":"zh","wgIsProbablyEditable":!1,"wgRelevantPageIsProbablyEditable":!1,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgMFDisplayWikibaseDescriptions":{"search":
!1,"nearby":!1,"watchlist":!1,"tagline":!1}};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.pygments":"ready","skins.vector.styles.legacy":"ready","mediawiki.toc.styles":"ready"};RLPAGEMODULES=["site","mediawiki.page.startup","mediawiki.page.ready","mediawiki.toc","skins.vector.legacy.js"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="/mediawiki/load.php?lang=zh&amp;modules=ext.pygments%7Cmediawiki.toc.styles%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="/mediawiki/load.php?lang=zh&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/mediawiki/load.php?lang=zh&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.35.1"/>
<meta name="description" content="← 目录"/>
<link rel="shortcut icon" href="/mediawiki/extensions/StardewValley/images/favicon.png"/>
<link rel="search" type="application/opensearchdescription+xml" href="/mediawiki/opensearch_desc.php" title="Stardew Valley Wiki (zh)"/>
<link rel="EditURI" type="application/rsd+xml" href="//zh.stardewvalleywiki.com/mediawiki/api.php?action=rsd"/>
<link rel="alternate" hreflang="zh" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh"/>
<link rel="alternate" hreflang="zh-Hans" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hans"/>
<link rel="alternate" hreflang="zh-Hant" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hant"/>
<link rel="alternate" hreflang="zh-Hans-CN" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-cn"/>
<link rel="alternate" hreflang="zh-Hant-HK" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hk"/>
<link rel="alternate" hreflang="zh-Hant-MO" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-mo"/>
<link rel="alternate" hreflang="zh-Hans-MY" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-my"/>
<link rel="alternate" hreflang="zh-Hans-SG" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-sg"/>
<link rel="alternate" hreflang="zh-Hant-TW" href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-tw"/>
<link rel="alternate" hreflang="x-default" href="/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"/>
<link rel="license" href="https://creativecommons.org/licenses/by-nc-sa/3.0/"/>
<link rel="alternate" type="application/atom+xml" title="Stardew Valley Wiki的Atom feed" href="/mediawiki/index.php?title=Special:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9&amp;feed=atom"/>
<meta property="og:title" content="模组:常用方法 - Stardew Valley Wiki"/>
<meta property="og:site_name" content="Stardew Valley Wiki"/>
<meta property="og:url" content="https://zh.stardewvalleywiki.com/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"/>
<meta property="og:description" content="← 目录"/>
<meta property="og:image" content="https://zh.stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:site" content="@stardewwiki"/>
<meta property="twitter:title" content="模组:常用方法 - Stardew Valley Wiki"/>
<meta property="twitter:description" content="← 目录"/>
<meta property="twitter:image" content="https://zh.stardewvalleywiki.com/mediawiki/extensions/StardewValley/images/site_logo_sm.png"/>
<meta property="twitter:card" content="summary_large_image"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"article","name":"\u6a21\u7ec4:\u5e38\u7528\u65b9\u6cd5 - Stardew Valley Wiki","headline":"\u6a21\u7ec4:\u5e38\u7528\u65b9\u6cd5 - Stardew Valley Wiki","mainEntityOfPage":"\u6a21\u7ec4:\u5e38\u7528\u65b9\u6cd5","identifier":"https:\/\/zh.stardewvalleywiki.com\/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95","url":"https:\/\/zh.stardewvalleywiki.com\/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95","description":"\u2190 \u76ee\u5f55","dateModified":"2024-10-22T11:52:21Z","datePublished":"2024-10-22T11:52:21Z","image":{"@type":"ImageObject","url":"https:\/\/zh.stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png"},"author":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/zh.stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/zh.stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"publisher":{"@type":"Organization","name":"Stardew Valley Wiki","url":"\/\/zh.stardewvalleywiki.com","logo":{"@type":"ImageObject","url":"https:\/\/zh.stardewvalleywiki.com\/mediawiki\/extensions\/StardewValley\/images\/site_logo_sm.png","caption":"Stardew Valley Wiki"}},"potentialAction":{"@type":"SearchAction","target":"https:\/\/zh.stardewvalleywiki.com\/mediawiki\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
<!--[if lt IE 9]><script src="/mediawiki/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-570 ns-subject page-模组_常用方法 rootpage-模组_常用方法 skin-vector action-view minerva--history-page-action-enabled skin-vector-legacy">
<div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice" class="mw-body-content"></div>
	<div class="mw-indicators mw-body-content">
	</div>
	<h1 id="firstHeading" class="firstHeading" lang="zh">模组:常用方法</h1>
	<div id="bodyContent" class="mw-body-content">
		<div id="siteSub" class="noprint">来自Stardew Valley Wiki</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">跳到导航</a>
		<a class="mw-jump-link" href="#searchInput">跳到搜索</a>
		<div id="mw-content-text" lang="zh" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>← <a href="/%E6%A8%A1%E7%BB%84:%E7%9B%AE%E5%BD%95" title="模组:目录">目录</a>
</p>
<table role="presentation" class="alert" id="stub">

<tbody><tr>
<th><a href="/File:Axe.png" class="image"><img alt="Axe" src="https://stardewvalleywiki.com/mediawiki/images/f/fb/Axe.png" decoding="async" width="48" height="48" /></a>
</th>
<td><span class="header">页面仍需完善</span>
<p>该页面不完善且缺少信息。您可以通过<a rel="nofollow" class="external text" href="//zh.stardewvalleywiki.com/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;action=edit">扩充内容</a>来帮助我们。
</p>
</td></tr></tbody></table>
<p>此页面展示了制作SMAPI模组时常用功能的构建方法。在阅读时，请结合参考<b><a href="/%E6%A8%A1%E7%BB%84:%E5%88%9B%E5%BB%BA_SMAPI_%E6%A8%A1%E7%BB%84" title="模组:创建 SMAPI 模组">模组制作入门</a></b>和<b><a href="/%E6%A8%A1%E7%BB%84:%E5%88%B6%E4%BD%9C%E6%8C%87%E5%8D%97/%E6%B8%B8%E6%88%8F%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84" title="模组:制作指南/游戏基本架构">游戏基本架构</a></b>。
</p>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="zh" dir="ltr"><h2 id="mw-toc-heading">目录</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.E5.9F.BA.E7.A1.80.E6.8A.80.E5.B7.A7"><span class="tocnumber">1</span> <span class="toctext">基础技巧</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#.E8.BF.BD.E8.B8.AA.E4.B8.80.E4.B8.AA.E5.80.BC.E7.9A.84.E5.8F.98.E5.8C.96"><span class="tocnumber">1.1</span> <span class="toctext">追踪一个值的变化</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#.E7.89.A9.E5.93.81_.28Items.29"><span class="tocnumber">2</span> <span class="toctext">物品 (Items)</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.E5.88.9B.E5.BB.BA.E4.B8.80.E4.B8.AA.E7.89.A9.E5.93.81_.28Object.29_.E7.9A.84.E5.AE.9E.E4.BE.8B"><span class="tocnumber">2.1</span> <span class="toctext">创建一个物品 (Object) 的实例</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.E5.9C.A8.E5.9C.B0.E4.B8.8A.E7.94.9F.E6.88.90.E7.89.A9.E5.93.81"><span class="tocnumber">2.2</span> <span class="toctext">在地上生成物品</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.E6.B7.BB.E5.8A.A0.E7.89.A9.E5.93.81.E5.88.B0.E8.83.8C.E5.8C.85_.28Inventory.29"><span class="tocnumber">2.3</span> <span class="toctext">添加物品到背包 (Inventory)</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#.E4.BB.8E.E8.83.8C.E5.8C.85.E7.A7.BB.E9.99.A4.E7.89.A9.E5.93.81"><span class="tocnumber">2.4</span> <span class="toctext">从背包移除物品</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#.E5.9C.B0.E7.82.B9_.28Locations.29"><span class="tocnumber">3</span> <span class="toctext">地点 (Locations)</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#.E8.8E.B7.E5.8F.96.E6.89.80.E6.9C.89.E5.9C.B0.E7.82.B9"><span class="tocnumber">3.1</span> <span class="toctext">获取所有地点</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#.E7.BC.96.E8.BE.91.E5.9C.B0.E5.9B.BE"><span class="tocnumber">3.2</span> <span class="toctext">编辑地图</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#.E7.8E.A9.E5.AE.B6_.28Player.29"><span class="tocnumber">4</span> <span class="toctext">玩家 (Player)</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#.E8.87.AA.E5.AE.9A.E4.B9.89.E8.B4.B4.E5.9B.BE_.28Custom_Sprite.29"><span class="tocnumber">4.1</span> <span class="toctext">自定义贴图 (Custom Sprite)</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#.E4.BD.8D.E7.BD.AE_.28Position.29"><span class="tocnumber">4.2</span> <span class="toctext">位置 (Position)</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#.E7.9B.B8.E5.AF.B9.E4.BA.8E.E5.9C.B0.E5.9B.BE_.28Map.29"><span class="tocnumber">4.2.1</span> <span class="toctext">相对于地图 (Map)</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#.E7.9B.B8.E5.AF.B9.E4.BA.8E.E8.A7.86.E9.87.8E_.28Viewport.29"><span class="tocnumber">4.2.2</span> <span class="toctext">相对于视野 (Viewport)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="#NPC"><span class="tocnumber">5</span> <span class="toctext">NPC</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#.E8.87.AA.E5.AE.9A.E4.B9.89NPC"><span class="tocnumber">5.1</span> <span class="toctext">自定义NPC</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#.E7.94.A8.E6.88.B7.E7.95.8C.E9.9D.A2_.28UI.29"><span class="tocnumber">6</span> <span class="toctext">用户界面 (UI)</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#HUD.E6.B6.88.E6.81.AF"><span class="tocnumber">6.1</span> <span class="toctext">HUD消息</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#.E8.8F.9C.E5.8D.95_.28Active_clickable_menu.29"><span class="tocnumber">6.2</span> <span class="toctext">菜单 (Active clickable menu)</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#.E5.AF.B9.E8.AF.9D.E6.A1.86_.28DialogueBox.29"><span class="tocnumber">6.3</span> <span class="toctext">对话框 (DialogueBox)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#.E9.82.AE.E4.BB.B6_.28Mail.29"><span class="tocnumber">7</span> <span class="toctext">邮件 (Mail)</span></a>
<ul>
<li class="toclevel-2 tocsection-23"><a href="#.E6.A6.82.E8.BF.B0"><span class="tocnumber">7.1</span> <span class="toctext">概述</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#.E6.B3.A8.E5.85.A5.E9.9D.99.E6.80.81.E5.86.85.E5.AE.B9_.28Inject_static_content.29"><span class="tocnumber">7.2</span> <span class="toctext">注入静态内容 (Inject static content)</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#.E5.AE.A2.E6.88.B7.E7.AB.AF.E8.B0.83.E7.94.A8.E9.9D.99.E6.80.81.E5.86.85.E5.AE.B9_.28Send_a_letter_with_static_content.29"><span class="tocnumber">7.3</span> <span class="toctext">客户端调用静态内容 (Send a letter with static content)</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#.E6.B3.A8.E5.85.A5.E5.8A.A8.E6.80.81.E5.86.85.E5.AE.B9_.28Inject_dynamic_content.29"><span class="tocnumber">7.4</span> <span class="toctext">注入动态内容 (Inject dynamic content)</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#.E5.AE.A2.E6.88.B7.E7.AB.AF.E8.B0.83.E7.94.A8.E5.8A.A8.E6.80.81.E5.86.85.E5.AE.B9_.28Send_a_letter_with_dynamic_content.29"><span class="tocnumber">7.5</span> <span class="toctext">客户端调用动态内容 (Send a letter with dynamic content)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href="#.E5.85.B6.E4.BB.96_.28Other.29"><span class="tocnumber">8</span> <span class="toctext">其他 (Other)</span></a>
<ul>
<li class="toclevel-2 tocsection-29"><a href="#.E7.AE.80.E5.8D.95.E5.8A.A8.E7.94.BB.28animation.29_.E7.9A.84.E6.B7.BB.E5.8A.A0"><span class="tocnumber">8.1</span> <span class="toctext">简单动画(animation) 的添加</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#.E6.92.AD.E6.94.BE.E4.B8.80.E6.AE.B5.E5.A3.B0.E9.9F.B3"><span class="tocnumber">8.2</span> <span class="toctext">播放一段声音</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#.E5.BC.80.E6.BA.90_.28Open_Source.29"><span class="tocnumber">9</span> <span class="toctext">开源 (Open Source)</span></a></li>
</ul>
</div>

<h2><span id="基础技巧"></span><span class="mw-headline" id=".E5.9F.BA.E7.A1.80.E6.8A.80.E5.B7.A7">基础技巧</span></h2>
<h3><span id="追踪一个值的变化"></span><span class="mw-headline" id=".E8.BF.BD.E8.B8.AA.E4.B8.80.E4.B8.AA.E5.80.BC.E7.9A.84.E5.8F.98.E5.8C.96">追踪一个值的变化</span></h3>
<p>在写模组时，你可能常常需要了解一个值的变化（什么时候变，变化前后的值分别是多少，等等）。如果该值没有包括在SMAPI内置的<b>事件</b> (event)中，那么你可以为该值创建一个私有变量，然后在SMAPI的update tick事件中刷新此变量，以达到追踪值变化的目的。
</p><p>示例见：<a href="/%E6%A8%A1%E7%BB%84:%E5%88%B6%E4%BD%9C%E6%8C%87%E5%8D%97/APIs/Events#.E5.8F.98.E5.8C.96.E7.9B.91.E6.8E.A7" title="模组:制作指南/APIs/Events">模组:制作指南/APIs/Events#变化监控</a>。
</p>
<h2><span id="物品_(Items)"></span><span class="mw-headline" id=".E7.89.A9.E5.93.81_.28Items.29">物品 (Items)</span></h2>
<p>物品 代表那些能够放在背包里的东西，比如说工具、农作物等等。
</p>
<h3><span id="创建一个物品_(Object)_的实例"></span><span class="mw-headline" id=".E5.88.9B.E5.BB.BA.E4.B8.80.E4.B8.AA.E7.89.A9.E5.93.81_.28Object.29_.E7.9A.84.E5.AE.9E.E4.BE.8B">创建一个物品 (Object) 的实例</span></h3>
<p>Object中所有的构造函数：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">,</span> <span class="kt">int</span> <span class="n">price</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">quality</span> <span class="p">=</span> <span class="m">0</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">Object</span><span class="p">(</span><span class="n">Vector2</span> <span class="n">tileLocation</span><span class="p">,</span> <span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">string</span> <span class="n">Givenname</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">canBeSetDown</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">canBeGrabbed</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isHoedirt</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isSpawnedObject</span><span class="p">);</span>
</pre></div>
<p>参数parentSheetIndex表示该物品的ID（储存在 ObjectInformation.xnb 文件中）。
</p>
<h3><span id="在地上生成物品"></span><span class="mw-headline" id=".E5.9C.A8.E5.9C.B0.E4.B8.8A.E7.94.9F.E6.88.90.E7.89.A9.E5.93.81">在地上生成物品</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">public</span> <span class="k">virtual</span> <span class="kt">bool</span> <span class="nf">dropObject</span><span class="p">(</span><span class="n">Object</span> <span class="n">obj</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">dropLocation</span><span class="p">,</span> <span class="n">xTile</span><span class="p">.</span><span class="n">Dimensions</span><span class="p">.</span><span class="n">Rectangle</span> <span class="n">viewport</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">initialPlacement</span><span class="p">,</span> <span class="n">Farmer</span> <span class="n">who</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>

 <span class="c1">// 调用：</span>
 <span class="n">Game1</span><span class="p">.</span><span class="n">getLocationFromName</span><span class="p">(</span><span class="s">&quot;Farm&quot;</span><span class="p">).</span><span class="n">dropObject</span><span class="p">(</span><span class="k">new</span> <span class="n">StardewValley</span><span class="p">.</span><span class="n">Object</span><span class="p">(</span><span class="n">itemId</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="k">false</span><span class="p">,</span> <span class="p">-</span><span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">),</span> <span class="k">new</span> <span class="n">Vector2</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="p">*</span> <span class="m">64f</span><span class="p">,</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">,</span> <span class="k">true</span><span class="p">,</span> <span class="p">(</span><span class="n">Farmer</span><span class="p">)</span><span class="k">null</span><span class="p">);</span>
</pre></div>
<h3><span id="添加物品到背包_(Inventory)"></span><span class="mw-headline" id=".E6.B7.BB.E5.8A.A0.E7.89.A9.E5.93.81.E5.88.B0.E8.83.8C.E5.8C.85_.28Inventory.29">添加物品到背包 (Inventory)</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// You can add items found in ObjectInformation using:</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">addItemByMenuIfNecessary</span><span class="p">((</span><span class="n">Item</span><span class="p">)</span><span class="k">new</span> <span class="n">StardewValley</span><span class="p">.</span><span class="n">Object</span><span class="p">(</span><span class="kt">int</span> <span class="n">parentSheetIndex</span><span class="p">,</span> <span class="kt">int</span> <span class="n">initialStack</span><span class="p">,</span> <span class="p">[</span><span class="kt">bool</span> <span class="n">isRecipe</span> <span class="p">=</span> <span class="k">false</span><span class="p">],</span> <span class="p">[</span><span class="kt">int</span> <span class="n">price</span> <span class="p">=</span> <span class="p">-</span><span class="m">1</span><span class="p">],</span> <span class="p">[</span><span class="kt">int</span> <span class="n">quality</span> <span class="p">=</span> <span class="m">0</span><span class="p">]));</span>
</pre></div>
<p>例2：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// Add a weapon directly into player&#39;s inventory</span>
    <span class="k">const</span> <span class="kt">int</span> <span class="n">WEAP_ID</span> <span class="p">=</span> <span class="m">19</span><span class="p">;</span>                  <span class="c1">// Shadow Dagger -- see Data/weapons</span>
    <span class="n">Item</span> <span class="n">weapon</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MeleeWeapon</span><span class="p">(</span><span class="n">WEAP_ID</span><span class="p">);</span>  <span class="c1">// MeleeWeapon is a class in StardewValley.Tools</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">addItemByMenuIfNecessary</span><span class="p">(</span><span class="n">weapon</span><span class="p">);</span>

    <span class="c1">// Note: This code WORKS.</span>
</pre></div>
<h3><span id="从背包移除物品"></span><span class="mw-headline" id=".E4.BB.8E.E8.83.8C.E5.8C.85.E7.A7.BB.E9.99.A4.E7.89.A9.E5.93.81">从背包移除物品</span></h3>
<p>取决于你背包的具体情况。很少有情况需要你亲自来调用，因为相关的方法在Farmer类中已经有了。
</p><p>在大多数情况下，仅需调用 .removeItemFromInventory(Item) 方法。
</p>
<h2><span id="地点_(Locations)"></span><span class="mw-headline" id=".E5.9C.B0.E7.82.B9_.28Locations.29">地点 (Locations)</span></h2>
<p>见 <a href="/%E6%A8%A1%E7%BB%84:%E5%88%B6%E4%BD%9C%E6%8C%87%E5%8D%97/%E6%B8%B8%E6%88%8F%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84#.E5.9C.B0.E7.82.B9" title="模组:制作指南/游戏基本架构">游戏基本架构#地点</a>。
</p>
<h3><span id="获取所有地点"></span><span class="mw-headline" id=".E8.8E.B7.E5.8F.96.E6.89.80.E6.9C.89.E5.9C.B0.E7.82.B9">获取所有地点</span></h3>
<p><code>Game1.locations</code>属性中虽然储存着主要的地点，但是不包括<i>建筑的室内</i>(constructed building interiors)。以下这个方法提供了主玩家的所有地点。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">/// &lt;summary&gt;Get all game locations.&lt;/summary&gt;</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">GameLocation</span><span class="p">&gt;</span> <span class="n">GetLocations</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">Game1</span><span class="p">.</span><span class="n">locations</span>
        <span class="p">.</span><span class="n">Concat</span><span class="p">(</span>
            <span class="k">from</span> <span class="n">location</span> <span class="k">in</span> <span class="n">Game1</span><span class="p">.</span><span class="n">locations</span><span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">BuildableGameLocation</span><span class="p">&gt;()</span>
            <span class="k">from</span> <span class="n">building</span> <span class="k">in</span> <span class="n">location</span><span class="p">.</span><span class="n">buildings</span>
            <span class="k">where</span> <span class="n">building</span><span class="p">.</span><span class="n">indoors</span><span class="p">.</span><span class="n">Value</span> <span class="p">!=</span> <span class="k">null</span>
            <span class="k">select</span> <span class="n">building</span><span class="p">.</span><span class="n">indoors</span><span class="p">.</span><span class="n">Value</span>
        <span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>遍历：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">foreach</span> <span class="p">(</span><span class="n">GameLocation</span> <span class="n">location</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="n">GetLocations</span><span class="p">())</span>
<span class="p">{</span>
   <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
<p>注意：在联机模式中，客机是拿不到上述所有地点的。要解决这一问题，见<a href="/%E6%A8%A1%E7%BB%84:%E5%88%B6%E4%BD%9C%E6%8C%87%E5%8D%97/APIs/Multiplayer#Get_active_locations" title="模组:制作指南/APIs/Multiplayer">获取有效的地点</a>。
</p>
<h3><span id="编辑地图"></span><span class="mw-headline" id=".E7.BC.96.E8.BE.91.E5.9C.B0.E5.9B.BE">编辑地图</span></h3>
<p>见<a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%9C%B0%E5%9B%BE%E6%95%B0%E6%8D%AE&amp;action=edit&amp;redlink=1" class="new" title="模组:地图数据（页面不存在）">模组:地图数据</a>。
</p>
<h2><span id="玩家_(Player)"></span><span class="mw-headline" id=".E7.8E.A9.E5.AE.B6_.28Player.29">玩家 (Player)</span></h2>
<h3><span id="自定义贴图_(Custom_Sprite)"></span><span class="mw-headline" id=".E8.87.AA.E5.AE.9A.E4.B9.89.E8.B4.B4.E5.9B.BE_.28Custom_Sprite.29">自定义贴图 (Custom Sprite)</span></h3>
<h3><span id="位置_(Position)"></span><span class="mw-headline" id=".E4.BD.8D.E7.BD.AE_.28Position.29">位置 (Position)</span></h3>
<p>角色(Character) 的位置(Position) 表示他在当前地点(Location) 的坐标。
</p>
<h4><span id="相对于地图_(Map)"></span><span class="mw-headline" id=".E7.9B.B8.E5.AF.B9.E4.BA.8E.E5.9C.B0.E5.9B.BE_.28Map.29">相对于地图 (Map)</span></h4>
<p>每个地点(location) 都有一个对应的xTile地图(map)。如果以像素(pixel) 为单位，地图左上角坐标代表<i>(0, 0)</i>，坐下角则代表<samp>(location.Map.DisplayWidth, location.Map.DisplayHeight)</samp>。
角色在当前地点的位置有两种表达方式：
</p>
<ul><li>以像素(pixel) 为单位的绝对(absoulte) 坐标：<code>Position.X</code>与<code>Position.Y</code>。</li>
<li>以图块(tile) 为单位的图块(tile) 坐标：<code>getTileX()</code>与<code>getTileY()</code>。</li></ul>
<p>常量<code>Game1.tileSize</code>规定，游戏内每个图块(tile) 大小为64x64像素。于是有以下单位换算：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">// 绝对坐标 → 图块坐标</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">X</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">Y</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>

<span class="c1">// 图块坐标 → 绝对坐标</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">getTileX</span><span class="p">()</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">getTileY</span><span class="p">()</span> <span class="p">*</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span>

<span class="c1">// 地图大小（以图块为单位）</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">currentLocation</span><span class="p">.</span><span class="n">Map</span><span class="p">.</span><span class="n">DisplayWidth</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
<span class="n">Math</span><span class="p">.</span><span class="n">Floor</span><span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">currentLocation</span><span class="p">.</span><span class="n">Map</span><span class="p">.</span><span class="n">DisplayHeight</span> <span class="p">/</span> <span class="n">Game1</span><span class="p">.</span><span class="n">tileSize</span><span class="p">)</span>
</pre></div>
<h4><span id="相对于视野_(Viewport)"></span><span class="mw-headline" id=".E7.9B.B8.E5.AF.B9.E4.BA.8E.E8.A7.86.E9.87.8E_.28Viewport.29">相对于视野 (Viewport)</span></h4>
<p>视野、视口、视窗(Viewport) 代表在当前屏幕上的区域。若以像素计算，其宽高应该与游戏的屏幕分辨率相等，分别为<code>Game1.viewport.Width</code>和<code>Game1.viewport.Height</code>。
</p><p>玩家相对于视野的位置（像素）可表示为：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">X</span> <span class="p">-</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">X</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">Y</span> <span class="p">-</span> <span class="n">Game1</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">Y</span>
</pre></div>
<h2><span class="mw-headline" id="NPC">NPC</span></h2>
<h3><span id="自定义NPC"></span><span class="mw-headline" id=".E8.87.AA.E5.AE.9A.E4.B9.89NPC">自定义NPC</span></h3>
<p>想要自定义NPC，你得修改或添加以下文件：
</p><p>格式： <i><b>具体操作</b></i>：<i><b>（往）目标文件夹或文件名</b></i>
</p>
<ul><li>添加新文件：<samp>Characters\Dialogue\&lt;文件名&gt;</samp></li>
<li>添加新文件：<samp>Characters\schedules\&lt;文件名&gt;</samp></li>
<li>添加新文件：<samp>Portraits\&lt;文件名&gt;</samp></li>
<li>添加新文件：<samp>Characters\&lt;文件名&gt;</samp></li>
<li>在已有文件中添加新的条目：<samp>Data\EngagementDialogue</samp>（可结婚NPC）</li>
<li>在已有文件中添加新的条目：<samp>Data\NPCDispositions</samp></li>
<li>在已有文件中添加新的条目：<samp>Data\NPCGiftTastes</samp></li>
<li>在已有文件中添加新的条目：<samp>Characters\Dialogue\rainy</samp></li>
<li>在已有文件中添加新的条目：<samp>Data\animationDescriptions</samp>（在行程(schedule) 中增加自定义的动画）</li></ul>
<p>以上所有的操作都可以通过<code>IAssetLoaders</code>/<code>IAssetEditors</code>或者<code>Content Patcher</code>做到。
</p><p>最后，你需要调用<code>NPC</code>的构造器来创建实例。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">public</span> <span class="nf">NPC</span><span class="p">(</span><span class="n">AnimatedSprite</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">position</span><span class="p">,</span> <span class="kt">int</span> <span class="n">facingDir</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">LocalizedContentManager</span> <span class="n">content</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">NPC</span><span class="p">(</span><span class="n">AnimatedSprite</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">position</span><span class="p">,</span> <span class="kt">string</span> <span class="n">defaultMap</span><span class="p">,</span> <span class="kt">int</span> <span class="n">facingDir</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">[]&gt;</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">Texture2D</span> <span class="n">portrait</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">eventActor</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">NPC</span><span class="p">(</span><span class="n">AnimatedSprite</span> <span class="n">sprite</span><span class="p">,</span> <span class="n">Vector2</span> <span class="n">position</span><span class="p">,</span> <span class="kt">string</span> <span class="n">defaultMap</span><span class="p">,</span> <span class="kt">int</span> <span class="n">facingDirection</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">datable</span><span class="p">,</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">[]&gt;</span> <span class="n">schedule</span><span class="p">,</span> <span class="n">Texture2D</span> <span class="n">portrait</span><span class="p">);</span>

 <span class="c1">// 调用：</span>
 <span class="n">Game1</span><span class="p">.</span><span class="n">getLocationFromName</span><span class="p">(</span><span class="s">&quot;Town&quot;</span><span class="p">).</span><span class="n">addCharacter</span><span class="p">(</span><span class="n">npc</span><span class="p">);</span>
</pre></div>
<p>若不调用<code>NPC</code>的构造器来创建实例，而是将<samp>Data\NPCDispositions</samp>的字段"SpawnIfMissing"设置为true，则在打开未拥有该Npc的存档时，会在字段"Home"的位置生成该NPC，且该NPC在当天的行程信息失效。在睡觉保存后行程信息正常。
推断原因为行程信息读取在生成缺失的Npc之后导致。
</p>
<h2><span id="用户界面_(UI)"></span><span class="mw-headline" id=".E7.94.A8.E6.88.B7.E7.95.8C.E9.9D.A2_.28UI.29">用户界面 (UI)</span></h2>
<p>用户界面(User-interface、UI) 是指一系列有关界面元素（如按钮、列表框、下拉框等等）以及它们组合起来呈现的画面（如菜单、HUD等等）。
</p><p>//TODO：欢迎补充UI方面的内容。
</p>
<h3><span id="HUD消息"></span><span class="mw-headline" id="HUD.E6.B6.88.E6.81.AF">HUD消息</span></h3>
<p>HUD消息是指你屏幕左下角时常弹出来的消息框。以下是它的构造函数（不包括一部分无关的）：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="kt">int</span> <span class="n">whatType</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">type</span><span class="p">,</span> <span class="kt">int</span> <span class="n">number</span><span class="p">,</span> <span class="kt">bool</span> <span class="k">add</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="n">Item</span> <span class="n">messageSubject</span> <span class="p">=</span> <span class="k">null</span><span class="p">);</span>
 <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="kt">string</span> <span class="n">leaveMeNull</span><span class="p">)</span>
 <span class="k">public</span> <span class="nf">HUDMessage</span><span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">,</span> <span class="n">Color</span> <span class="n">color</span><span class="p">,</span> <span class="kt">float</span> <span class="n">timeLeft</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">fadeIn</span><span class="p">)</span>
</pre></div>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/File:HUDMessage-Types-InGame.png" class="image"><img alt="" src="https://stardewvalleywiki.com/mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/200px-HUDMessage-Types-InGame.png" decoding="async" width="200" height="181" class="thumbimage" srcset="https://stardewvalleywiki.com/mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/300px-HUDMessage-Types-InGame.png 1.5x, https://stardewvalleywiki.com/mediawiki/images/thumb/1/14/HUDMessage-Types-InGame.png/400px-HUDMessage-Types-InGame.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:HUDMessage-Types-InGame.png" class="internal" title="放大"></a></div>样式一览</div></div></div>
<p>可选的<b>样式</b>(type)：
</p>
<ol><li>成就 <code>HUDMessage.achievement_type</code></li>
<li>新任务 <code>HUDMessage.newQuest_type</code></li>
<li>错误 <code>HUDMessage.error_type</code></li>
<li>体力值 <code>HUDMessage.stamina_type</code></li>
<li>生命值 <code>HUDMessage.health_type</code></li></ol>
<p><b>颜色</b>(color)：
</p><p>第1、2个构造器并没有给出表示颜色的参数，此时颜色默认为<code>Color.OrangeRed</code>。
若使用第4个构造器，颜色则与游戏内文字颜色一样。
</p><p>特别：
</p>
<ul><li><i>public HUDMessage(string type, int number, bool add, Color color, Item messageSubject = null);</i> 支持消息内容扩展。常用于金钱相关。</li>
<li><i>public HUDMessage(string message, string leaveMeNull);</i> 左侧没有图标框。</li>
<li><i>public HUDMessage(string message, Color color, float timeLeft, bool fadeIn);</i> 文字渐入效果。</li></ul>
<p><br />
示例1：
弹出一个带有<a href="/File:Error-image-ingame.png" class="image"><img alt="Error-image-ingame.png" src="https://stardewvalleywiki.com/mediawiki/images/9/91/Error-image-ingame.png" decoding="async" width="16" height="16" /></a>的消息框。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="n">Game1</span><span class="p">.</span><span class="n">addHUDMessage</span><span class="p">(</span><span class="k">new</span> <span class="n">HUDMessage</span><span class="p">(</span><span class="s">&quot;MESSAGE&quot;</span><span class="p">,</span> <span class="m">3</span><span class="p">));</span>
</pre></div>
<p>示例2：
弹出一个纯文字的消息框。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span> <span class="n">Game1</span><span class="p">.</span><span class="n">addHUDMessage</span><span class="p">(</span><span class="k">new</span> <span class="n">HUDMessage</span><span class="p">(</span><span class="s">&quot;MESSAGE&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">));</span>  <span class="c1">// second parameter is the &#39;leaveMeNull&#39; parameter</span>
</pre></div>
<h3><span id="菜单_(Active_clickable_menu)"></span><span class="mw-headline" id=".E8.8F.9C.E5.8D.95_.28Active_clickable_menu.29">菜单 (Active clickable menu)</span></h3>
<p>菜单指绘制于最顶层的UI，能够接受用户输入。比方说，当你按下<span style="display:inline-block; padding:0px 3px; border-radius:4px; border-style:outset; background:#FFFFFF; background: -webkit-linear-gradient(#FCFCFC, #E0E0E0); background: linear-gradient(#FCFCFC, #E0E0E0);">ESC</span>或<span style="display:inline-block; padding:0px 3px; border-radius:4px; border-style:outset; background:#FFFFFF; background: -webkit-linear-gradient(#FCFCFC, #E0E0E0); background: linear-gradient(#FCFCFC, #E0E0E0);">B</span>键时呈现的<code>GameMenu</code>就是一个菜单。
菜单的值储存在<code>Game1.activeClickableMenu</code>，当该字段不为null时，其值便能呈现出一个菜单了。
</p><p>每个菜单不尽相同，请阅读代码来了解其运作方式。你可能经常需要了解<code>GameMenu</code>的当前<b>栏目</b> (tab)，这是一个示例：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="k">is</span> <span class="n">GameMenu</span> <span class="n">menu</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// 获取栏目页</span>
  <span class="n">IList</span><span class="p">&lt;</span><span class="n">IClickableMenu</span><span class="p">&gt;</span> <span class="n">pages</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">Helper</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">GetField</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">IClickableMenu</span><span class="p">&gt;&gt;(</span><span class="n">menu</span><span class="p">,</span> <span class="s">&quot;pages&quot;</span><span class="p">).</span><span class="n">GetValue</span><span class="p">();</span>

  <span class="c1">// 方法1：比较栏目的ID</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">menu</span><span class="p">.</span><span class="n">currentTab</span> <span class="p">==</span> <span class="n">GameMenu</span><span class="p">.</span><span class="n">mapTab</span><span class="p">)</span>
  <span class="p">{</span>
     <span class="p">...</span>
  <span class="p">}</span>

  <span class="c1">// 方法2：比较菜单类型</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">pages</span><span class="p">[</span><span class="n">menu</span><span class="p">.</span><span class="n">currentTab</span><span class="p">])</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="n">MapPage</span> <span class="n">mapPage</span><span class="p">:</span>
       <span class="p">...</span>
       <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>如果你想要自定义菜单，请继承自<samp>IClickableMenu</samp>，将对象分配给<samp>Game1.activeClickableMenu</samp>。
一个菜单基本上重写了一些方法，如<samp>draw</samp>、<samp>receiveLeftClick </samp>等等。
<samp>draw</samp>方法绘制屏幕上的元素；<samp>receiveLeftClick </samp>方法处理左键点击事件。
你通常可以使用一些游戏封装好的类作为菜单元素，如<samp>ClickableTextureButton</samp>。
</p><p>这里提供了一个<a rel="nofollow" class="external text" href="https://github.com/janavarro95/Stardew_Valley_Mods/blob/master/GeneralMods/HappyBirthday/Framework/BirthdayMenu.cs">简单的例子</a>，这是<a rel="nofollow" class="external text" href="https://www.nexusmods.com/stardewvalley/mods/520">Birthday Mod</a>的菜单。
</p>
<h3><span id="对话框_(DialogueBox)"></span><span class="mw-headline" id=".E5.AF.B9.E8.AF.9D.E6.A1.86_.28DialogueBox.29">对话框 (DialogueBox)</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/File:DialogueBox_NoChoices_Example.jpg" class="image"><img alt="" src="https://stardewvalleywiki.com/mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/200px-DialogueBox_NoChoices_Example.jpg" decoding="async" width="200" height="65" class="thumbimage" srcset="https://stardewvalleywiki.com/mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/300px-DialogueBox_NoChoices_Example.jpg 1.5x, https://stardewvalleywiki.com/mediawiki/images/thumb/8/85/DialogueBox_NoChoices_Example.jpg/400px-DialogueBox_NoChoices_Example.jpg 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/File:DialogueBox_NoChoices_Example.jpg" class="internal" title="放大"></a></div>不带选项的对话框示例。</div></div></div>
<p>对话框有许多变种，比如有种对话框能够选择想要的对话内容。
</p><p>如果想换行，请输入"^"。
</p><p>下面是一种不带选项的对话框示例：
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewValley.Menus</span><span class="p">;</span>  <span class="c1">// 引用DialogueBox类的命名空间</span>

<span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">&quot;This looks like a typewriter ... ^But it&#39;s not ...^It&#39;s a computer.^&quot;</span><span class="p">;</span>
<span class="n">Game1</span><span class="p">.</span><span class="n">activeClickableMenu</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DialogueBox</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</pre></div>
<h2><span id="邮件_(Mail)"></span><span class="mw-headline" id=".E9.82.AE.E4.BB.B6_.28Mail.29">邮件 (Mail)</span></h2>
<p>如果您不熟悉 SMAPI 或一般对 Stardew Valley 进行改装，向玩家的邮箱发送一封简单的信件是开始学习之旅的好地方。 您将接触到一些简单易懂的代码和概念，并以有形的游戏内信件的形式获得一些即时的满足，您可以在实际操作中看到这些信件。 如果本节中的示例不足，有很多人可以在 Discord 频道上为您提供帮助。
</p>
<h3><span id="概述"></span><span class="mw-headline" id=".E6.A6.82.E8.BF.B0">概述</span></h3>
<p>在您实际向播放器发送任何您自己的自定义邮件之前，您必须决定您的信件将如何撰写。 我的意思是，您的信件是静态的 - 总是相同的文本 - 还是动态的 - 文本会根据可变信息而变化？ 显然，静态信件更容易实现，所以如果你刚刚开始，现在就走这条路。 然而，静态和动态方法都在下面解释。
</p><p>要发送静态或动态邮件，您首先必须让 Stardew Valley 知道您的内容，也称为Aeest。 对于邮件，您必须将添加内容注入邮件数据。 您可以通过 IAssetEditor 界面完成此操作。 您可以从 ModEntry 类实现 IAssetEditor，或者创建一个单独的类来实现 IAssetEditor 以将新邮件内容注入“Data\Mail.xnb”。 为了清楚起见、易于重用和封装，下面引用的示例使用后一种方法：
</p>
<h3><span id="注入静态内容_(Inject_static_content)"></span><span class="mw-headline" id=".E6.B3.A8.E5.85.A5.E9.9D.99.E6.80.81.E5.86.85.E5.AE.B9_.28Inject_static_content.29">注入静态内容 (Inject static content)</span></h3>
<p>大多数情况下，一个静态的、预定义的信件就足够了，无论您是否包含附件（即对象、金钱等）。 “静态”只是意味着您不需要在发送信件之前输入文本后更改文本。 “静态”信件在游戏中始终可用（除非您将其从模组中移除或模组被玩家移除），这意味着如果玩家退出且您的信件仍在邮箱中，则该信件仍然可用稍后回来玩。这可能是“动态”字母的问题，如该部分更详细的解释，因此请尽可能使用“静态”内容。
</p><p>您可以使用“@”轻轻地引用播放器的名称，但其他可能在对话文本中起作用的替换代码，如 %pet 或 %farm，目前在静态邮件内容中不起作用。但是，您可以使用一些在字母中显示图标的特殊字符，例如“=”，将显示一个紫色的星星，“&lt;”，将显示一个粉红色的心形，“$”，将显示替换为金币，“&gt;”将显示向右箭头，“`”将显示向上箭头，“+”将显示骑着滑板的头（也许？）。可能还有其他尚未记录的特殊情况。
</p><p>下面的示例将 4 个字母添加到邮件数据集合中。请注意，下面的代码不会向玩家发送任何信件，而只是将它们提供给 Stardew Valley 游戏，以便它们可以发送。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewModdingAPI</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MyMod</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">MyModMail</span> <span class="p">:</span> <span class="n">IAssetEditor</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="nf">MyModMail</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="kt">bool</span> <span class="n">CanEdit</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">IAssetInfo</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">asset</span><span class="p">.</span><span class="n">AssetNameEquals</span><span class="p">(</span><span class="s">&quot;Data\\mail&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="n">Edit</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">IAssetData</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">AsDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;().</span><span class="n">Data</span><span class="p">;</span>

            <span class="c1">// &quot;MyModMail1&quot; is referred to as the mail Id.  It is how you will uniquely identify and reference your mail.</span>
            <span class="c1">// The @ will be replaced with the player&#39;s name.  Other items do not seem to work (&#39;&#39;i.e.,&#39;&#39; %pet or %farm)</span>
            <span class="c1">// %item object 388 50&#160;%%   - this adds 50 pieces of wood when added to the end of a letter.</span>
            <span class="c1">// %item money 250 601  %%  - this sends a random amount of gold from 250 to 601 inclusive.</span>
            <span class="c1">// %item cookingRecipe&#160;%%   - this is for recipes (did not try myself)  Not sure how it know which recipe. </span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail1&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Hello @... ^A single carat is a new line ^^Two carats will double space.&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail2&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;This is how you send an existing item via email! %item object 388 50&#160;%%&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyModMail3&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Coin $   Star =   Heart &lt;   Dude +  Right Arrow &gt;   Up Arrow `&quot;</span><span class="p">;</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;MyWizardMail&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;Include Wizard in the mail Id to use the special background on a letter&quot;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<h3><span id="客户端调用静态内容_(Send_a_letter_with_static_content)"></span><span class="mw-headline" id=".E5.AE.A2.E6.88.B7.E7.AB.AF.E8.B0.83.E7.94.A8.E9.9D.99.E6.80.81.E5.86.85.E5.AE.B9_.28Send_a_letter_with_static_content.29">客户端调用静态内容 (Send a letter with static content)</span></h3>
<p>例如，要在您自己的项目中使用此类，从而使静态邮件数据可用，请挂入 OnGameLaunch 事件。
</p><p><br />
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Fires after game is launched, right before first update tick. Happens once per game session (unrelated to loading saves).</span>
    <span class="c1">/// All mods are loaded and initialized at this point, so this is a good time to set up mod integrations.</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnGameLaunched</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">GameLaunchedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Helper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">AssetEditors</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">MyModMail</span><span class="p">());</span>
    <span class="p">}</span>
</pre></div>
<p>Now that you have your letter loaded, it's time to send it to the player.  There are a couple different methods available to accomplish this as well, depending on your need.  Two examples are shown below.  The distinction between the two methods will be explained below:
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="n">Game1</span><span class="p">.</span><span class="n">player</span><span class="p">.</span><span class="n">mailbox</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMail1&quot;</span><span class="p">);</span>
    <span class="n">Game1</span><span class="p">.</span><span class="n">addMailForTomorrow</span><span class="p">(</span><span class="s">&quot;MyModMail2&quot;</span><span class="p">);</span>
</pre></div>
<p>第一种方法（Game1.player.mailbox.Add）将信件直接添加到当天的邮箱中。例如，这可以在您的“DayStaring”事件代码中完成。即使在保存后，直接添加到邮箱的邮件也不会被“记住”为已发送。根据您的需要，这在某些情况下很有用。
</p><p>第二种方法（Game1.addMailForTomorrow），顾名思义，会在第二天将信件添加到玩家的邮箱中。此方法会记住发送的邮件 (Id)，从而可以不一遍又一遍地发送相同的信件。这可以根据您的需要在“DayStaring”、“DayEnding”或其他事件中处理。
</p><p>您可以将信件直接放入邮箱，并使用 mailRecieved 集合记住它。如果您希望在使用直接添加到邮箱方法时记住它，您可以简单地手动添加您的 mailId。
</p><p>如果您希望 Stardew Valley 忘记已经发送了特定的信件，您可以将其从 mailReceived 集合中删除。如果您需要批量删除邮件，您也可以使用 foreach 遍历集合。
</p><p>这就是发送一封简单的信件的全部内容。 附上物品和通过信件寄钱很简单，但发送食谱更复杂，以后需要一些额外的解释。
</p>
<h3><span id="注入动态内容_(Inject_dynamic_content)"></span><span class="mw-headline" id=".E6.B3.A8.E5.85.A5.E5.8A.A8.E6.80.81.E5.86.85.E5.AE.B9_.28Inject_dynamic_content.29">注入动态内容 (Inject dynamic content)</span></h3>
<p>如果您想发送一封包含需要根据情况更改的数据的信件，例如今天吃的紫色蘑菇的数量，那么您必须在每次计划发送时创建该信件内容，特别是如果您想要一个 最新值。 这就是我所说的“动态”字母。
</p><p>考虑以下源代码，它基本上是上述静态邮件类的增强版本，也将支持“动态”内容。 您当然可以始终使用此代码的增强版本，除非需要，否则不要使用动态内容。 代码被分开是为了说明差异。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="k">using</span> <span class="nn">StardewModdingAPI</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">MyMail</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">MailData</span> <span class="p">:</span> <span class="n">IAssetEditor</span>
    <span class="p">{</span>
        <span class="c1">// This collection holds any letters loaded after the initial load or last cache refresh</span>
        <span class="k">private</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">dynamicMail</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>

        <span class="k">public</span> <span class="nf">MailData</span><span class="p">()</span>
        <span class="p">{</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="kt">bool</span> <span class="n">CanEdit</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">IAssetInfo</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">asset</span><span class="p">.</span><span class="n">AssetNameEquals</span><span class="p">(</span><span class="s">&quot;Data\\mail&quot;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">void</span> <span class="n">Edit</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">IAssetData</span> <span class="n">asset</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">data</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">AsDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;().</span><span class="n">Data</span><span class="p">;</span>

            <span class="c1">// This is just an example</span>
            <span class="n">data</span><span class="p">[</span><span class="s">&quot;StaticMail&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;If there were any letters with static content they could be placed here.&quot;</span><span class="p">;</span>

            <span class="c1">// Inject any mail that was added after the initial load.</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">dynamicMail</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">data</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="n">dynamicMail</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>    <span class="c1">// For the usage of this MOD the letters are cleared</span>
        <span class="p">}</span>

        <span class="c1">/// &lt;summary&gt;</span>
        <span class="c1">/// Add a new mail asset into the collection so it can be injected by the next cache refresh.  The letter will</span>
        <span class="c1">/// not be available to send until the cache is invalidated in the code.</span>
        <span class="c1">/// &lt;/summary&gt;</span>
        <span class="c1">/// &lt;param name=&quot;mailId&quot;&gt;The mail key&lt;/param&gt;</span>
        <span class="c1">/// &lt;param name=&quot;mailText&quot;&gt;The mail text&lt;/param&gt;</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">Add</span><span class="p">(</span><span class="kt">string</span> <span class="n">mailId</span><span class="p">,</span> <span class="kt">string</span> <span class="n">mailText</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">mailId</span><span class="p">))</span>
            <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">dynamicMail</span><span class="p">.</span><span class="n">ContainsKey</span><span class="p">(</span><span class="n">mailId</span><span class="p">))</span>
                    <span class="n">dynamicMail</span><span class="p">[</span><span class="n">mailId</span><span class="p">]</span> <span class="p">=</span> <span class="n">mailText</span><span class="p">;</span>
                <span class="k">else</span>
                    <span class="n">dynamicMail</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">mailId</span><span class="p">,</span> <span class="n">mailText</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>您会注意到用于静态邮件和动态邮件的代码实际上几乎没有区别。支持动态邮件的类有一个私有字典集合，用于保存等待注入的任何邮件内容。本来可以公开以允许将邮件直接添加到集合中，但这不是一个好的做法。相反，提供了一个公共 Add 方法，以便可以将邮件发送到集合。此代码适用于特定的 MOD，而不是健壮的框架，因此不会过分关注错误处理。您可以根据自己的需要进行改进。
</p><p>请注意 Edit 方法中的附加代码，其中 dynamicMail 集合中的任何邮件都被注入到 Stardew Valley 的内容中。第一次加载MOD时（在这种情况下），dynamicMail集合中将没有邮件。如果在原始加载后添加邮件，则必须通过使缓存无效来重新加载内容。更多细节请参考<a href="/mediawiki/index.php?title=Modding:Modder_Guide/APIs/Content&amp;action=edit&amp;redlink=1" class="new" title="Modding:Modder Guide/APIs/Content（页面不存在）">Cache invalidation</a>。
</p>
<h3><span id="客户端调用动态内容_(Send_a_letter_with_dynamic_content)"></span><span class="mw-headline" id=".E5.AE.A2.E6.88.B7.E7.AB.AF.E8.B0.83.E7.94.A8.E5.8A.A8.E6.80.81.E5.86.85.E5.AE.B9_.28Send_a_letter_with_dynamic_content.29">客户端调用动态内容 (Send a letter with dynamic content)</span></h3>
<p>例如，要在您自己的项目中使用此类，从而使动态邮件可用，请挂入 OnGameLaunch 事件。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="c1">// Make this available to other methods in the class to access</span>
    <span class="k">private</span> <span class="n">MailData</span> <span class="n">mailData</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MailData</span><span class="p">();</span>

    <span class="c1">/// &lt;summary&gt;</span>
    <span class="c1">/// Fires after game is launched, right before first update tick. Happens once per game session (unrelated to loading saves).</span>
    <span class="c1">/// All mods are loaded and initialized at this point, so this is a good time to set up mod integrations.</span>
    <span class="c1">/// &lt;/summary&gt;</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnGameLaunched</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">GameLaunchedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Helper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">AssetEditors</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">mailData</span><span class="p">);</span>
    <span class="p">}</span>
</pre></div>
<p>您可以连接到其他事件，例如“开始日期”或“结束日期”以生成要发送的信件。 考虑这个简单的例子，它仅用于说明目的。
</p>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span>    <span class="k">private</span> <span class="k">void</span> <span class="nf">OnDayStarting</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">DayStartedEventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">mailMessage</span> <span class="p">=</span> <span class="err">$</span><span class="s">&quot;@, you have gathered {Game1.stats.rabbitWoolProduced} units of rabbit wool!&quot;</span><span class="p">;</span>

        <span class="n">mailData</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMailWool&quot;</span><span class="p">,</span> <span class="n">mailMessage</span><span class="p">);</span>      <span class="c1">// Add this new letter to the mail collection (for next refresh).</span>

        <span class="n">Game1</span><span class="p">.</span><span class="n">mailbox</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="s">&quot;MyModMailWool&quot;</span><span class="p">);</span>              <span class="c1">// Add to mailbox and we don&#39;t need to track it</span>

        <span class="n">modHelper</span><span class="p">.</span><span class="n">Content</span><span class="p">.</span><span class="n">InvalidateCache</span><span class="p">(</span><span class="s">&quot;Data\\mail&quot;</span><span class="p">);</span> <span class="c1">// (modHelper was assigned in ModEntry for use throughout the class)</span>
    <span class="p">}</span>
</pre></div>
<p>此示例格式化一封信，显示最新的兔毛计数，使其可用于邮件收集，将该信放入邮箱，然后使缓存无效，以便在缓存刷新期间注入此新信.在这种情况下，不需要记住 mailId，因为每次需要发送信件时都会重新创建该信件，在本例中是每天。同样，此代码仅用于说明该概念。
</p><p>在以这种简单的方式注入邮件时，需要了解一个重要的警告。可用的各种邮件框架处理这个问题，本节将被扩展以解释如何解决这个问题，但在此处进行介绍是为了确保您完全了解 MOD 如何与 Stardew Valley 和 SMAPI 一起工作。
</p><p>如果添加动态信件并在Day Ending 的内容中注入它，显然您必须添加明天显示的邮件。这意味着游戏将通过对邮箱中待处理的动态信件（在本例中为“MyMailModWool”）的引用来保存。如果玩家此时退出游戏并稍后返回继续玩，则该动态字母不可用，从而导致“幻影字母”。邮箱将显示一封可用的信件，但单击时不会显示任何内容。这可以通过多种方式处理，包括保存自定义字母并在玩家继续时加载它们，但同样，此示例代码尚未涵盖这一点。这就是该示例使用 On Day Start 并立即使信件可用的原因。
</p>
<h2><span id="其他_(Other)"></span><span class="mw-headline" id=".E5.85.B6.E4.BB.96_.28Other.29">其他 (Other)</span></h2>
<h3><span id="简单动画(animation)_的添加"></span><span class="mw-headline" id=".E7.AE.80.E5.8D.95.E5.8A.A8.E7.94.BB.28animation.29_.E7.9A.84.E6.B7.BB.E5.8A.A0">简单动画(animation) 的添加</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">location</span><span class="p">.</span><span class="n">temporarySprites</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">TemporaryAnimatedSprite</span><span class="p">(...));</span>
</pre></div>
<p>详见<samp>TemporaryAnimatedSprite</samp>类。
</p>
<h3><span id="播放一段声音"></span><span class="mw-headline" id=".E6.92.AD.E6.94.BE.E4.B8.80.E6.AE.B5.E5.A3.B0.E9.9F.B3">播放一段声音</span></h3>
<div class="mw-highlight mw-highlight-lang-c# mw-content-ltr" dir="ltr"><pre><span></span><span class="n">location</span><span class="p">.</span><span class="n">playSound</span><span class="p">(</span><span class="s">&quot;SOUND&quot;</span><span class="p">);</span>  <span class="c1">// &quot;SOUND&quot;为声音的名字</span>
</pre></div>
<p>详见<a rel="nofollow" class="external text" href="https://docs.google.com/spreadsheets/d/1CpDrw23peQiq-C7F2FjYOMePaYe0Rc9BwQsj3h6sjyo/edit#gid=239695361">声音名字一览</a>。
</p>
<h2><span id="开源_(Open_Source)"></span><span class="mw-headline" id=".E5.BC.80.E6.BA.90_.28Open_Source.29">开源 (Open Source)</span></h2>
<p>详见<a href="/%E6%A8%A1%E7%BB%84:%E6%A8%A1%E7%BB%84%E5%85%BC%E5%AE%B9%E6%80%A7" title="模组:模组兼容性">模组大全</a>中<b>源代码(source)</b>一栏。
</p>
<!-- 
NewPP limit report
Cached time: 20250329084120
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.156 seconds
Real time usage: 3.341 seconds
Preprocessor visited node count: 249/1000000
Post‐expand include size: 1212/2097152 bytes
Template argument size: 4/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 36792/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1640.631      1 -total
  0.13%    2.199      1 Template:Stub
  0.10%    1.657      2 Template:Key
-->

<!-- Saved in parser cache with key zhwiki:pcache:idhash:1852-0!canonical!zh and timestamp 20250329084117 and revision id 49422
 -->
</div></div><div class="printfooter">取自“<a dir="ltr" href="https://zh.stardewvalleywiki.com/mediawiki/index.php?title=模组:常用方法&amp;oldid=49422">https://zh.stardewvalleywiki.com/mediawiki/index.php?title=模组:常用方法&amp;oldid=49422</a>”</div>
		<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/Special:%E9%A1%B5%E9%9D%A2%E5%88%86%E7%B1%BB" title="Special:页面分类">分类</a>：<ul><li><a href="/Category:%E5%BE%85%E6%89%A9%E5%85%85%E9%A1%B5%E9%9D%A2" title="Category:待扩充页面">待扩充页面</a></li></ul></div></div>
	</div>
</div>

<div id="mw-navigation">
	<h2>导航菜单</h2>
	<div id="mw-head">
		<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-personal" class="vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label">
		<span>个人工具</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="pt-createaccount"><a href="/mediawiki/index.php?title=Special:%E5%88%9B%E5%BB%BA%E8%B4%A6%E6%88%B7&amp;returnto=%E6%A8%A1%E7%BB%84%3A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95" title="建议您创建一个账户并登录，但这不是强制的">创建账户</a></li><li id="pt-login"><a href="/mediawiki/index.php?title=Special:%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95&amp;returnto=%E6%A8%A1%E7%BB%84%3A%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95" title="我们鼓励您登录；然而，这不是强制性的[o]" accesskey="o">登录</a></li></ul>
		
	</div>
</nav>


		<div id="left-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-namespaces" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label">
		<span>名字空间</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-nstab-模组" class="selected"><a href="/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95">模组</a></li><li id="ca-talk"><a href="/%E6%A8%A1%E7%BB%84_talk:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95" rel="discussion" title="关于内容页面的讨论[t]" accesskey="t">讨论</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-variants" class="vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label">
		<span>不转换</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"><li id="ca-varlang-0" class="selected"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh" lang="zh" hreflang="zh">不转换</a></li><li id="ca-varlang-1"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hans" lang="zh-Hans" hreflang="zh-Hans">简体</a></li><li id="ca-varlang-2"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hant" lang="zh-Hant" hreflang="zh-Hant">繁體</a></li><li id="ca-varlang-3"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-cn" lang="zh-Hans-CN" hreflang="zh-Hans-CN">大陆简体</a></li><li id="ca-varlang-4"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-hk" lang="zh-Hant-HK" hreflang="zh-Hant-HK">香港繁體</a></li><li id="ca-varlang-5"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-mo" lang="zh-Hant-MO" hreflang="zh-Hant-MO">澳門繁體</a></li><li id="ca-varlang-6"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-my" lang="zh-Hans-MY" hreflang="zh-Hans-MY">大马简体</a></li><li id="ca-varlang-7"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-sg" lang="zh-Hans-SG" hreflang="zh-Hans-SG">新加坡简体</a></li><li id="ca-varlang-8"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;variant=zh-tw" lang="zh-Hant-TW" hreflang="zh-Hant-TW">台灣正體</a></li></ul>
		
	</div>
</nav>


		</div>
		<div id="right-navigation">
			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-views" class="vector-menu vector-menu-tabs vectorTabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label">
		<span>视图</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="ca-view" class="collapsible selected"><a href="/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95">阅读</a></li><li id="ca-viewsource" class="collapsible"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;action=edit" title="本页面受到保护。您可以查看其源代码[e]" accesskey="e">查看源代码</a></li><li id="ca-history" class="collapsible"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;action=history" title="本页面过去的版本[h]" accesskey="h">查看历史</a></li></ul>
		
	</div>
</nav>


			<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-cactions" class="vector-menu-empty emptyPortlet vector-menu vector-menu-dropdown vectorMenu" aria-labelledby="p-cactions-label" role="navigation" 
	 >
	<input type="checkbox" class="vector-menu-checkbox vectorMenuCheckbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label">
		<span>更多</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="menu vector-menu-content-list"></ul>
		
	</div>
</nav>


			<div id="p-search" role="search">
	<h3 >
		<label for="searchInput">搜索</label>
	</h3>
	<form action="/mediawiki/index.php" id="searchform">
		<div id="simpleSearch">
			<input type="search" name="search" placeholder="搜索Stardew Valley Wiki" title="搜索Stardew Valley Wiki[f]" accesskey="f" id="searchInput"/>
			<input type="hidden" name="title" value="Special:搜索">
			<input type="submit" name="fulltext" value="搜索" title="搜索含这些文字的页面" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
			<input type="submit" name="go" value="前往" title="若相同标题存在，则直接前往该页面" id="searchButton" class="searchButton"/>
		</div>
	</form>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a  title="访问首页" class="mw-wiki-logo" href="/Stardew_Valley_Wiki"></a>
	</div>
	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-navigation" class="vector-menu vector-menu-portal portal portal-first" aria-labelledby="p-navigation-label" role="navigation" 
	 >
	<h3 id="p-navigation-label">
		<span>导航</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-mainpage-description"><a href="/Stardew_Valley_Wiki" title="访问首页[z]" accesskey="z">首页</a></li><li id="n-recentchanges"><a href="/Special:%E6%9C%80%E8%BF%91%E6%9B%B4%E6%94%B9" title="本wiki最近更改的列表[r]" accesskey="r">最近更改</a></li><li id="n-.E6.9C.AA.E7.BF.BB.E8.AF.91.E7.9A.84.E9.A1.B5.E9.9D.A2"><a href="/Category:%E6%9C%AA%E7%BF%BB%E8%AF%91%E7%9A%84%E9%A1%B5%E9%9D%A2">未翻译的页面</a></li><li id="n-.E5.B8.AE.E5.8A.A9:.E7.BC.96.E8.BE.91.E5.85.A5.E9.97.A8"><a href="/Help:%E7%BC%96%E8%BE%91%E5%85%A5%E9%97%A8">帮助:编辑入门</a></li><li id="n-randompage"><a href="/Special:%E9%9A%8F%E6%9C%BA%E9%A1%B5%E9%9D%A2" title="载入一个随机页面[x]" accesskey="x">随机页面</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-链接" class="vector-menu vector-menu-portal portal" aria-labelledby="p-链接-label" role="navigation" 
	 >
	<h3 id="p-链接-label">
		<span>链接</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="n-.E5.AE.98.E6.96.B9.E7.BD.91.E7.AB.99"><a href="https://stardewvalley.net" rel="nofollow">官方网站</a></li><li id="n-.E5.AE.98.E6.96.B9.E8.AE.BA.E5.9D.9B"><a href="https://forums.stardewvalley.net/" rel="nofollow">官方论坛</a></li><li id="n-.E5.AE.98.E6.96.B9.E5.95.86.E5.93.81"><a href="https://www.stardewvalley.net/shop/" rel="nofollow">官方商品</a></li><li id="n-.E7.A4.BE.E4.BA.A4.E5.AA.92.E4.BD.93"><a href="https://www.stardewvalley.net/links/" rel="nofollow">社交媒体</a></li></ul>
		
	</div>
</nav>

<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-tb" class="vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label">
		<span>工具</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere"><a href="/Special:%E9%93%BE%E5%85%A5%E9%A1%B5%E9%9D%A2/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95" title="所有链接至本页面的wiki页面的列表[j]" accesskey="j">链入页面</a></li><li id="t-recentchangeslinked"><a href="/Special:%E9%93%BE%E5%87%BA%E6%9B%B4%E6%94%B9/%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95" rel="nofollow" title="链自本页的页面的最近更改[k]" accesskey="k">相关更改</a></li><li id="t-upload"><a href="//stardewvalleywiki.com/Special:Upload" title="上传文件[u]" accesskey="u">上传文件</a></li><li id="t-specialpages"><a href="/Special:%E7%89%B9%E6%AE%8A%E9%A1%B5%E9%9D%A2" title="所有特殊页面的列表[q]" accesskey="q">特殊页面</a></li><li id="t-print"><a href="javascript:print();" rel="alternate" title="本页面的可打印版本[p]" accesskey="p">可打印版本</a></li><li id="t-permalink"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;oldid=49422" title="本页面该版本的固定链接">固定链接</a></li><li id="t-info"><a href="/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;action=info" title="关于此页面的更多信息">页面信息</a></li></ul>
		
	</div>
</nav>


	<!-- Please do not use role attribute as CSS selector, it is deprecated. -->
<nav id="p-lang" class="vector-menu vector-menu-portal portal" aria-labelledby="p-lang-label" role="navigation" 
	 >
	<h3 id="p-lang-label">
		<span>其他语言</span>
	</h3>
	<!-- Please do not use the .body class, it is deprecated. -->
	<div class="body vector-menu-content">
		<!-- Please do not use the .menu class, it is deprecated. -->
		<ul class="vector-menu-content-list"><li class="interlanguage-link interwiki-en"><a href="https://stardewvalleywiki.com/Modding:Common_tasks" title="Modding:Common tasks – English" lang="en" hreflang="en" class="interlanguage-link-target">English</a></li><li class="interlanguage-link interwiki-ru"><a href="https://ru.stardewvalleywiki.com/%D0%9C%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D0%B8:%D0%9E%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D1%8B%D0%B5_%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D0%B8" title="Модификации:Основные возможности – русский" lang="ru" hreflang="ru" class="interlanguage-link-target">Русский</a></li></ul>
		
	</div>
</nav>


</div>

</div>

<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
		<li id="footer-info-lastmod"> 此页面最后编辑于2024年10月22日 (星期二) 11:52。</li>
		<li id="footer-info-copyright">除非另有声明，本网站内容采用<a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike</a>授权。</li>
	</ul>
	<ul id="footer-places" >
		<li id="footer-places-privacy"><a href="/Stardew_Valley_Wiki:%E9%9A%90%E7%A7%81%E6%94%BF%E7%AD%96" title="Stardew Valley Wiki:隐私政策">隐私政策</a></li>
		<li id="footer-places-about"><a href="/Stardew_Valley_Wiki:%E5%85%B3%E4%BA%8E" title="Stardew Valley Wiki:关于">关于Stardew Valley Wiki</a></li>
		<li id="footer-places-disclaimer"><a href="/Stardew_Valley_Wiki:%E5%85%8D%E8%B4%A3%E5%A3%B0%E6%98%8E" title="Stardew Valley Wiki:免责声明">免责声明</a></li>
		<li id="footer-places-mobileview"><a href="//zh.stardewvalleywiki.com/mediawiki/index.php?title=%E6%A8%A1%E7%BB%84:%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">手机版视图</a></li>
	</ul>
	<ul id="footer-icons" class="noprint">
		<li id="footer-copyrightico"><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="/mediawiki/resources/assets/licenses/cc-by-nc-sa.png" alt="Creative Commons Attribution-NonCommercial-ShareAlike" width="88" height="31" loading="lazy"/></a></li>
		<li id="footer-poweredbyico"><a href="https://www.mediawiki.org/"><img src="/mediawiki/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/mediawiki/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /mediawiki/resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31" loading="lazy"/></a></li>
	</ul>
	<div style="clear: both;"></div>
</footer>



<script src="https://www.googletagmanager.com/gtag/js?id=G-1S37VCXXZ9" async=""></script><script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1S37VCXXZ9', {"anonymize_ip":true});
</script>

<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.156","walltime":"3.341","ppvisitednodes":{"value":249,"limit":1000000},"postexpandincludesize":{"value":1212,"limit":2097152},"templateargumentsize":{"value":4,"limit":2097152},"expansiondepth":{"value":5,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":36792,"limit":5000000},"timingprofile":["100.00% 1640.631      1 -total","  0.13%    2.199      1 Template:Stub","  0.10%    1.657      2 Template:Key"]},"cachereport":{"timestamp":"20250329084120","ttl":86400,"transientcontent":false}}});mw.config.set({"wgBackendResponseTime":127});});</script></body></html>


